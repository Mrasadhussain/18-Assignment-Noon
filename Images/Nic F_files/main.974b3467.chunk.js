(this.webpackJsonpttchatagent=this.webpackJsonpttchatagent||[]).push([[0],{138:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));var a=n(55),c=Object(a.b)({name:"OnlineAgentSlice",initialState:{OnlineAgent:null,errorCode:null},reducers:{OnlineAgentReducer:function(e,t){e.OnlineAgent=t.payload},errorReducer:function(e,t){e.errorCode=t.payload}}}),i=c.actions,s=i.OnlineAgentReducer,r=(i.errorReducer,function(e){return e.parentReducer});t.c=c.reducer},148:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r}));var a=n(55),c=Object(a.b)({name:"HeaderSlice",initialState:{endChat:!1,spamUser:!1},reducers:{endChatReducer:function(e,t){e.endChat=t.payload},spamUserReducer:function(e,t){e.spamUser=t.payload}}}),i=c.actions,s=i.endChatReducer,r=i.spamUserReducer;t.a=c.reducer},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return r})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return o})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return A}));var a=n(55),c=Object(a.b)({name:"ChatMsgListSlice",initialState:{chatMsgLists:null,msgLists:[],errorCode:null,conversationObj:[],sendMsg:null,newMsg:null,fromFilter:!1,macros:null,color:[],activeProfileId:null,multiScreenConversationObj:[],forRoute:!1},reducers:{chatMsgListReducer:function(e,t){e.chatMsgLists=t.payload},errorReducer:function(e,t){e.errorCode=t.payload},conversationObj:function(e,t){e.conversationObj=t.payload},colorArrReducer:function(e,t){e.color=t.payload},sendMsgReducer:function(e,t){e.chatMsgLists=t.payload},newMsgReducer:function(e,t){e.newMsg=t.payload},fromFilterReducer:function(e,t){e.fromFilter=t.payload},macrosReducer:function(e,t){e.macros=t.payload},activeProfileIdReducer:function(e,t){e.activeProfileId=t.payload},multiScreenConversationObjReducer:function(e,t){e.multiScreenConversationObj=t.payload},forRouteReducer:function(e,t){e.forRoute=t.payload}}}),i=c.actions,s=i.chatMsgListReducer,r=(i.errorReducer,i.conversationObj),l=i.sendMsgReducer,o=i.newMsgReducer,d=i.fromFilterReducer,u=i.macrosReducer,j=i.activeProfileIdReducer,b=(i.multiScreenConversationObjReducer,i.colorArrReducer),h=i.forRouteReducer,A=function(e){return e.parentReducer};t.f=c.reducer},157:function(e,t,n){},18:function(e,t,n){"use strict";n.d(t,"H",(function(){return u})),n.d(t,"E",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return A})),n.d(t,"t",(function(){return g})),n.d(t,"s",(function(){return O})),n.d(t,"a",(function(){return m})),n.d(t,"q",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"r",(function(){return v})),n.d(t,"x",(function(){return x})),n.d(t,"y",(function(){return C})),n.d(t,"n",(function(){return I})),n.d(t,"z",(function(){return y})),n.d(t,"C",(function(){return S})),n.d(t,"G",(function(){return w})),n.d(t,"F",(function(){return N})),n.d(t,"h",(function(){return k})),n.d(t,"m",(function(){return M})),n.d(t,"B",(function(){return D})),n.d(t,"A",(function(){return L})),n.d(t,"D",(function(){return B})),n.d(t,"d",(function(){return E})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return T})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return Q})),n.d(t,"I",(function(){return z})),n.d(t,"k",(function(){return F})),n.d(t,"j",(function(){return q})),n.d(t,"b",(function(){return G})),n.d(t,"u",(function(){return V})),n.d(t,"l",(function(){return H})),n.d(t,"i",(function(){return J}));var a=n(13),c=n.n(a),i=n(25),s=n(6),r=n(121),l=n.n(r),o=l.a.create();o.interceptors.response.use((function(e){return e}),(function(e){var t,n,a=e.config;return 500!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||400!==(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||(null===a||void 0===a?void 0:a._retry)?(console.error(e),Promise.reject(e)):(a._retry=!0,Object(s.c)("","Something went wrong","error").then((function(e){return l()(a)})).catch((function(e){return console.log(e)})))}));var d=o,u=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("encodedString64"),e.next=3,d({method:"post",url:"".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/user/uploadfile/").concat(n),data:t,headers:{Authorization:a}});case 3:return i=e.sent,r="https://www.tilismtechservices.com".concat(i.data.path),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fromDate,a=t.toDate,i=t.tSearch,r=sessionStorage.getItem("encodedString64"),e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/searchchatlistwod"),{agentId:localStorage.getItem("email"),fromDate:n,toDate:a,tSearch:i},{headers:{Authorization:r}});case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/ChatAssigntoAgent"),{agentId:localStorage.getItem("email"),ChatIds:t.ChatList,opType:t.opType},{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i,r,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),a=t.agentId,i=t.forwardToAgentId,r=t.ChatList,l=t.forwardMessage,e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/forwardchats"),{agentId:a,forwardToAgentId:i,ChatList:r,forwardMessage:l},{headers:{Authorization:n}});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i,r,l,o,u,j,b,h,A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentId,a=t.dateFrom,i=t.dateTo,r=t.searchP,l=t.searchM,o=t.chatType,u=t.chatId,j=t.departmentId,b=t.selectedAgent,h=sessionStorage.getItem("encodedString64"),e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/searchallchatlist_v2"),{agentId:n,fromDate:a,toDate:i,pSearch:r,mSearch:l,chatType:o,chatId:u,departmentId:j,selectedAgent:b},{headers:{Authorization:h}});case 4:return A=e.sent,e.abrupt("return",A);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentID,a=sessionStorage.getItem("encodedString64"),e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getdepartment"),{agentId:n},{headers:{Authorization:a}});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=localStorage.getItem("email"),t=sessionStorage.getItem("encodedString64");return d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getchatreasons"),{agentId:e},{headers:{Authorization:t}})},m=function(e,t){var n=localStorage.getItem("email"),a=sessionStorage.getItem("encodedString64");return d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/initiatechatwd"),{agentId:n,ProfileId:t.conversation.profileId,departmentId:e||null},{headers:{Authorization:a}})},p=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getchatclosestatus"),{agentId:n,chatId:t},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/setchatclosestatus_v2"),{agentId:i,chatId:t,reasonsList:n,chatType:a},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getchatdatabyid"),{agentId:n,chatId:t.chatId},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getoldchatlistwm"),{agentId:n,ProfileId:t.profileId},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getoldchatlistwm"),{mSearch:t.mSearch,ProfileId:t.ProfileId,agentId:n},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("email"),a=t.profileId,e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getprofiledetail"),{agentId:n,ProfileId:a},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("email"),n=d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getpdmessages"),{agentId:t},{headers:{Authorization:sessionStorage.getItem("encodedString64")}}),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/initiatechat_v2"),t,{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/initiatechatbyagent"),t,{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/setAgentSettings"),{agentId:n,notiSound:t.toString()},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("email"))){e.next=6;break}return e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getAgentSettings"),{agentId:t},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getonlineagent"),{agentId:t},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("email"),e.next=3,l.a.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getwebvisitors"),{agentId:t},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("email"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getwebvisitordet"),{agentId:n,visitorId:t},{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/initiatewebchat"),t,{headers:{Authorization:sessionStorage.getItem("encodedString64")}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/chattowait"),{agentId:localStorage.getItem("email"),ChatIds:t.ChatList,opType:t.opType},{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getagentbasicdata"),{agentId:null===t||void 0===t?void 0:t.agentID,fromDate:null===t||void 0===t?void 0:t.dateFrom,toDate:null===t||void 0===t?void 0:t.dateTo},{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getallagentbasicdata"),{agentId:localStorage.getItem("email"),fromDate:null===t||void 0===t?void 0:t.dateFrom,toDate:null===t||void 0===t?void 0:t.dateTo},{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getlistchattype"),{agentId:localStorage.getItem("email")},{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/searchuser"),t,{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("encodedString64"),e.next=3,d({method:"post",url:"".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/user/uploadfileagent"),data:t,headers:{Authorization:a}});case 3:return i=e.sent,r="https://www.tilismtechservices.com".concat(i.data.path),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentID,a=sessionStorage.getItem("encodedString64"),e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/v1/getformslist"),{agentId:n},{headers:{Authorization:a}});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentID,a=sessionStorage.getItem("encodedString64"),e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/v1/getformsfields"),{agentId:n,formId:t.formId},{headers:{Authorization:a}});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/v1/submitform"),t,{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("encodedString64"),e.next=3,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/v1/getformsagentlist"),t,{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("encodedString64"),n=localStorage.getItem("email"),e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/v1/getformsgrouplist"),{agentID:n},{headers:{Authorization:t}});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentID,a=sessionStorage.getItem("encodedString64"),e.next=4,d.post("".concat(Object(s.a)(),"/").concat(Object(s.e)(),"/agent/getformsdepartment"),{agentId:n},{headers:{Authorization:a}});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},298:function(e,t,n){},299:function(e,t,n){},355:function(e,t,n){},359:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){},43:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"m",(function(){return j})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return A})),n.d(t,"g",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return v}));var a=n(55),c=n(23),i=n.n(c),s=i()().format(),r=i()().subtract(1,"days").format(),l=Object(a.b)({name:"ChatRequestSlice",initialState:{ChatRequestList:null,errorCode:null,isJoin:!1,totPending:"0",supervisorChatRequest:null,requestNotification:null,searchChatList:[],openDateFilterState:!1,toDateState:s,fromDateState:r,showVisitor:"",groupId:null},reducers:{ChatRequestReducer:function(e,t){e.ChatRequestList=t.payload},errorReducer:function(e,t){e.errorCode=t.payload},isJoinReducer:function(e,t){e.isJoin=t.payload},totPendingReducer:function(e,t){e.totPending=t.payload},supervisorChatRequestReducer:function(e,t){e.supervisorChatRequest=t.payload},requestNotificationReducer:function(e,t){e.requestNotification=t.payload},searchChatReducer:function(e,t){e.searchChatList=t.payload},openDateFilterStateReducer:function(e,t){e.openDateFilterState=t.payload},toDataStateReducer:function(e,t){e.toDateState=t.payload},fromDateStateReducer:function(e,t){e.fromDateState=t.payload},showVisitorReducer:function(e,t){e.showVisitor=t.payload},groupIdReducer:function(e,t){e.groupId=t.payload}}}),o=l.actions,d=o.ChatRequestReducer,u=(o.errorReducer,o.isJoinReducer),j=o.totPendingReducer,b=o.supervisorChatRequestReducer,h=o.requestNotificationReducer,A=o.searchChatReducer,g=o.openDateFilterStateReducer,O=o.toDataStateReducer,m=o.fromDateStateReducer,p=o.showVisitorReducer,f=o.groupIdReducer,v=function(e){return e.parentReducer};t.c=l.reducer},44:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,c,i,s=n(0),r=n(6),l=n(16),o=n(63),d=n(138),u=n(43),j=n(51),b=n(15),h=n(148),A=n(46),g=(n(23),n(18)),O=n(76),m=n(1),p=Object(s.createContext)(null);t.b=function(t){var n,s,f,v=t.children,x=Object(l.b)(),C=function(e){if(n)return e.readyState===e.OPEN},I=function(e){if(300===e&&console.log("OK Response from server"),e.chatActiveList&&e.chatActiveList&&e.chatActiveList)x(Object(j.b)(e.chatActiveList));else if(e.chatRequestList&&e.chatRequestList&&e.chatRequestList)x(Object(u.b)(e.chatRequestList));else if(e.agentList&&e.agentList&&e.agentList)x(Object(d.b)(e.agentList));else if(e.chatList&&e.chatList&&e.chatList){var t=e.chatList&&e.chatList.filter((function(e){return"request"===e.msgType})),n=e.chatList&&e.chatList.filter((function(e){return"request"!==e.msgType}));x(Object(u.b)(t)),n&&x(Object(j.b)(n))}else e.chatRequest&&e.chatRequest&&x(Object(u.k)(e.chatRequest));e.totPending&&e.totPending&&x(Object(u.m)(e.totPending))},y=function(){C(n)&&(n.send(JSON.stringify({cmd:"getAgentList"})),n.onmessage=function(e){console.log(JSON.parse(Object(e.data)),"response From Server (methodName: getOnlineAgentList)=>");var t=Object(e.data);if(t.length>0){var n=JSON.parse(t);I(n)}})},S=function(e){var t=localStorage.getItem("email"),a=localStorage.getItem("isSupervisor");C(n)&&(t||e)&&(console.log(t,e&&e.agentId,"cmd:getChatRequests"),n.send(JSON.stringify({cmd:"getChatRequests",user:a&&e?e.agentId:t})),n.onmessage=function(e){console.log(JSON.parse(Object(e.data)),"response From Server (methodName: getChatRequestList)=>");var t=Object(e.data);if(t.length>0){var n=JSON.parse(t);I(n)}})},w=function(e,t,a){var c=localStorage.getItem("isSupervisor"),i=localStorage.getItem("email");if(t)x(Object(j.b)(e));else{if(!C(n))return;n.send(JSON.stringify({cmd:"getActiveChats",user:c&&a?a.agentId:i})),console.log("cmd","getActiveChats","user:",c&&a?a.agentId:i),n.onmessage=function(e){console.log(JSON.parse(Object(e.data)),"response From Server (methodName: getActiveChatList)=>");var t=Object(e.data);if(t.length>0){var n=JSON.parse(t);I(n)}}}},N=function(){clearInterval(f),n&&(n.close(),sessionStorage.clear(),localStorage.clear(),x(Object(o.g)(!1)),x(Object(o.c)(null)),x(Object(o.a)(null)),a=!0,localStorage.setItem("socketDisconnectReason","".concat(c,"_").concat(i)))},k=function(){console.log("ppppp!!!!",n,a),navigator.onLine?n&&1===n.readyState?localStorage.getItem("email")&&(console.log("pong"),"true"===localStorage.getItem("showVisitor")&&Object(g.B)().then((function(e){var t;x(Object(O.e)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.visitorsList))})).catch((function(e){console.log(e)})),n.send(JSON.stringify({cmd:"pong"}))):a||N():N(),n.onclose=function(e){c=1e3==e.code?"Normal closure, meaning that the purpose for which the connection was established has been fulfilled.":1001==e.code?'An endpoint is "going away", such as a server going down or a browser having navigated away from a page.':1002==e.code?"An endpoint is terminating the connection due to a protocol error":1003==e.code?"An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message).":1004==e.code?"Reserved. The specific meaning might be defined in the future.":1005==e.code?"No status code was actually present.":1006==e.code?"The connection was closed abnormally, e.g., without sending or receiving a Close control frame":1007==e.code?"An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [https://www.rfc-editor.org/rfc/rfc3629] data within a text message).":1008==e.code?'An endpoint is terminating the connection because it has received a message that "violates its policy". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.':1009==e.code?"An endpoint is terminating the connection because it has received a message that is too big for it to process.":1010==e.code?"An endpoint (client) is terminating the connection because it has expected the server to negotiate one or more extension, but the server didn't return them in the response message of the WebSocket handshake. <br /> Specifically, the extensions that are needed are: "+e.reason:1011==e.code?"A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request.":1015==e.code?"The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified).":"Unknown reason",i=e.code,N()}};return n||(s={socket:n,login:function(t){var c={cmd:"login",user:t.email,pwd:t.password};(n=new WebSocket(Object(r.f)())).onopen=function(){n.send(JSON.stringify(c)),n.onmessage=function(n){a=!1,console.log(JSON.parse(Object(n.data)),"response From Server (methodName: login)=>");var c=Object(n.data);if(c.length>0){var i=JSON.parse(c);if(i&&i.isSuccess&&"true"===i.isSuccess){var s=new e(i.SDKAccessKey+":"+i.AppId).toString("base64");sessionStorage.setItem("encodedString64",s),x(Object(o.c)(null)),x(Object(o.a)(i)),x(Object(o.e)(!0)),w(),S(t.email),y(),clearInterval(f),f=setInterval((function(){k()}),6e3)}else x(Object(o.c)(i))}}},n.onclose=function(){console.log(f,"1"),clearInterval(f)}},logout:N,getOnlineAgentList:y,getChatRequestList:S,getActiveChatList:w,getChatData:function(e){C(n)&&(console.log(e,"cmd:getChatData"),e&&(n.send(JSON.stringify({cmd:"getChatData",chatList:e})),n.onmessage=function(e){console.log(JSON.parse(Object(e.data)),"response From Server (methodName: getChatData)=>");var t=Object(e.data);if(t.length>0){var n=JSON.parse(t);n&&n.chatMsgList&&n.chatMsgList.length>0&&n.chatMsgList[0].chatMsg.length>0?x(Object(b.c)(n)):n&&n.chatNewMsgList&&n.chatNewMsgList.length>0&&n.chatNewMsgList[0].chatMsg.length>0&&x(Object(b.j)(n.chatNewMsgList)),n&&n.chatMsgList&&x(Object(b.g)(!0)),I(n)}}))},sendMsg:function(e,t){console.log(e),console.log(t),C(n)&&(n.send(JSON.stringify(e)),n.onmessage=function(e){console.log(JSON.parse(Object(e.data)),"response From Server (methodName: sendMsg)=>");var n=Object(e.data);if(n.length>0){var a=JSON.parse(n);a.isSuccess&&"true"===a.isSuccess&&(x(Object(b.k)(t)),x(Object(b.g)(!0)),x(Object(A.c)())),a&&a.chatNewMsgList&&a.chatNewMsgList.length>0&&a.chatNewMsgList[0].chatMsg.length>0&&x(Object(b.j)(a.chatNewMsgList)),a&&a.chatMsgList&&x(Object(b.g)(!0)),I(a)}})},joinChat:function(e){C(n)&&e&&(n.send(JSON.stringify({cmd:"acceptChat",mobile:e.mobile,chatId:e.chatId})),n.onmessage=function(e){console.log(JSON.parse(Object(e.data)),"response From Server (methodName: JoinChat)=>");var t=Object(e.data);if(t.length>0){var n=JSON.parse(t);I(n),""!==(null===n||void 0===n?void 0:n.chatId)&&x(Object(u.f)(!0))}})},endChat:function(e){C(n)&&e&&(n.send(JSON.stringify({cmd:"endChat",chatId:e})),n.onmessage=function(e){console.log(JSON.parse(Object(e.data)),"response From Server (methodName: endChat)=>");var t=Object(e.data);if(t.length>0){var n=JSON.parse(t);"200"===e.data?(x(Object(h.b)(!0)),Object(r.c)("Chat End","Chat Ended Successfully","success")):I(n)}})},markSpam:function(e,t){C(n)&&t&&(n.send(JSON.stringify({cmd:"markSpam",mobile:e,spamReason:t})),n.onmessage=function(e){var t=Object(e.data);if(t.length>0){var n=JSON.parse(t);"400"===e.data?x(Object(h.c)(!0)):I(n)}})}}),performance.navigation.type==performance.navigation.TYPE_RELOAD&&clearInterval(f),Object(m.jsx)(p.Provider,{value:s,children:v})}}).call(this,n(531).Buffer)},46:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n(55),c=Object(a.b)({name:"PreviewSlice",initialState:{previewIsOpen:!1,errorCode:null,previewObj:null,sendPreviewData:!1,caption:""},reducers:{previewIsOpenReducer:function(e,t){e.previewIsOpen=t.payload,e.previewObj=null},errorReducer:function(e,t){e.errorCode=t.payload},previewObjReducer:function(e,t){e.previewObj=t.payload},sendPreviewDataReducer:function(e,t){e.sendPreviewData=t.payload},captionReducer:function(e,t){e.caption=t.payload},clearAllPreviewReducer:function(e,t){e.previewIsOpen=!1,e.previewObj=null,e.sendPreviewData=!1,e.caption=""}}}),i=c.actions,s=i.previewIsOpenReducer,r=(i.errorReducer,i.previewObjReducer),l=i.sendPreviewDataReducer,o=i.captionReducer,d=i.clearAllPreviewReducer,u=function(e){return e.parentReducer};t.d=c.reducer},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return d}));var a=n(55),c=Object(a.b)({name:"ActiveChatSlice",initialState:{activeChats:null,errorCode:null,filterCount:"0",selfGenerateAutofillForm:null,groupIdActiveChat:null},reducers:{activeChatReducer:function(e,t){e.activeChats=t.payload},errorReducer:function(e,t){e.errorCode=t.payload},filterCountReducer:function(e,t){e.filterCount=t.payload},selfGenerateAutofillFormReducer:function(e,t){e.selfGenerateAutofillForm=t.payload},groupIdActiveChatReducer:function(e,t){e.groupIdActiveChat=t.payload}}}),i=c.actions,s=i.activeChatReducer,r=(i.errorReducer,i.filterCountReducer),l=i.selfGenerateAutofillFormReducer,o=i.groupIdActiveChatReducer,d=function(e){return e.parentReducer};t.c=c.reducer},523:function(e,t,n){},568:function(e,t,n){},569:function(e,t,n){},583:function(e,t,n){},584:function(e,t,n){},585:function(e,t,n){},6:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return A}));n(200);var a=n(234),c=window.location.protocol,i=window.location.host,s=window.location.pathname,r=window.location.hostname;console.log("\ud83d\ude80 ~ file: constants.js ~ line 6 ~ hostV",i),console.log("\ud83d\ude80 ~ file: constants.js ~ line 5 ~ getProtocolV",c),console.log("\ud83d\ude80 ~ file: constants.js ~ line 7 ~ pathV",s),console.log("\ud83d\ude80 ~ file: constants.js ~ line 8 ~ hostNameV",r);var l=function(){return"".concat(d(),"//").concat(i)==="".concat(d(),"//sms.tilismtechservices.com}")||"".concat(d(),"//").concat(i)==="".concat(d(),"//www.tilismtechservices.com")?s.includes("/wsagent")?(console.log("/wsagent"),"ws://sms.tilismtechservices.com:5333"):s.includes("/agenttest")?"ws://43.225.98.86:10000":"wss://www.tilismtechservices.com:10000":"ws://43.225.98.86:10000"},o=function(){return"".concat(d(),"//").concat(i)==="".concat(d(),"//sms.tilismtechservices.com")||"".concat(d(),"//").concat(i)==="".concat(d(),"//www.tilismtechservices.com")?s.split("/").includes("wsagent")?(console.log("/wsagent"),"/wsagent/"):s.split("/").includes("agent")?"/agent/":(s.split("/").includes("agenttest"),"/sdk/agenttest/"):"".concat(d(),"//").concat(i)==="".concat(d(),"//localhost:3000")?"/":"/sdk/agenttest/"},d=function(){return c},u=function(){return"".concat(d(),"//").concat(i)==="".concat(d(),"//www.tilismtechservices.com")?"".concat(d(),"//www.tilismtechservices.com"):"".concat(d(),"//").concat(i)==="".concat(d(),"//sms.tilismtechservices.com")?"".concat(d(),"//sms.tilismtechservices.com"):"".concat(d(),"//www.tilismtechservices.com")},j=function(){return"localhost"===r||s.split("/").includes("agenttest")?"chatsdk_staging":"chatsdk"},b=function(e){var t=new Date(1e3*e),n=t.getHours(),a=n,c="AM";return n>12?(a=n-12,c="PM"):12===n?(a=12,c="PM"):0===n&&(a=12),a+":"+("0"+t.getMinutes()).slice(-2)+" "+c},h=function(e,t,n){try{a.b[n](t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(c){console.log("ticket eroror",c)}},A=[{key:"AgentId",numeric:!1,disablePadding:!1,label:"Agent Name"},{key:"TotalChats",numeric:!1,disablePadding:!1,label:"Total Chats"},{key:"TimeFromRequest",numeric:!1,disablePadding:!1,label:"Avg Handling Time"},{key:"TimeFromAccept",numeric:!1,disablePadding:!1,label:"Accept to Closed Time"},{key:"ChatsWithTickets",numeric:!1,disablePadding:!1,label:"Total Tickets"},{key:"ChatsWithRatings",numeric:!1,disablePadding:!1,label:"Total Rating"},{key:"ChatCloseIn15",numeric:!1,disablePadding:!1,label:"Chat Close in 15 min"},{key:"ChatCloseIn30",numeric:!1,disablePadding:!1,label:"Chat Close in 30 min"},{key:"ChatCloseIn60",numeric:!1,disablePadding:!1,label:"Chat Close in 60 min"},{key:"ChatCloseIn60Plus",numeric:!1,disablePadding:!1,label:"Chat Close in greater than 60 min"},{key:"Rating1Positive",numeric:!1,disablePadding:!1,label:"Rating 1 Positive"},{key:"Rating1Negative",numeric:!1,disablePadding:!1,label:"Rating 1 Negative"},{key:"Rating2Positive",numeric:!1,disablePadding:!1,label:"Rating 2 Positive"},{key:"Rating2Negative",numeric:!1,disablePadding:!1,label:"Rating 2 Negative"}]},600:function(e,t,n){},601:function(e,t,n){},602:function(e,t,n){},603:function(e,t,n){},613:function(e,t,n){},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return u}));var a=n(55),c=Object(a.b)({name:"AuthLoginSlice",initialState:{loginData:null,isLogin:!1,errorCode:null,isSupervisor:!1,isDarkMode:!1},reducers:{authLoginReducer:function(e,t){e.loginData=t.payload,t.payload&&"1"===t.payload.status?e.isSupervisor=!0:e.isSupervisor=!1},isLoginReducer:function(e,t){e.isLogin=t.payload},errorReducer:function(e,t){e.errorCode=t.payload},logoutReducer:function(e,t){e.isLogin=t.payload,e.loginData=null},isDarkModeReducer:function(e,t){e.isDarkMode=t.payload}}}),i=c.actions,s=i.authLoginReducer,r=i.isLoginReducer,l=i.errorReducer,o=i.logoutReducer,d=i.isDarkModeReducer,u=function(e){return e.parentReducer};t.b=c.reducer},737:function(e,t,n){},738:function(e,t,n){},742:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(33),s=n.n(i),r=(n(523),n(16)),l=n(31),o=n(29),d=n(42),u=n(60),j=n(52),b=n(162),h=n(63),A=n(234),g=(n(530),n(44)),O=n(6),m=n(1);function p(e){var t=Object(r.c)(h.f),n=Object(a.useContext)(g.a),c=sessionStorage.getItem("email");return Object(a.useEffect)((function(){if(t&&!1===t.authLoginSlice.isLogin){var e=sessionStorage.getItem("email"),a=sessionStorage.getItem("p");console.log(e,a),e&&n.login({email:e,password:a})}}),[t.authLoginSlice]),Object(a.useEffect)((function(){c||e.history.push({pathname:Object(O.d)()})}),[c]),Object(m.jsx)(A.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})}var f=n(7),v=n(3),x=n(841),C=n(854),I=n(68),y=n.n(I),S=(n(298),n(456)),w=n(836),N=n(407),k=n.n(N),M=n(408),D=n.n(M),L=n(410),B=n.n(L),E=n(406),R=n.n(E),T=n(249),P=n.n(T),Q=(n(299),n(855)),z=n(856),F=n(894),q=n(840),G=n(839),V=n(106),H=n.n(V),J=n(18),Y=n(837),U=n(23),W=n.n(U),K=n(397),X=n.n(K),Z=n(12),_=n(835),$=n(70),ee=n.n($),te=n(15),ne=(n(568),n(832)),ae="data:image/png;base64,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",ce=n.p+"static/media/ppt-icon-483.3594b04d.png",ie=(n(569),n(237)),se=n(394),re=n.n(se),le=n(395),oe={buttons:{showThumbnailsButton:!1,showPrevButton:!1,showNextButton:!1,showDownloadButton:!1,showAutoplayButton:!1},thumbnails:{showThumbnails:!1}};function de(e){var t,n=e.message,a=(e.cmd,e.msgType),c=e.originalFileName;if("text"===a||"view"===a||"chatEnd"===a||"internal"===a)return function(t){var n=/[^\u0000-\u00ff]/.test(t),c=function(e){return!!/ (#[A-Z].*,)/.test(e)}(t),i=null===t||void 0===t?void 0:t.split(/ (#[A-Z].*,)/),s=null===t||void 0===t?void 0:t.split(/ (#[A-Z].*,)/)[1],r=null===t||void 0===t?void 0:t.split("\n");return Object(m.jsx)(re.a,{componentDecorator:function(e,t,n){return Object(m.jsx)(le.SecureLink,{href:e,children:t},n)},properties:{style:{fontStyle:e.italic?"italic":"",whiteSpace:"break-spaces"}},dir:!0===n?"rtl":"ltr",className:!0===n?"message-text message-text-urdu":"message-text",children:c?Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{children:[i[0]," "]}),Object(m.jsx)(ne.a,{href:"https://bss2.bykea.net/trip-search/".concat(s.slice(1,-1)),target:"_blank",rel:"noopener",children:i[1]}),Object(m.jsxs)("span",{children:[" ",i[2]?i[2]:""]})]}):null===r||void 0===r?void 0:r.map((function(e,t){return Object(m.jsx)("p",{children:"view"===a?"VIEW: ".concat(e):e},t)}))})}(n);if("image"===a)return t=n,Object(m.jsx)("div",{style:{textAlign:"center",overflow:"hidden"},className:"media-view",children:Object(m.jsx)(ie.a,{options:oe,children:Object(m.jsx)("img",{alt:"",src:t,className:e.imageP?"imageP":"image"})})});if("audio"===a)return Object(m.jsx)("audio",{style:{width:e.ChatMainScreen?"235px":"219px"},controls:!0,preload:"auto",children:Object(m.jsx)("source",{src:n,type:"audio/x-m4a"})});if("video"===a)return Object(m.jsx)("video",{width:e.ChatMainScreen?"235":"200",height:"140",controls:!0,children:Object(m.jsx)("source",{src:n,type:"video/mp4"})});if("file"===a){var i=n.split("."),s=i[i.length-1];return"xlsx"===s?Object(m.jsxs)("div",{className:"fileParent",children:[Object(m.jsx)("img",{alt:"",src:ae,width:"30"}),Object(m.jsx)("a",{href:n,className:"fileAnchor",download:n,target:"_blank",rel:"noopener noreferrer",children:c||"File"})]}):"txt"===s?Object(m.jsxs)("div",{className:"fileParent",children:[Object(m.jsx)("img",{alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACBrSURBVHja7d3Zl1XVgcDh5KHNg8+u5J9IP/jea2X1Wx586WW3HWJMDCYullERB0TCjCAlAqIggkJEZFARBWSmGErmeYaCAgqKeS5AZnafXQvTaKC4t+pU1b13f2et77Vu3Vu1z/7dM+zzsxDCz6hch44cezjzWKZrpiozKVOd2Z1pzASgYyxbuW6p/RQdxYdQmZP+I5nOmVmZK3a0UJq+nrtYBCAAaPWk/1CmS6Ymc8vOFcojAEQAAoCWTvw/z/wuU2eHCuUZACIAAUCxk/9/ZtbbkUL5B4AIQABQyMT/q8wcO1CorAAQAQgAmpv8H80ctvOEygwAEYAA4F6T/39nLttxQmUHgAhAAHD3hX59M7ftNCGNABABCACTf5z8J9pZQnoBIAIQAGkHQB87Skg3AEQAAiDNyf9xh/1BAIgABEB6V/u74A8EgAhAACR2n79b/UAAiAAEQGIBMMvOEQSACEAApDX5/8aOEQSACEAApHfL31o7RhAAIgABkFYAPGGnCAJABCAA0pr8H/JIXxAAIgABkF4AdLFDBAEgAhAA6QVAjR0iCAARgABIa/J/JHPLDhEEgAhAAKQVAJ3tDEEAiAAEgIV/AAEgAhAAFT75P5y5YmcIAkAEIADSCoDH7AhBAIgABEB6AdDVjhAEgAhAAKQXAFV2hCAARAACIL0AmGRHCAJABCAA0guAajtCEAAiAAGQXgDstiMEASACEADpBUCjHSEIABGAAEgvAOwIQQCIAASAAAAEgAhAAAgAQACIAASAAAAEgAhAAAgAQACIAASAAAAEgAhAAAgAQACIAASAAAAEgAhAAAgAQACIAAGAAAAEgAgQAAgAQACIAAGAAADSDQARIAAQAECiASACBAACAEg0AESAAEAAAIkGgAgQAAgAINEAEAECAAEAJBoAIkAAIACARANABAgABACQaACIAAGAAAASDQARIAAQAECiASACBAACAEg0AESAAEAAAIkGgAgQAAgAINEAEAECAAEAJBoAIkAAIACARANABAgABACQaACIAAGAAAASDQARIAAQAECiASACBAACAEg0AESAAEAAAIkGgAgQAAgAEACJBoAIEAAIABAAIsBcIAAEACAARAACQAAAAkAEIAAEACAARAACQAAAAkAEIAAEACAARAACQAAAAkAEIAAEACAARAACQAAAAkAECAAfggAABIAIEAAIAEAAiAABgAAABIAIEAAIAEAAiAABgAAABIAIEAAIAEAAiAABgAAABIAIEAAIAEAAiAABgAAAAWASFwECQAAAAgARIAAEACAAEAECQAAAAgARIAAEACAAEAECQAAAAgARIAAEACAARIAIEAACABAAIgABIAAAASACEAACABAAIkAAIAAAASACBAACABAAIkAAIAAAASACBAACABAAIkAAIAAAASACBAACAHiAWfOXmIxFgAAQAEBq5lXXmIhFgAAQAEBqFtesNgmLAAEgAIDULF+13gQsAgSAAABSs2r9ZpOvCBAAAgBIzfotO0y8IkAACAAgNdt21Zp0RYAAEABAag4ePhJmzqs26YoAASAAgNQsWbHWhCsCBIAAAFKzadsuk60IEAACAEjN/voGE60IEAACAEjRouWrTLQiQAAIACA1G7buNMmKAAEgAIDU1DccDXMXey6ACBAAAgBIzpYde0ywIkAACAAgRQuXrTTBigABIACA1OysrTO5igABIACAFC21MJAIEAACAEhzXYA5i5ebXEWAABAAQGr21B0IM+cvMbmKAAEgAIDUbN3prgARIAAEAJCkNRu3mlhFgAAQAECKlq9eb2IVAQJAAACOBCACBIAAAJK6JsCFgSJAAAgAIEG79x0I3y5yi6AIEAACAEhOXf3hsMRiQSJAAAgAIE079uwLCzw7QAQIAAEApPsUQY8SFgECQAAACapvOBo2bN0ZFi1fZaIVAQJAAACpPktg07ZdTdcJzJxXbdIVAQJAAACpOXj4SNi2qzas37IjrFq/OSxftT4srlkd5lXXhFluKUw+AkzCAgBI1M69B8LaLbvpIAJAANgRASJAAAgAAQAgAgSAABAAACJAAAgAAQAgAgSAABAAACJAAAgAAQAgAgSAABAAACJAAAgAAQAgAgSAABAAACJAACAAAESAAEAAAIgAAYAAABABAgABAIgABAACABABCAAEACACEAAIAEAEIAAQAIAIQABgBwKIAAEgAAQAgAgQAAJAAACIAAEgAAQAgAgQAAJAAACIAAEgAAQAgAgQAAJAAACIAAEgAAQAgAgQAAJAAACIAAGAAAAQAQIAAQAgAgQAAgBABAgABACACBAACAAAESAAEAAAIkAAIAAARIAAQAAAiAABgAAASDYCBIAAMPgBEowAASAADHyABCNAAAgAgx4gwQgQAALAgAdIMAIEgAAw2AESjAABIAAMdIAEI0AACACDHCDBCBAAAsAAB0gwAgSAADC4ARKMAAEgAAxsgAQjQAAIAIMaIMEIEAACwIAGSDACBIAAMJgBEowAASAADGSABCNAAAgAgxggwQgQAALAAAZIMAIEgAAweAESjAABIAAMXIAEI0AACACDFiDBCBAAAsCABUgwAgSAADBYARKMAAEgAAxUgAQjQAAIAIMUIMEIEAACwAAFSDACBIAAMDgBEowAASAADEyABCNAAAgAgxIgwQgQAALAgARIMAIEgAAwGAESjAABIAAMRIAEI0AACACDECDBCBAAAsAABEgwAgSAADD4ABKMAAEgAAw8gAQjQAAIAIMOIMEIEAACwIADSDACBIAAMNgAEowAASAADDSABCNAAAgAgwwgwQgQAALAAANIMAIEgAAwuAASjAABIAAMLIAEI0AACACDCiDBCBAAAsCAAkgwAgSAADCYABKMAAEgAAwkgAQjQAAIAIMIIMEIEAACwAACSDACBIAAMHgAEowAASAADByABCNAAAgAgwYgwQgQAALAgAFIMAIEgAAwWAASjAABIAAMFIAEI0AACACDBCDBCBAAAsAAAUgwAgSAADA4ABKMAAEgAAwMgAQjQAAIAIMCIMEIEAACwIAASDACBIAAMBgAEiQABICBACAABIAAAEAACAABAIAAEAACAAABIAAEAAACQAAIAAAEgAAQAAAIAAEgAAAQAAJAAAAgABAAAAgABAAAAgABAIAAQAAAIAAQAAAIAAQAAAIgL0883/sXmd9mxmSWZWozFzMBgPb31MsDwnO93wk9qsaE4R9PDQtq1oT9hxpM7gIgt4n/l5nRmUYDDqD0o2DE+GlhR+1+k7wAaPHE/1Cml2/5AOUZAuM/nx0OHDpishcARX/r/84gAihv3YeMdjRAABQ8+f86c8jAAagMz/asCms2bzfpC4AHfvM3+QNUYAQ4EiAAmjvn77A/QAWfDnBNgAC4VwD0MkAAKlu8MNDkLwB+eujf1f4ACdwd4FSAALg7AEYbGABpiOsECAAB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",width:"30"}),Object(m.jsx)("a",{href:n,className:"fileAnchor",download:n,target:"_blank",rel:"noopener noreferrer",children:c||"File"})]}):"pdf"===s?Object(m.jsxs)("div",{className:"fileParent",children:[Object(m.jsx)("img",{alt:"",src:"data:image/png;base64,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",width:"30"}),Object(m.jsx)("a",{href:n,className:"fileAnchor",download:n,target:"_blank",rel:"noopener noreferrer",children:c||"File"})]}):"docx"===s||"doc"===s?Object(m.jsxs)("div",{className:"fileParent",children:[Object(m.jsx)("img",{alt:"",src:"data:image/png;base64,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",width:"30"}),Object(m.jsx)("a",{href:n,className:"fileAnchor",download:n,target:"_blank",rel:"noopener noreferrer",children:c||"File"})]}):"ppt"===s||"pptx"===s?Object(m.jsxs)("div",{className:"fileParent",children:[Object(m.jsx)("img",{alt:"",src:ce,width:"30"}),Object(m.jsx)("a",{href:n,className:"fileAnchor",download:n,target:"_blank",rel:"noopener noreferrer",children:c||"File"})]}):Object(m.jsxs)("div",{className:"fileParent",children:[Object(m.jsx)("img",{alt:"",src:ae,width:"30"}),Object(m.jsx)("a",{href:n,className:"fileAnchor",download:n,target:"_blank",rel:"noopener noreferrer",children:c||"File"})]})}return null}var ue=n(55),je=Object(ue.b)({name:"messageListSlice",initialState:{editObj:[],errorCode:null,grid:8},reducers:{editObjReducer:function(e,t){e.editObj=t.payload},errorReducer:function(e,t){e.errorCode=t.payload},gridReducer:function(e,t){e.grid=t.payload}}}),be=je.actions,he=be.editObjReducer,Ae=(be.errorReducer,be.gridReducer),ge=je.reducer,Oe=n(242),me=n.n(Oe);function pe(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([1,2]),l=Object(v.a)(s,2),o=l[0],d=l[1],u=Object(a.useState)(null),j=Object(v.a)(u,2),b=j[0],h=j[1],A=Object(a.useState)(""),g=Object(v.a)(A,2),O=g[0],p=g[1],f=Object(a.useState)(null),C=Object(v.a)(f,2),I=C[0],y=C[1],S=Object(r.c)(te.b);Object(a.useEffect)((function(){N()}),[S.chatMsgListSlice.conversationObj]);var N=function(){var e,t,n={profileId:null===S||void 0===S||null===(e=S.chatMsgListSlice)||void 0===e||null===(t=e.conversationObj[0])||void 0===t?void 0:t.profileId};Object(J.x)(n).then((function(e){e.data&&d(e.data.chatList)}))},k=Object(Z.a)((function(e){return{badge:{border:"2px solid #f5f5f5",padding:"0 6px",top:"50%"}}}))(_.a),M=Object(r.b)(),D=S.authLoginSlice.isDarkMode;return Object(m.jsxs)("div",{className:"chat-history",children:[Object(m.jsxs)("div",{className:"eight",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h2",{style:{color:D?"rgb(211, 224, 213)":"rgb(119, 119, 119)"},className:"textMuted",children:"Chat History"})}),Object(m.jsx)("div",{style:{textAlign:"center",marginRight:10},onClick:function(){M(Ae(8)),e.history.goBack()},children:Object(m.jsx)(w.a,{title:"Close",children:Object(m.jsx)(ee.a,{style:{color:"#777",cursor:"pointer"}})})})]}),Object(m.jsx)("div",{className:"conversation-search",style:{padding:"10px"},children:Object(m.jsx)("input",{type:"search",onChange:function(e){return p(e.target.value)},style:{color:D?"rgb(247, 248, 250)":"#696969",backgroundColor:D?"#696969":""},className:D?"conversation-search-inputDark":"conversation-search-input",placeholder:"Enter to Search",value:O,onKeyUp:function(e){13===e.keyCode&&function(){var e,t,n={ProfileId:null===S||void 0===S||null===(e=S.chatMsgListSlice)||void 0===e||null===(t=e.conversationObj[0])||void 0===t?void 0:t.profileId,mSearch:O};Object(J.y)(n).then((function(e){e.data&&d(e.data.chatList)}))}()}})}),Object(m.jsx)("div",{className:"historyDiv",style:{paddingLeft:"9px",paddingRight:"9px"},children:null===o?[1,2,3,4,5,6].map((function(e,t){return Object(m.jsx)(w.a,{title:"Please wait",children:Object(m.jsx)("div",{style:{display:"flex"},children:Object(m.jsx)(Y.a,{variant:"rect",height:60,style:{borderRadius:"13px",marginBottom:"31px",marginRight:"auto",width:"100%"},animation:"wave"})})},t)})):0===o.length?Object(m.jsx)("p",{style:{textAlign:"center",color:D?"rgb(211, 224, 213)":"rgb(119, 119, 119)"},children:"Not found"}):o.map((function(e,t){return Object(m.jsxs)(F.a,{expanded:c==="panel".concat(t),onChange:(n="panel".concat(t),a=e.ChatId,function(e,t){var c={chatId:a};Object(J.r)(c).then((function(e){e&&(h(e.data.chatData),y(e.data.chatStatusData),i(!!t&&n))}))}),children:[Object(m.jsx)(G.a,{expandIcon:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:c!=="panel".concat(t)&&"0"===e.ChatStatus?Object(m.jsx)(X.a,{style:{color:"#dedede"},fontSize:"small"}):c!=="panel".concat(t)&&Object(m.jsx)(k,{badgeContent:e.ChatStatus,color:"primary"})}),Object(m.jsx)(H.a,{})]}),"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"chatStatusParent",children:Object(m.jsx)("p",{className:"chatHeading textMuted ttext",children:e.receiverId})}),Object(m.jsxs)("div",{className:"missedChatParent",children:[Object(m.jsx)("p",{className:"textMuted smallText ttsub",children:e.DepartmentName}),null===e.receiverId&&Object(m.jsx)(w.a,{title:"Missed chat",children:Object(m.jsx)(me.a,{className:"missed-chat-icon",fontSize:"small"})})]}),Object(m.jsx)("p",{className:"textMuted smallText",children:W()(e.reqDate).format("lll")})]})}),Object(m.jsxs)(q.a,{style:{flexDirection:"column"},children:[b&&b.map((function(e,t){return Object(m.jsxs)(x.a,{className:"chatListItem",container:!0,spacing:0,justify:"center",alignItems:"center",children:[Object(m.jsxs)(x.a,{item:!0,md:3,children:[Object(m.jsx)("p",{className:"textMuted smallText",children:W()(e.messageDate).format("LT")}),Object(m.jsx)("p",{className:"textMuted smallText",children:"I"===(null===e||void 0===e?void 0:e.sType)?Object(m.jsx)("span",{style:{color:"#2a6fdd"},className:"chatTypeIndicator",children:"INTERNAL NOTE"}):e.isCorporate?Object(m.jsx)("span",{style:{color:"#2a6fdd"},className:"chatTypeIndicator",children:"Agent"}):Object(m.jsx)("span",{style:{color:"#018345"},className:"chatTypeIndicator",children:"Customer"})})]}),Object(m.jsx)(x.a,{item:!0,md:9,children:Object(m.jsx)("p",{className:"history-message-text textMuted",children:Object(m.jsx)(de,{message:e.message,msgType:e.msgType,originalFileName:e.originalFileName})})})]},t)})),I&&I.map((function(e){return Object(m.jsxs)("div",{style:{borderBottom:"1px solid #eaeaea"},children:[Object(m.jsxs)("div",{className:"chatTicketAndStatusParent",children:[Object(m.jsx)("p",{style:{fontWeight:"bold",marginBottom:"0px",marginTop:"0px"},children:e.Ticket_Reason}),Object(m.jsx)("p",{children:e.tStatus})]}),Object(m.jsx)("div",{children:Object(m.jsx)("p",{style:{margin:"0px",fontSize:9},children:""===e.comments?"No comments...":e.comments})})]})}))]})]},t);var n,a}))})]})}var fe=n(47),ve=n(57),xe=n(843),Ce=n(893),Ie=n(884),ye=n(898),Se=n(402),we=n.n(Se),Ne=n(119),ke=n.n(Ne),Me=n(842),De=n(848),Le=n(887);n(583);function Be(e){var t=c.a.useState(null),n=Object(v.a)(t,2),a=n[0],i=n[1],s=Boolean(a);return Object(m.jsx)("div",{className:"textOverflow",children:Object(m.jsx)(w.a,{title:e.text,children:Object(m.jsx)("label",{"aria-owns":s?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){i(e.currentTarget)},onMouseLeave:function(){i(null)},className:"textOverflow",children:e.text.substring(0,55)+"".concat(e.text.length>55?"...":"")})})})}var Ee=Object(Z.a)({root:{color:"gray","&$checked":{color:"rgb(0, 122, 255)"}},checked:{}})((function(e){return Object(m.jsx)(Le.a,Object(f.a)({color:"default"},e))}));function Re(e){var t=e.data,n=e.ticketCheck,c=e.darkMode,i=Object(a.useState)(!1),s=Object(v.a)(i,2),r=s[0],l=s[1];Object(a.useEffect)((function(){var e=t&&t.isSelected;l(e)}),[t]);var o=function(e){l(e.target.checked),n(t.reasonId,e.target.checked)};return Object(m.jsx)(Me.a,{style:{height:"4vh"},className:"reasonParent",control:c?Object(m.jsx)(Ee,{checked:r,onChange:o,name:"checkedG"}):Object(m.jsx)(Le.a,{checked:r,onChange:o,name:"checkedB",color:"primary"}),label:Object(m.jsx)(Be,{text:t&&t.ticket_reason})})}n(352);var Te,Pe=Object(ve.a)(xe.a)(Te||(Te=Object(fe.a)(["\n  &:hover {\n    background-color: rgb(0, 170, 47) !important;\n    color:white\n  }\n"]))),Qe=Object(Z.a)({root:{"& input:valid + fieldset":{borderColor:"rgb(211, 224, 213)",borderWidth:1},"& input:invalid + fieldset":{borderColor:"red",borderWidth:1},"& input:valid:focus + fieldset":{borderLeftWidth:1,padding:"4px !important"}}})(Ce.a);function ze(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),l=Object(v.a)(s,2),o=l[0],d=l[1],u=Object(a.useState)(null),j=Object(v.a)(u,2),b=(j[0],j[1]),h=Object(a.useState)(null),A=Object(v.a)(h,2),g=(A[0],A[1]),p=Object(a.useState)(null),f=Object(v.a)(p,2),x=(f[0],f[1]),C=Object(a.useState)(""),I=Object(v.a)(C,2),y=I[0],S=I[1],N=Object(a.useState)([]),k=Object(v.a)(N,2),M=(k[0],k[1]),D=Object(a.useState)(!1),L=Object(v.a)(D,2),B=L[0],E=L[1],R=Object(a.useState)(!1),T=Object(v.a)(R,2),P=T[0],Q=T[1],z=Object(r.c)(te.b);Object(a.useEffect)((function(){z.chatMsgListSlice.conversationObj&&z.chatMsgListSlice.conversationObj[0]&&z.chatMsgListSlice.conversationObj[0].chatId&&V()}),[z.chatMsgListSlice.conversationObj]);var V=function(){var e,t=null===z||void 0===z||null===(e=z.chatMsgListSlice)||void 0===e?void 0:e.conversationObj[0].chatId;Object(J.q)(t).then((function(e){if(e.data){var t=e.data.reasonsList;d(t)}}))},U=function(e,t,n,a){t.preventDefault();var c=o.findIndex((function(t){return t.reasonId===e}));"comments"===n?(g(t.target.value),o[c].comments=""===t.target.value?null:t.target.value):"priority"===n?(x(t.target.value),o[c].priority=""===t.target.value?null:t.target.value):"status"===n&&(b(t.target.value),o[c].status=""===t.target.value?null:t.target.value);var i=o.filter((function(e){return!0===e.isSelected}));M(i)},W=function(e,t,n){var a=o.findIndex((function(t){return t.reasonId===e})),c=o;t?(c[a].priority=null,c[a].status=null,c[a].comments=null,c[a].isSelected=!0):(c[a].priority=null,c[a].status=null,c[a].comments=null,c[a].isSelected=!1),d(c),Q(!P)},K=Object(r.b)(),X=z.authLoginSlice.isDarkMode;return Object(m.jsxs)("div",{className:"ticket",children:[Object(m.jsxs)("div",{style:{backgroundColor:X?"rgb(42, 47, 50)":"",height:"12vh"},children:[Object(m.jsxs)("div",{className:"ticketTextParent",children:[Object(m.jsx)("h2",{style:{color:X?"rgb(211, 224, 213)":"rgb(119, 119, 119)"},className:"ticketText",children:"Ticket Record System"}),Object(m.jsx)(Pe,{size:"small",className:"first",variant:"contained",onClick:function(){E(!0);var e,t=z.chatMsgListSlice.conversationObj[0].chatId;e=o.filter((function(e){return!0===e.isSelected})),Object(J.e)(t,e).then((function(e){Object(O.c)("Ticket record","Record Updated","success"),e&&(V(),setTimeout((function(){E(!1)}),1500))}))},children:B?Object(m.jsx)(De.a,{size:20,color:"primary",style:{color:"white"},className:"second"}):"Update"}),Object(m.jsx)("div",{onClick:function(){var t,n,a=null===z||void 0===z||null===(t=z.chatMsgListSlice)||void 0===t||null===(n=t.conversationObj[0])||void 0===n?void 0:n.profileId;K(Ae(8)),e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/").concat(a))},children:Object(m.jsx)(w.a,{title:"Close",children:Object(m.jsx)(ee.a,{style:{color:"#777",cursor:"pointer"}})})})]}),Object(m.jsx)("div",{className:"conversation-search",style:{padding:"10px"},children:Object(m.jsx)("input",{type:"search",style:{color:X?"rgb(247, 248, 250)":"#696969",backgroundColor:X?"#696969":""},onChange:function(e){return S(e.target.value)},className:X?"conversation-search-inputDark":"conversation-search-input",placeholder:"Search",value:y})})]}),null==o?[1,2,3,4,5,6].map((function(e,t){return Object(m.jsx)(w.a,{title:"Please wait",children:Object(m.jsx)("div",{style:{display:"flex"},children:Object(m.jsx)(Y.a,{variant:"rect",className:"Skeleton",height:60,animation:"wave"})})},t)})):Object(m.jsxs)("div",{style:{backgroundColor:X?"rgb(19, 28, 33)":"",height:"80vh",paddingTop:"16px"},children:[Object(m.jsx)("div",{style:{backgroundColor:X?"rgb(19, 28, 33)":"",height:"30vh"},className:"three",children:Object(m.jsx)("div",{className:"four",children:o.filter((function(e){return e.ticket_reason.toLowerCase().includes(y)})).map((function(e,t){return Object(m.jsx)(Re,{data:e,ticketCheck:W,darkMode:X},t)}))})}),Object(m.jsx)("div",{style:{backgroundColor:X?"rgb(19, 28, 33)":"",height:"5vh"},className:"five",children:Object(m.jsx)("p",{style:{color:"#777",marginLeft:10,margin:"10px"},children:"Selected Reasons:"})}),Object(m.jsx)("div",{className:"six",style:{height:"40vh"},children:o.map((function(e,t){return Object(m.jsx)("div",{className:"listItem",style:{marginBottom:"5px"},children:e.isSelected?Object(m.jsxs)(F.a,{style:{backgroundColor:X?"rgb(42, 47, 50)":""},expanded:c==="panel".concat(e.reasonId),onChange:(n="panel".concat(e.reasonId),function(e,t){i(!!t&&n)}),children:[Object(m.jsxs)(G.a,{expandIcon:Object(m.jsx)(H.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsx)("div",{style:{width:"100%"},children:Object(m.jsx)(Be,{text:e.ticket_reason})}),"Open"===e.status||""===e.status||null===e.status?Object(m.jsx)(we.a,{style:{color:"#978a8a"}}):Object(m.jsx)(ke.a,{style:{color:"#2a6fdd"}})]}),Object(m.jsx)(q.a,{children:Object(m.jsxs)("div",{style:{width:"100%"},children:[Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)(Qe,{className:"outlined-basic test",style:{width:"66%",fontSize:11},label:"Comments",variant:"outlined",name:"comments",value:e.comments?e.comments:"",InputLabelProps:{style:{color:X?"rgb(211, 224, 213)":""}},inputProps:{style:{color:X?"rgb(211, 224, 213)":""}},onChange:function(t){return U(e.reasonId,t,"comments")}}),Object(m.jsx)(Qe,{id:"outlined-select-currency-native",select:!0,label:"Priority",value:e.priority,InputLabelProps:{style:{color:X?"rgb(211, 224, 213)":""}},inputProps:{style:{color:X?"rgb(211, 224, 213)":""}},style:{width:"38%"},onChange:function(t){return U(e.reasonId,t,"priority")},variant:"outlined",children:["Low","Medium","High"].map((function(e,t){return Object(m.jsx)("option",{style:{cursor:"pointer"},value:e,children:e},e)}))})]}),Object(m.jsx)("div",{className:"seven",children:Object(m.jsxs)(ye.a,{"aria-label":"gender",name:"gender1",value:e.status,onChange:function(t){return U(e.reasonId,t,"status")},children:[Object(m.jsx)(Me.a,{className:"customRadio",style:{color:"#2a6fdd",fontSize:"11px"},value:"Closed",control:Object(m.jsx)(Ie.a,{color:"primary"}),label:"Closed"}),Object(m.jsx)(Me.a,{className:"customRadio",style:{color:"#2a6fdd",fontSize:"11px"},value:"Open",control:Object(m.jsx)(Ie.a,{color:"primary"}),label:"Open (Action Needed)"})]})})]})})]}):null},t);var n}))})]})]})}var Fe=n(13),qe=n.n(Fe),Ge=n(25);n(584);function Ve(e){var t=Object(a.useState)([1,2,3,4]),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(r.c)(te.b);Object(a.useEffect)((function(){l()}),[]);var l=function(){var e=Object(Ge.a)(qe.a.mark((function e(){var t,n,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===s||void 0===s||null===(t=s.chatMsgListSlice)||void 0===t||null===(n=t.conversationObj[0])||void 0===n?void 0:n.profileId,Object(J.n)({profileId:a}).then((function(e){e&&i(e.data)})).catch((function(e){console.log("error",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(r.b)(),d=s.authLoginSlice.isDarkMode;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsx)("div",{children:Object(m.jsx)("h2",{className:"textMuted",style:{textAlign:"left",fontSize:"13px",fontWeight:"400",paddingLeft:"12px",color:d?"rgb(211, 224, 213)":"rgb(119, 119, 119)"},children:"User Details"})}),Object(m.jsx)("div",{style:{textAlign:"center",marginRight:10},onClick:function(){o(Ae(8)),e.history.goBack()},children:Object(m.jsx)(w.a,{title:"Close",children:Object(m.jsx)(ee.a,{style:{color:"#777",cursor:"pointer"}})})})]}),Object(m.jsx)("div",{className:d?"user-details-table-dark":"user-details-table",children:Object(m.jsx)("table",{children:c&&Object.entries(c).map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e[1][0]}),Object(m.jsx)("td",{children:e[1][1]})]},t)}))})})]})}n(585);var He=n(405),Je=n.n(He),Ye=n(403),Ue=n.n(Ye);function We(e){var t,n,c=Object(r.b)(),i=Object(a.useState)(null),s=Object(v.a)(i,2),l=s[0],o=s[1],d=function(){Object(J.A)(null===e||void 0===e?void 0:e.visitorId).then((function(e){var t;o(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.visitorDet)})).catch((function(e){console.log(e)}))};Object(a.useEffect)((function(){d()}),[null===e||void 0===e?void 0:e.visitorId]),Object(a.useEffect)((function(){d()}),[]);var u=Math.abs(new Date(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.FirstIn)-new Date(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.LastOut));Math.floor(u/1e3/60);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"headerVisitor",style:{borderBottom:"1px solid #C3C3C3"},children:[Object(m.jsx)("h2",{style:{color:"rgb(119, 119, 119)",paddingLeft:"20px"},className:"chatHeading",children:"Logs:"}),Object(m.jsxs)("div",{className:"headerButtonsParent",children:[Object(m.jsx)("div",{className:"reload",onClick:d,children:Object(m.jsx)(w.a,{title:"Reload",children:Object(m.jsx)(Ue.a,{style:{color:"#777",cursor:"pointer"}})})}),Object(m.jsx)("div",{onClick:function(){var t=null===e||void 0===e?void 0:e.visitorId;c(Ae(8)),window.location.pathname.includes("active-chats")?e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/").concat(t)):e.history.push("".concat(Object(O.d)(),"dashboard/visitors/").concat(t))},style:{paddingRight:"20px",marginLeft:"15px"},children:Object(m.jsx)(w.a,{title:"Close",children:Object(m.jsx)(ee.a,{style:{color:"#777",cursor:"pointer"}})})})]})]}),Object(m.jsxs)("div",{className:"logPdiv",children:[Object(m.jsxs)("div",{className:"logFdiv",children:["Visitor ID :  ",null===e||void 0===e?void 0:e.visitorId.split("-")[0]]}),Object(m.jsx)("div",{className:"mapParent",children:(null===l||void 0===l?void 0:l.length)>0?l.map((function(e,t){var n=Math.abs(new Date(e.vTimeIn)-new Date(e.vTimeOut)),a=Math.floor(n/1e3/60);return Object(m.jsxs)("div",{className:"logMapDiv",children:[Object(m.jsx)("div",{children:"Visitor Navigated To :"}),Object(m.jsxs)("div",{className:"navDiv",children:[Object(m.jsx)("div",{className:"navChild",children:Object(m.jsx)(w.a,{title:null===e||void 0===e?void 0:e.WEBURL,children:Object(m.jsx)("a",{className:"anchorLog",href:null===e||void 0===e?void 0:e.WEBURL,target:"_blank",children:null===e||void 0===e?void 0:e.PageTitle})})}),Object(m.jsxs)("div",{className:"navChildTwo",children:[Object(m.jsx)(Je.a,{style:{fontSize:"13px"}})," ",Object(m.jsxs)("div",{className:"minDiv",children:[a," M"]}),Object(m.jsx)("div",{children:W()(null===e||void 0===e?void 0:e.vTimeIn).format("DD-MMM-yyyy")})]})]})]})})):Object(m.jsx)("p",{style:{textAlign:"center",fontSize:"14px"},children:"No logs found"})})]}),Object(m.jsx)("div",{})]})}var Ke=Object(C.a)((function(e){return{root:{width:"100%",borderTop:"1px solid #eaeaea"},heading:{fontSize:e.typography.pxToRem(9),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(9),color:e.palette.text.secondary}}}));function Xe(e){var t,n,c,i,s=Ke(),l=Object(a.useState)(0),o=Object(v.a)(l,2),d=o[0],u=o[1],j=Object(r.c)(te.b);Object(a.useEffect)((function(){(!0===j.authLoginSlice.isSupervisor||h)&&u(1)}),[j.authLoginSlice.isSupervisor]);var b=j.authLoginSlice.isSupervisor,h=e.match.path.includes("filter"),A=j.authLoginSlice.isDarkMode,g=j.chatMsgListSlice.conversationObj,O=null===(t=g[0])||void 0===t?void 0:t.VisitorID,p=null===j||void 0===j||null===(n=j.chatRequestSlice)||void 0===n?void 0:n.showVisitor;return(null===(c=g[0])||void 0===c||null===(i=c.VisitorID)||void 0===i?void 0:i.length)>0&&p?Object(m.jsx)(x.a,{style:{backgroundColor:A?"rgb(42, 47, 50)":"rgb(247, 248, 250)"},item:!0,xs:3,md:3,children:Object(m.jsx)(We,Object(f.a)(Object(f.a)({visitorId:O},e),{},{data:g[0]}))}):Object(m.jsxs)(x.a,{style:{backgroundColor:A?"rgb(42, 47, 50)":"rgb(247, 248, 250)"},item:!0,xs:3,md:3,children:[Object(m.jsx)("div",{children:0===d?Object(m.jsx)("div",{children:Object(m.jsx)(ze,Object(f.a)({},e))}):1===d?Object(m.jsx)("div",{children:Object(m.jsx)(pe,Object(f.a)({},e))}):2===d?Object(m.jsx)("div",{children:Object(m.jsx)(Ve,Object(f.a)({},e))}):p&&3===d?Object(m.jsx)("div",{children:Object(m.jsx)(We,Object(f.a)(Object(f.a)({},e),{},{visitorId:g[0].profileId}))}):null}),Object(m.jsx)("div",{style:{textAlign:"center",bottom:"0px",position:"fixed",backgroundColor:"white",width:"25vw"},children:Object(m.jsxs)(Q.a,{value:d,style:{backgroundColor:A?"rgb(42, 47, 50)":"rgb(235, 235, 237)",borderLeft:"1px solid #eaeaea",paddingTop:"4px",paddingBottom:"5px",border:"1px solid #c3c3c3"},onChange:function(e,t){u(t)},showLabels:!0,className:s.root,children:[Object(m.jsx)(z.a,{style:{color:A?"#fff":""},disabled:b||h,label:"Tickets"}),Object(m.jsx)(z.a,{style:{color:A?"#fff":""},label:"Chat History"}),Object(m.jsx)(z.a,{style:{color:A?"#fff":""},label:"User Details"}),p&&Object(m.jsx)(z.a,{style:{color:A?"#fff":""},label:"Logs"})]})})]})}var Ze=n(14),_e=n(469),$e=Object(C.a)((function(e){return{paper:{position:"absolute",minWidth:"80vw",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),et=function(e){var t=c.a.useState(!0),n=Object(v.a)(t,2),a=(n[0],n[1]),i=$e();return Object(m.jsx)("div",{children:Object(m.jsx)(_e.a,{open:!0,onClose:function(){a(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",onBackdropClick:function(){return a(!1)},children:Object(m.jsx)("div",{style:{minWidth:e.endChatStyle?"80vw":"55vw",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},className:i.paper,children:e.children})})})};function tt(){var e=Object(a.useState)(!1),t=Object(v.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(null),s=Object(v.a)(i,2),r=s[0],l=s[1];return{toggleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!n;c(e)},ModalComponent:Object(a.useCallback)((function(e){return n?Object(m.jsx)(et,Object(f.a)(Object(f.a)({},e),{},{endChatStyle:r})):null}),[n]),ForendChat:function(e){l(e)}}}var nt,at=n(109),ct=n.n(at),it=(n(157),Object(ve.a)(xe.a)(nt||(nt=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))));function st(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var rt,lt,ot,dt=function(e){var t,n,c,i,s=e.selectedMessageToSupervisor,l=(e.onUpdate,e.onCancel),o=e.index,d=Object(a.useState)(""),u=Object(v.a)(d,2),j=(u[0],u[1],tt()),b=j.toggleModal,h=j.ModalComponent,A=Object(r.c)(te.b),p=Object(a.useState)(""),f=Object(v.a)(p,2),C=f[0],I=f[1],y=Object(a.useState)(null),S=Object(v.a)(y,2),w=S[0],N=S[1],k=Object(a.useState)(null),M=Object(v.a)(k,2),D=M[0],L=M[1],B=Object(a.useContext)(g.a);Object(a.useEffect)((function(){b(!!s)}),[s]);var E=function(){var e,t=JSON.parse(JSON.stringify(A.chatMsgListSlice.chatMsgLists));-1!==(e=t.chatMsgList[o].chatMsg.findIndex((function(e){return e.messageId===w})))&&(t.chatMsgList[o].chatMsg[e].message="Delete"===D?"This message has been deleted by sender":C,t.chatMsgList[o].chatMsg[e].isEdited="Edit"===D,t.chatMsgList[o].chatMsg[e].isDeleted="Delete"===D,t.chatMsgList[o].chatMsg[e].msgType="text"),B.sendMsg(function(){var e,t;if(A.chatMsgListSlice&&null!==A.chatMsgListSlice.conversationObj)return{cmd:"sendMessage",mobile:A.chatMsgListSlice.conversationObj[o].profileId,chatId:A.chatMsgListSlice.conversationObj[o].chatId,message:C,sType:"AToS",messageId:w||st(),isEdited:"Edit"===D,isDeleted:"Delete"===D,msgType:(null===A||void 0===A||null===(e=A.chatMsgListSlice)||void 0===e||null===(t=e.macros)||void 0===t?void 0:t.msgType)?A.chatMsgListSlice.macros.msgType:"text",msgDirection:"align-right",Name:A.authLoginSlice&&A.authLoginSlice.loginData&&A.authLoginSlice.loginData.ProfileName,msgTime:Object(O.b)((new Date).getTime()/1e3)}}(),t),N(null),L(null)},R=null===A||void 0===A||null===(t=A.chatMsgListSlice)||void 0===t||null===(n=t.conversationObj)||void 0===n?void 0:n.Name,T=null===A||void 0===A||null===(c=A.chatMsgListSlice)||void 0===c||null===(i=c.conversationObj)||void 0===i?void 0:i.profileId;return Object(m.jsxs)(h,{children:[Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:1,children:Object(m.jsx)("div",{onClick:function(){return l()},className:"cross",children:Object(m.jsx)(ct.a,{})})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)("p",{className:"title",children:["Send Message to Supervisor about ",R," ",T]})})]}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(Ce.a,{fullWidth:!0,id:"outlined-multiline-static",label:"Message",multiline:!0,onChange:function(e){return I(e.target.value)},rows:4,variant:"outlined"})})}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0}),Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(it,{type:"submit",disabled:""===C,style:{marginTop:"20px"},fullWidth:!0,variant:"contained",color:"primary",onClick:function(){var e,t,n={cmd:"sendToSMessage",mobile:A.chatMsgListSlice.conversationObj[o].profileId,chatId:A.chatMsgListSlice.conversationObj[o].chatId,message:C,sType:"AToS",messageId:w||st(),isEdited:"Edit"===D,isDeleted:"Delete"===D,msgType:(null===A||void 0===A||null===(e=A.chatMsgListSlice)||void 0===e||null===(t=e.macros)||void 0===t?void 0:t.msgType)?A.chatMsgListSlice.macros.msgType:"text",msgDirection:"align-right",msgTime:Object(O.b)((new Date).getTime()/1e3)};if(null!==C&&""!==C&&""!==C.trim())if(null!==w)E();else{var a=JSON.parse(JSON.stringify(A.chatMsgListSlice.chatMsgLists));a&&(a.chatMsgList[o].chatMsg=[].concat(Object(Ze.a)(a.chatMsgList[o].chatMsg),[n]),B.sendMsg(n,a),I(""))}l()},children:"Send"})}),Object(m.jsx)(x.a,{item:!0,xs:!0})]})]})},ut=Object(a.memo)(dt),jt=Object(ve.a)(xe.a)(rt||(rt=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))),bt=function(e){var t,n,c=e.selectedSpamUser,i=(e.onUpdate,e.onCancel),s=e.onCanceltwo,l=e.index,o=tt(),d=o.toggleModal,u=o.ModalComponent,j=o.ForendChat,b=Object(a.useState)(""),h=Object(v.a)(b,2),A=h[0],p=h[1],f=Object(r.c)(te.b),C=Object(a.useContext)(g.a);Object(a.useEffect)((function(){d(!!c),j(!1)}),[c]);Object(a.useEffect)((function(){var e;if(!0===(null===f||void 0===f||null===(e=f.headerSlice)||void 0===e?void 0:e.spamUser)){var t,n=null===f||void 0===f||null===(t=f.chatMsgListSlice)||void 0===t?void 0:t.conversationObj[l].chatId;i(),C.endChat(n)}}),[null===f||void 0===f?void 0:f.headerSlice]);var I=null===f||void 0===f||null===(t=f.chatMsgListSlice)||void 0===t?void 0:t.conversationObj[l].Name,y=null===f||void 0===f||null===(n=f.chatMsgListSlice)||void 0===n?void 0:n.conversationObj[l].profileId;return Object(m.jsxs)(u,{children:[Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:1,children:Object(m.jsx)("div",{onClick:function(){return s()},className:"cross",children:Object(m.jsx)(ct.a,{})})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)("p",{className:"title",children:["Why Do You Want to Spam? ",I," ",y]})})]}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(Ce.a,{fullWidth:!0,id:"outlined-multiline-static",label:"Spam Reason",multiline:!0,value:A,onChange:function(e){return p(e.target.value)},rows:3,variant:"outlined"})})}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0}),Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(jt,{type:"submit",style:{marginTop:"20px"},fullWidth:!0,disabled:""===A,variant:"contained",color:"primary",onClick:function(){var e,t=null===f||void 0===f||null===(e=f.chatMsgListSlice)||void 0===e?void 0:e.conversationObj[l].profileId;C.markSpam(t,A),Object(O.c)("spam","User Marked as SPAM","error")},children:"Spam"})}),Object(m.jsx)(x.a,{item:!0,xs:!0})]})]})},ht=Object(a.memo)(bt),At=n(401),gt=n(845),Ot=n(76),mt=Object(ve.a)(xe.a)(lt||(lt=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))),pt=Object(ve.a)(xe.a)(ot||(ot=Object(fe.a)(["\n  &:hover {\n    background-color: #d5d5d5 !important;\n  }\n"]))),ft=function(e){var t,n,c,i,s,l,o,d,u=e.selectedEndChat,j=(e.onUpdate,e.onCancel),b=e.onCanceltwo,h=e.index,A=tt(),O=A.toggleModal,p=A.ModalComponent,f=A.ForendChat,C=Object(a.useState)([]),I=Object(v.a)(C,2),y=I[0],S=I[1],w=Object(a.useState)(null),N=Object(v.a)(w,2),k=(N[0],N[1]),M=Object(a.useState)(null),D=Object(v.a)(M,2),L=(D[0],D[1]),B=Object(a.useState)(null),E=Object(v.a)(B,2),R=(E[0],E[1]),T=Object(a.useState)([]),P=Object(v.a)(T,2),Q=(P[0],P[1]),z=Object(a.useState)(!1),F=Object(v.a)(z,2),q=F[0],G=F[1],V=Object(a.useState)(!1),H=Object(v.a)(V,2),Y=H[0],U=H[1],W=Object(r.c)(te.b),K=Object(a.useState)(""),X=Object(v.a)(K,2),Z=X[0],_=X[1],$=Object(a.useState)(null),ee=Object(v.a)($,2),ne=ee[0],ae=ee[1],ce=Object(a.useState)([]),ie=Object(v.a)(ce,2),se=ie[0],re=ie[1],le=Object(a.useState)("0"),oe=Object(v.a)(le,2),de=oe[0],ue=oe[1],je=Object(a.useContext)(g.a),be=Object(r.b)();Object(a.useEffect)((function(){var e,t,n,a=null===W||void 0===W||null===(e=W.chatMsgListSlice)||void 0===e?void 0:e.conversationObj[h].chatId,c=null===W||void 0===W||null===(t=W.chatMsgListSlice)||void 0===t||null===(n=t.conversationObj[h].chatType)||void 0===n?void 0:n.toString();null!==c&&ue(c),ae(a),pe()}),[]),Object(a.useEffect)((function(){var e,t,n,a=null===W||void 0===W||null===(e=W.chatMsgListSlice)||void 0===e?void 0:e.conversationObj[h].chatId,c=null===W||void 0===W||null===(t=W.chatMsgListSlice)||void 0===t||null===(n=t.conversationObj[h].chatType)||void 0===n?void 0:n.toString();null!==c&&ue(c),ae(a)}),[null===W||void 0===W||null===(t=W.chatMsgListSlice)||void 0===t?void 0:t.conversationObj,u]),Object(a.useEffect)((function(){O(!!u),he(),f(!0)}),[u]),Object(a.useEffect)((function(){he()}),[W.chatMsgListSlice.conversationObj]);var he=function(){Object(J.q)(ne).then((function(e){if(e.data){var t=e.data.reasonsList;S(t)}}))},Ae=function(){var e=Object(Ge.a)(qe.a.mark((function e(){var t;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(!0),t=y.filter((function(e){return!0===e.isSelected})),Object(J.e)(ne,t,de).then((function(e){e&&(je.endChat(ne),he(),setTimeout((function(){G(!1),me()}),1500))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e;!0===(null===W||void 0===W||null===(e=W.headerSlice)||void 0===e?void 0:e.endChat)&&j()}),[null===W||void 0===W||null===(n=W.headerSlice)||void 0===n?void 0:n.endChat]);var ge=function(e,t,n,a){t.preventDefault();var c=y.findIndex((function(t){return t.reasonId===e}));"comments"===n?(L(t.target.value),y[c].comments=""===t.target.value?null:t.target.value):"priority"===n?(R(t.target.value),y[c].priority=""===t.target.value?null:t.target.value):"status"===n&&(k(t.target.value),y[c].status=""===t.target.value?null:t.target.value);var i=y.filter((function(e){return!0===e.isSelected}));Q(i)},Oe=function(e,t,n){var a=y.findIndex((function(t){return t.reasonId===e})),c=y;t?(c[a].priority=null,c[a].status=null,c[a].comments=null,c[a].isSelected=!0):(c[a].priority=null,c[a].status=null,c[a].comments=null,c[a].isSelected=!1),S(c),U(!Y)},me=function(){be(Object(Ot.c)(null))},pe=function(){Object(J.v)().then((function(e){var t=[].concat([{id:0,chatType:"Select vertical"}],Object(Ze.a)(null===e||void 0===e?void 0:e.data));re(t)})).catch((function(e){console.log(e)}))},fe=null===W||void 0===W||null===(c=W.chatMsgListSlice)||void 0===c?void 0:c.conversationObj[h].Name,ve=null===W||void 0===W||null===(i=W.chatMsgListSlice)||void 0===i?void 0:i.conversationObj[h].profileId,xe="BD7F6B1ECAC942F4961082D0F135D7"===(null===W||void 0===W||null===(s=W.authLoginSlice)||void 0===s||null===(l=s.loginData)||void 0===l?void 0:l.SDKAccessKey)||"A954439C518E4F8F8B7DD7E1C46B98"===(null===W||void 0===W||null===(o=W.authLoginSlice)||void 0===o||null===(d=o.loginData)||void 0===d?void 0:d.SDKAccessKey);return Object(m.jsxs)(p,{children:[Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{style:{borderBottom:"1px solid #C3C3C3"},item:!0,xs:3,children:Object(m.jsx)("p",{className:"chatSummary",children:"Chat Summary"})}),Object(m.jsx)(x.a,{style:{borderBottom:"1px solid #C3C3C3"},item:!0,xs:7,children:Object(m.jsxs)("p",{className:"EndChattitle",children:[fe," ",ve]})}),Object(m.jsx)(x.a,{style:{borderBottom:"1px solid #C3C3C3"},item:!0,xs:2,children:xe&&Object(m.jsx)(At.a,{value:de,onChange:function(e){ue(e.target.value)},fullWidth:!0,style:{marginTop:"6px"},children:se.map((function(e){return Object(m.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.chatType})}))})})]}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsxs)(x.a,{style:{borderRight:"1px solid #C3C3C3"},item:!0,xs:3,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(Ce.a,{placeholder:"Search",fullWidth:!0,onChange:function(e){return _(e.target.value)},value:Z}),Object(m.jsx)("p",{className:"TypeofComplain",children:"Please Tick Reason/Type of Complain:"})]}),Object(m.jsx)("div",{style:{overflowY:"scroll",height:"60vh",display:"flex",flexDirection:"column"},children:y.filter((function(e){return e.ticket_reason.toLowerCase().includes(Z)})).sort((function(e,t){return(null===t||void 0===t?void 0:t.isSelected)-(null===e||void 0===e?void 0:e.isSelected)})).map((function(e,t){return Object(m.jsx)(Re,{data:e,ticketCheck:Oe,darkMode:!1},t)}))})]}),Object(m.jsx)(x.a,{style:{overflowY:"scroll",height:"65vh"},item:!0,xs:!0,children:y.map((function(e,t){return Object(m.jsx)("div",{children:e.isSelected?Object(m.jsxs)("div",{className:"selectParent",children:[Object(m.jsxs)(x.a,{item:!0,xs:4,children:[Object(m.jsx)("p",{className:"reasonText",children:e.ticket_reason}),Object(m.jsx)(Ce.a,{placeholder:"Comment",fullWidth:!0,onChange:function(t){return ge(e.reasonId,t,"comments")},value:e.comments?e.comments:""})]}),Object(m.jsx)(x.a,{item:!0,xs:3,children:Object(m.jsx)(gt.a,{fullWidth:!0,children:Object(m.jsxs)(At.a,{value:e.priority,onChange:function(t){return ge(e.reasonId,t,"priority")},children:[Object(m.jsx)("option",{value:"",children:"Priority"}),Object(m.jsx)("option",{value:"Low",children:"Low"}),Object(m.jsx)("option",{value:"Medium",children:"Medium"}),Object(m.jsx)("option",{value:"High",children:"High"})]})})}),Object(m.jsx)(x.a,{item:!0,xs:4,children:Object(m.jsx)(gt.a,{fullWidth:!0,children:Object(m.jsxs)(At.a,{value:e.status,onChange:function(t){return ge(e.reasonId,t,"status")},children:[Object(m.jsx)("option",{value:"",children:"Status"}),Object(m.jsx)("option",{value:"Closed",children:"Closed"}),Object(m.jsx)("option",{value:"Open",children:"Open"})]})})})]}):null},t)}))})]}),Object(m.jsxs)(x.a,{style:{borderTop:"1px solid #C3C3C3"},container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:8,sm:6}),Object(m.jsx)(x.a,{item:!0,xs:!0,md:!0,sm:!0,style:{paddingTop:"15px",display:"flex",justifyContent:"flex-end"},children:Object(m.jsxs)("div",{style:{textAlign:"center",background:"white"},children:[Object(m.jsx)(pt,{type:"submit",variant:"contained",style:{marginRight:"25px"},onClick:function(){return b()},children:"Cancel"}),Object(m.jsx)(mt,{type:"submit",variant:"contained",disabled:q||!!xe&&"0"===de||!!xe&&!y.some((function(e){return!0===e.isSelected})),color:"primary",style:{width:175},onClick:Ae,children:q?Object(m.jsx)(De.a,{size:20,color:"primary",style:{color:"rgb(105, 105, 105)",padding:"3px"}}):Object(m.jsx)("div",{children:"Submit & End Chat"})})]})})]})]})},vt=Object(a.memo)(ft),xt=n(148),Ct=Object(C.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),It=Array.from({length:4e4},(function(){return y()({luminosity:"dark"})}));function yt(e){var t,n,c,i,s,l,o,d,u,b,h,A,p,f,C=Object(a.useState)(),I=Object(v.a)(C,2),y=I[0],N=I[1],M=Object(a.useState)(),L=Object(v.a)(M,2),E=L[0],T=L[1],Q=Object(a.useState)(),z=Object(v.a)(Q,2),F=z[0],q=z[1],G=Object(r.c)(te.b),V=Object(a.useState)([]),H=Object(v.a)(V,2),Y=H[0],U=H[1],W=Object(a.useContext)(g.a),K=(e.match.params,Ct(),Object(r.b)()),X=e.conversationObj&&e.conversationObj,Z=G.chatMsgListSlice.fromFilter;Object(a.useEffect)((function(){_()}),[]);var _=function(){Object(J.z)().then((function(e){var t=e.data.chatPDMessages;t&&U(t)}))},$=[];Y&&Y.forEach((function(e,t){var n={key:t,label:e.msgKey,value:e.msgValue,msgType:e.msgType,id:null===e||void 0===e?void 0:e.id};return $.push(n),!0}));var ee=G.authLoginSlice.isSupervisor,ne=G.chatMsgListSlice.color,ae=(null===G||void 0===G||null===(t=G.activeChatSlice)||void 0===t?void 0:t.activeChats)&&(null===G||void 0===G||null===(n=G.activeChatSlice)||void 0===n||null===(c=n.activeChats)||void 0===c?void 0:c.filter((function(e){return e.profileId===G.chatMsgListSlice.activeProfileId}))),ce=e.match.path.includes("filter"),ie=G.chatMsgListSlice.conversationObj&&G.chatMsgListSlice.conversationObj,se=G.authLoginSlice.isDarkMode,re="partner";return"customer"===(null===X||void 0===X||null===(i=X.cType)||void 0===i?void 0:i.toLowerCase())?re="customer":("partner"===(null===X||void 0===X||null===(s=X.cType)||void 0===s?void 0:s.toLowerCase())||"INTERNAL-TEST"===(null===X||void 0===X||null===(l=X.cType)||void 0===l?void 0:l.toLowerCase()))&&(re="partner"),Object(m.jsxs)("div",{style:{backgroundColor:se?"rgb(42, 47, 50)":"#EBEBED",borderLeft:"1px solid rgb(195, 195, 195)",zIndex:e.previewIsOpen?42:0,borderBottom:"1px solid #c3c3c3"},children:[Object(m.jsx)(ut,{selectedMessageToSupervisor:y,onCancel:function(){return N(!1)},index:e.index}),Object(m.jsx)(ht,{selectedSpamUser:E,onCancel:function(){T(!1),K(Object(xt.c)(!1)),e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/bg"))},onCanceltwo:function(){return T(!1)},index:e.index}),Object(m.jsx)(vt,{selectedEndChat:F,onCancel:function(){K(Object(xt.b)(!1)),q(!1),K(Object(te.e)([])),e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/bg"))},onCanceltwo:function(){return q(!1)},index:e.index}),Object(m.jsxs)(x.a,{container:!0,spacing:3,children:[Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)("div",{className:"headerNameNumberParent",children:[Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"circle",style:{backgroundColor:ne&&ne[e.index]?ne[e.index]:"".concat(It[8])},children:X&&(null===X||void 0===X||null===(o=X.Name[0])||void 0===o?void 0:o.toUpperCase())})}),Object(m.jsxs)("div",{className:"nameParent",children:[Object(m.jsx)(w.a,{title:X&&X.Name,children:(null===X||void 0===X||null===(d=X.VisitorID)||void 0===d?void 0:d.length)>0?Object(m.jsx)("p",{children:X.Name}):Object(m.jsxs)("p",{style:{color:se?"#D3E0D5":"#222"},className:"name",children:[X&&X.Name.substring(0,8)+"".concat(X.Name.length>8?"...":"")," ",X&&null!==X.cType&&X&&""!==X.cType&&Object(m.jsx)("span",{style:{display:1===ie.length?"initial":"table-cell"},className:re,children:X&&X.cType})]})}),Object(m.jsx)("p",{style:{color:se?"#D3E0D5":"#222"},className:"number",children:X&&(null===X||void 0===X?void 0:X.VisitorID)?null===X||void 0===X?void 0:X.VisitorID:X.profileId})]})]})}),1===ie.length&&!(null===X||void 0===X||null===(u=X.VisitorID)||void 0===u?void 0:u.length)>0&&Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)("div",{className:"macroParent",children:!Z&&ae&&0!==ae.length&&Object(m.jsx)(S.a,{placeholder:"Macros",value:"",options:$,onChange:function(e){K(Object(te.i)({value:e.value,msgType:e.msgType,fileName:e.label,id:null===e||void 0===e?void 0:e.id}))}})})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)("div",{className:"headerIconParent",children:[!Z&&!ee&&ae&&0!==ae.length&&!(null===X||void 0===X||null===(b=X.VisitorID)||void 0===b?void 0:b.length)>0&&Object(m.jsx)(w.a,{onClick:function(){return T(!0)},title:"Spam User",children:Object(m.jsx)("div",{className:"toolbar-icon",children:Object(m.jsx)(P.a,{style:{color:"#777"}})})}),!Z&&!ee&&ae&&0!==ae.length&&!(null===X||void 0===X||null===(h=X.VisitorID)||void 0===h?void 0:h.length)>0&&Object(m.jsx)(w.a,{onClick:function(){return N(!0)},title:"Message to Supervisor",children:Object(m.jsx)("div",{className:"toolbar-icon",children:Object(m.jsx)(R.a,{style:{color:"#777"}})})}),!(null===X||void 0===X||null===(A=X.VisitorID)||void 0===A?void 0:A.length)>0&&Object(m.jsx)(w.a,{onClick:function(){if(1===ie.length)e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/bg")),K(Object(te.e)([]));else{var t=(G.chatMsgListSlice.conversationObj&&G.chatMsgListSlice.conversationObj).filter((function(t){return t.profileId!==e.conversationObj.profileId}));K(Object(te.e)(t));var n=t.map((function(e){return{mobile:e.profileId,chatId:e.chatId.toString()}}));W.getChatData(n)}},title:"Minimize",children:Object(m.jsx)("div",{className:"toolbar-icon",children:Object(m.jsx)(k.a,{style:{color:"#777"}})})}),!Z&&!ee&&ae&&0!==ae.length&&!(null===X||void 0===X||null===(p=X.VisitorID)||void 0===p?void 0:p.length)>0&&Object(m.jsx)(w.a,{onClick:function(){e.history.push(e.match.url),q(!0),K(Ae(8))},title:"Close Chat",children:Object(m.jsx)("div",{className:"toolbar-icon",children:Object(m.jsx)(D.a,{style:{color:"#ff4a51"}})})}),Object(m.jsx)(j.b,{style:{textDecoration:"none"},to:"".concat(e.match.url,"/details"),children:(ce||(null===X||void 0===X||null===(f=X.VisitorID)||void 0===f?void 0:f.length)>0||ae&&0!==ae.length)&&1===ie.length&&Object(m.jsx)(w.a,{onClick:function(){return K(Ae(5))},title:"More",children:Object(m.jsx)("div",{className:"toolbar-icon",children:Object(m.jsx)(B.a,{style:{color:"#777"}})})})})]})})]})]})}var St=n(413),wt=n.n(St),Nt=n(464),kt=n(459),Mt=n(857),Dt=["Edit","Delete"],Lt=["Download","Delete"];function Bt(e){var t=c.a.useState(null),n=Object(v.a)(t,2),a=n[0],i=n[1],s=Boolean(a),r=function(e){var t=document.createElement("a"),n=new Blob([e],{type:"image/*"});t.href=URL.createObjectURL(n),t.download="image.jpg",t.click(),o()},l=function(e){i(e.currentTarget)},o=function(e){i(null)};return Object(m.jsxs)("div",{children:[Object(m.jsx)(Nt.a,{style:{padding:"0px",backgroundColor:"#a9eacb",paddingRight:"17px"},onClick:l,children:Object(m.jsx)(H.a,{onClick:l,style:{color:"#777"}})}),Object(m.jsx)(kt.a,{id:"long-menu",anchorEl:a,open:s,onClose:o,PaperProps:{style:{maxHeight:216,width:"20ch"}},children:(e.imageDownload?Lt:Dt.slice(e.splice)).map((function(t){return Object(m.jsx)(Mt.a,{onClick:function(){"Download"===t?r(e.img):(e.handleCloseEditItem(t,e.msg,e.msgid,e.receiverId,e.mobile,e.profileId),i(null))},children:"Download"===t?Object(m.jsxs)("a",{href:e.img,download:!0,onClick:function(){return r(e.img)},children:[Object(m.jsx)("i",{className:"fa fa-download"}),"Download"]}):t},t)}))})]})}var Et,Rt=n(412),Tt=n.n(Rt),Pt=n(411),Qt=n.n(Pt),zt=n(883),Ft=Object(ve.a)(xe.a)(Et||(Et=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))),qt=function(e){var t=e.selectedInitiatePop,n=(e.onUpdate,e.onCancel),c=e.departmentList,i=e.Initiatechat,s=e.initiateObj,r=tt(),l=r.toggleModal,o=r.ModalComponent,d=Object(a.useState)(0),u=Object(v.a)(d,2),j=u[0],b=u[1];Object(a.useEffect)((function(){l(!!t)}),[t]);return Object(m.jsxs)(o,{children:[Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:1,children:Object(m.jsx)("div",{onClick:function(){return n()},className:"cross",children:Object(m.jsx)(ct.a,{})})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)("p",{className:"title",style:{paddingRight:"90px"},children:"Select Department"})})]}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(zt.a,{options:c,getOptionLabel:function(e){return e.value},fullWidth:!0,onChange:function(e,t){b(t?t.id:0)},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Department",variant:"outlined"}))}})})}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0}),Object(m.jsx)(x.a,{onClick:function(){return 0!==j&&(i(j),void n())},item:!0,xs:2,children:0!==j?Object(m.jsx)(Ft,{style:{margin:"0px"},fullWidth:!0,variant:"contained",color:"primary",className:"submit",children:s&&s.Initiate?s.Initiate:"Send"}):Object(m.jsx)(xe.a,{style:{marginTop:"10px"},variant:"contained",disabled:!0,children:"Send"})}),Object(m.jsx)(x.a,{item:!0,xs:!0})]})]})},Gt=Object(a.memo)(qt);function Vt(e){e.match.params;var t,n,c,i,s,l,o,d=Object(r.c)(te.b),u=Object(a.useRef)(null),j=Object(a.useState)([]),b=Object(v.a)(j,2),h=b[0],A=b[1],g=Object(a.useState)(!1),p=Object(v.a)(g,2),C=p[0],I=p[1],y=Object(a.useState)(!1),S=Object(v.a)(y,2),N=S[0],k=S[1],M=Object(a.useState)(null),D=Object(v.a)(M,2),L=D[0],B=D[1],E=Object(a.useState)(null),R=Object(v.a)(E,2),T=R[0],P=(R[1],Object(r.b)());Object(a.useEffect)((function(){(!0===d.chatMsgListSlice.forRoute&&d.chatMsgListSlice.chatMsgLists||null!==d.chatMsgListSlice.newMsg)&&Q(d.chatMsgListSlice.chatMsgLists,d.chatMsgListSlice.newMsg)}),[d.chatMsgListSlice.chatMsgLists,d.chatMsgListSlice.newMsg,d.chatMsgListSlice.forRoute]),Object(a.useEffect)((function(){h&&h.length>0&&I(!0),P(Object(te.a)(e.match.params.id));var t=document.getElementById("bottom-bubble-div");null===t||void 0===t||t.scrollIntoView()}),[h]),Object(a.useEffect)((function(){setTimeout((function(){var e=document.getElementById("bottom-bubble-div");null===e||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100)}),[h]),Object(a.useEffect)((function(){A([]),I(!1)}),[e.match.params.id]);var Q=function(t,n){var a=t,c=JSON.parse(JSON.stringify(a)),i=JSON.parse(JSON.stringify(a));if(null!==n&&n[e.index].chatMsg.length>0)F?(i.chatMsgList[e.index].chatMsg=n,P(Object(te.c)(i)),A(c=n),P(Object(te.j)(null))):(i.chatMsgList[e.index].chatMsg=[].concat(Object(Ze.a)(a.chatMsgList[e.index].chatMsg),Object(Ze.a)(n[e.index].chatMsg)),P(Object(te.c)(i)),c=[].concat(Object(Ze.a)(c.chatMsgList[e.index].chatMsg),Object(Ze.a)(n[e.index].chatMsg)),A(c),P(Object(te.j)(null)));else{var s=JSON.parse(JSON.stringify(a));s.chatMsgList&&s.chatMsgList[e.index]&&s.chatMsgList[e.index].chatMsg&&A(s.chatMsgList[e.index].chatMsg)}};Object(a.useEffect)((function(){z()}),[]);var z=function(){var e={agentID:localStorage.getItem("email")};Object(J.t)(e).then((function(e){var t=[{id:"",label:"",value:""}];e.data.departmentList.forEach((function(e,n){var a={id:e.id,label:e.DepartmentName,value:e.DepartmentName};return t.push(a),!0})),B(t)}))},F=d.authLoginSlice.isSupervisor,q=d.chatMsgListSlice.conversationObj,G=d.authLoginSlice.isDarkMode;return Object(m.jsxs)("div",{className:G?"bubbleParentDark":"".concat((null===(t=q[0])||void 0===t||null===(n=t.VisitorID)||void 0===n?void 0:n.length)>0?"visitorBubbleParent bubbleParent":"bubbleParent"),children:[Object(m.jsx)(x.a,{container:!0,spacing:1,children:(null===(c=q[0])||void 0===c||null===(i=c.VisitorID)||void 0===i?void 0:i.length)>0?Object(m.jsx)(x.a,{item:!0,xs:12,children:Object(m.jsx)("div",{className:"bottomVisitorParent",children:Object(m.jsx)("button",{disabled:null!==(null===(s=q[0])||void 0===s?void 0:s.chatId),onClick:function(){k(!0)},className:"startChat-button",style:{backgroundColor:null!==(null===(l=q[0])||void 0===l?void 0:l.chatId)?"#C3C3C3":"rgb(3, 123, 107)"},children:Object(m.jsx)("p",{className:"JoinText",children:null!==(null===(o=q[0])||void 0===o?void 0:o.chatId)?"Already Engaged":"Start Chat"})})})}):Object(m.jsx)(x.a,{item:!0,xs:12,children:null===h||0===h.length?Object(m.jsxs)("div",{children:[Object(m.jsx)(Y.a,{variant:"rect",height:80,style:{borderRadius:"13px",marginBottom:"31px",marginRight:"auto",width:"40%"},animation:"wave"}),Object(m.jsx)(Y.a,{variant:"rect",height:121,style:{borderRadius:"13px",marginBottom:"31px",marginLeft:"auto",width:"40%"},animation:"wave"}),Object(m.jsx)(Y.a,{variant:"rect",height:60,style:{borderRadius:"13px",marginBottom:"31px",marginRight:"auto",width:"40%"},animation:"wave"}),Object(m.jsx)(Y.a,{variant:"rect",height:80,style:{borderRadius:"13px",marginBottom:"31px",marginLeft:"auto",width:"40%"},animation:"wave"}),Object(m.jsx)(Y.a,{variant:"rect",height:50,style:{borderRadius:"13px",marginBottom:"31px",marginRight:"auto",width:"40%"},animation:"wave"})]}):Object(m.jsx)("ul",{children:C&&h.length>0&&Object(Ze.a)(new Map(h.map((function(e){return[e.messageId,e]}))).values()).map((function(t,n){var a,c=/^[A-Za-z0-9]*$/.test(t.caption),i="",s="",r=!0,l=(a=t.message,/[^\u0000-\u00ff]/.test(a));"Normal"===t.sType?(s="1px 2px #888",i=t.Name):"SToC"===t.sType?(s="1px 2px #888",i="Supervisor -- Customer"):"SToA"===t.sType?(s="1px 2px red",i="Supervisor -- Agent"):"AToS"===t.sType?(s="1px 2px red",i="Agent -- Supervisor"):"I"===t.sType&&(s="3px 3px #16478C",i="INTERNAL NOTE"),(F&&"AToS"===t.sType||F&&"Normal"===t.sType)&&(r=!1),(F||"SToA"!==t.sType)&&(F||"SToC"!==t.sType)||(r=!1);var o=h[n-1],d=h[n+1],u=h[n],j=W()(u.msgDate),b=!0;if(o){var A=W()(o.msgDate),g=W.a.duration(j.diff(A));o.msgDirection===u.msgDirection&&g.as("hours")<1&&!1,g.as("hours")<1&&(b=!1)}if(d){var O=W()(d.msgDate),p=W.a.duration(O.diff(j));d.msgDirection===u.msgDirection&&p.as("hours")<1&&!1}var f=W()(t.msgDate).format("LL");return Object(m.jsxs)("div",{children:[b&&Object(m.jsx)("li",{className:"timestamp-container",children:Object(m.jsxs)("label",{className:"timestamp",children:[" ",f," "]})}),("chatEnd"===t.msgType||"fchat"===t.msgType)&&Object(m.jsx)("li",{className:"chat-end-separator",children:Object(m.jsx)("small",{style:{color:"#16478c"},children:t.message})}),"chatEnd"!==t.msgType&&"fchat"!==t.msgType&&Object(m.jsx)("li",{style:{boxShadow:s,maxWidth:1===q.length?"75%":"80%"},className:"align-left"===t.msgDirection?"him":"me",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"ParentFlex",children:[Object(m.jsxs)("p",{dir:"ltr",className:"message-text agentName",style:{paddingRight:"20px"},children:[" ",i]}),"align-left"!==t.msgDirection&&!t.isDeleted&&r&&Object(m.jsx)(Bt,{splice:"audio"===t.msgType||"file"===t.msgType||"image"===t.msgType||"video"===t.msgType?[1]:"",handleCloseEditItem:function(t,n,a,c,i,s){var r=[],l={key:t,message:n,messageId:a,receiverId:c,mobile:i,profileId:s};0===e.index?(r.push(l),P(he(r))):1===e.index?(r.push({}),r.push(l),P(he(r))):2===e.index&&(r.push({}),r.push({}),r.push(l),P(he(r)))},msg:t.message,mobile:t.mobile,msgid:t.messageId,receiverId:t.receiverId,profileId:t.profileId})]}),Object(m.jsx)("div",{dir:!0===l?"rtl":"ltr",className:!0===l?"message-text message-text-urdu":"message-text",style:{paddingLeft:"17px",paddingRight:"17px",transition:"2s"},children:Object(m.jsx)(de,{message:t.message,msgType:t.msgType,originalFileName:(null===t||void 0===t?void 0:t.cmd)?t.originalFileName:t.OriginalFileName,ChatMainScreen:!0,italic:t.isDeleted,cmd:!!t.cmd})}),!(null===t||void 0===t?void 0:t.isDeleted)&&Object(m.jsx)("p",{style:{paddingLeft:"17px",paddingRight:"17px"},className:!0!==c?"captionValue message-text-urdu":"message-text",children:t.caption&&"".concat(t.caption)}),Object(m.jsxs)("div",{className:"ParentFlex",children:[Object(m.jsxs)("p",{dir:"ltr",className:"message-text time",children:[t.msgTime," ",t.isDeleted&&Object(m.jsx)(w.a,{title:"Deleted",children:Object(m.jsx)(Qt.a,{style:{color:"red",width:"0.8em",height:"10px"}})})," ",t.isEdited&&Object(m.jsx)(w.a,{title:"Edited",children:Object(m.jsx)(Tt.a,{style:{color:"#000",width:"0.5em",height:"9px"}})})]}),"align-left"!==t.msgDirection&&Object(m.jsx)(wt.a,{style:{color:"dodgerblue",width:"0.5em",paddingRight:"23px"}})]})]})})]},n)}))})})}),Object(m.jsx)("div",{id:"bottom-bubble-div",ref:u}),Object(m.jsx)(Gt,{selectedInitiatePop:N,departmentList:L,onCancel:function(){return k(!1)},Initiatechat:function(t){var n,a={agentId:localStorage.getItem("email"),departmentId:t,ProfileId:null===(n=q[0])||void 0===n?void 0:n.VisitorID,Mobile:"",cName:"Web Visitor",cType:"INTERNAL-TEST"};Object(J.D)(a).then((function(t){var n,a;console.log("\ud83d\ude80 ~ file: MessageBubble.js ~ line 126 ~ startChat ~ response",null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.chatId),k(!1),function(t){var n=q.map((function(e){return e.VisitorID?Object(f.a)(Object(f.a)({},e),{},{chatId:t,profileId:e.VisitorID,isVisitor:!1,VisitorID:null,Name:"Web visitor"}):e})),a={conversation:n[0]};P(Object(te.e)(n)),e.history.push({pathname:"".concat(Object(O.d)(),"dashboard/active-chats/bg"),callSendgetChatdata:!0,initiateObj:a})}(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.chatId)})).catch((function(e){console.log(e)}))},initiateObj:T})]})}var Ht=n(10),Jt=(n(600),n(415)),Yt=n.n(Jt),Ut=n(414),Wt=n(858),Kt=n(46),Xt=n(250),Zt=n.n(Xt);function _t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function $t(e){e.match.params;var t,n,c,i,s=Object(a.useState)(""),l=Object(v.a)(s,2),o=l[0],d=l[1],u=Object(r.c)(te.b),j=Object(a.useState)(null),b=Object(v.a)(j,2),h=b[0],A=b[1],p=Object(a.useState)(null),f=Object(v.a)(p,2),C=f[0],I=f[1],y=Object(a.useState)(!1),S=Object(v.a)(y,2),N=S[0],k=S[1],M=Object(r.b)(),D=Object(a.useContext)(g.a),L=u.authLoginSlice.isSupervisor;Object(a.useEffect)((function(){d("")}),[e.match.params.id]),i=L&&N?"SToC":L?"SToA":"Normal";var B=function(t){if(13===t.which&&!t.shiftKey){var n,a,c,s,r={cmd:N?"sendSToCMessage":"sendMessage",mobile:u.chatMsgListSlice.conversationObj[e.index].profileId,chatId:u.chatMsgListSlice.conversationObj[e.index].chatId,message:o.trim(),sType:i||"Normal",messageId:h||_t(),isEdited:"Edit"===C,isDeleted:"Delete"===C,thumbnail:"",msgType:(null===u||void 0===u||null===(n=u.chatMsgListSlice)||void 0===n||null===(a=n.macros)||void 0===a?void 0:a.msgType)?u.chatMsgListSlice.macros.msgType:"text",msgDirection:"align-right",Name:u.authLoginSlice&&u.authLoginSlice.loginData&&u.authLoginSlice.loginData.ProfileName,msgTime:Object(O.b)((new Date).getTime()/1e3),macroId:(null===u||void 0===u||null===(c=u.chatMsgListSlice)||void 0===c||null===(s=c.macros)||void 0===s?void 0:s.id)||null};if(null!==o&&""!==o&&""!==o.trim())if(null!==h)E();else{var l=JSON.parse(JSON.stringify(u.chatMsgListSlice.chatMsgLists));l.chatMsgList[e.index].chatMsg=[].concat(Object(Ze.a)(l.chatMsgList[e.index].chatMsg),[r]),D.sendMsg(r,l),d(""),M(he([])),M(Object(te.i)(null))}t.target.value=""}},E=function(){var t,n=JSON.parse(JSON.stringify(u.chatMsgListSlice.chatMsgLists));-1!==(t=n.chatMsgList[e.index].chatMsg.findIndex((function(e){return e.messageId===h})))&&(n.chatMsgList[e.index].chatMsg[t].message="Delete"===C?"This message has been deleted by sender":o,n.chatMsgList[e.index].chatMsg[t].isEdited="Edit"===C,n.chatMsgList[e.index].chatMsg[t].isDeleted="Delete"===C,n.chatMsgList[e.index].chatMsg[t].msgType="text"),D.sendMsg(function(){var t,n,a,c;if(u.chatMsgListSlice&&null!==u.chatMsgListSlice.conversationObj)return{cmd:N?"sendSToCMessage":"sendMessage",mobile:u.chatMsgListSlice.conversationObj[e.index].profileId,chatId:u.chatMsgListSlice.conversationObj[e.index].chatId,message:o,messageId:h||_t(),isEdited:"Edit"===C,sType:i||"Normal",isDeleted:"Delete"===C,msgType:(null===u||void 0===u||null===(t=u.chatMsgListSlice)||void 0===t||null===(n=t.macros)||void 0===n?void 0:n.msgType)?u.chatMsgListSlice.macros.msgType:"text",msgDirection:"align-right",Name:u.authLoginSlice&&u.authLoginSlice.loginData&&u.authLoginSlice.loginData.ProfileName,msgTime:Object(O.b)((new Date).getTime()/1e3),macroId:(null===u||void 0===u||null===(a=u.chatMsgListSlice)||void 0===a||null===(c=a.macros)||void 0===c?void 0:c.id)||null}}(),n),A(null),I(null),d(""),M(he([])),M(Object(te.i)(null))},R=function(t,n,a,c){if(t){var s,r,l,o=(l={cmd:N?"sendSToCMessage":"sendMessage",mobile:u.chatMsgListSlice.conversationObj[e.index].profileId,chatId:u.chatMsgListSlice.conversationObj[e.index].chatId,message:t,msgType:"application"===a?"file":a,thumbnail:"",isDeleted:!1,isEdited:!1,messageId:_t(),originalFileName:n,msgDirection:"align-right",msgTime:Object(O.b)((new Date).getTime()/1e3)},Object(Ht.a)(l,"isEdited",!1),Object(Ht.a)(l,"isDeleted",!1),Object(Ht.a)(l,"sType",i||"Normal"),Object(Ht.a)(l,"caption",c),Object(Ht.a)(l,"Name",u.authLoginSlice&&u.authLoginSlice.loginData&&u.authLoginSlice.loginData.ProfileName),Object(Ht.a)(l,"macroId",(null===u||void 0===u||null===(s=u.chatMsgListSlice)||void 0===s||null===(r=s.macros)||void 0===r?void 0:r.id)||null),l);if(null!==h)E();else{var d=JSON.parse(JSON.stringify(u.chatMsgListSlice.chatMsgLists));d.chatMsgList[e.index].chatMsg=[].concat(Object(Ze.a)(d.chatMsgList[e.index].chatMsg),[o]),D.sendMsg(o,d)}M(Object(Kt.c)()),M(Object(te.i)(null))}},T=function(){var t=[],n={open:!0};0===e.index?(t.push(n),M(Object(Kt.e)(t))):1===e.index?(t.push({}),t.push(n),M(Object(Kt.e)(t))):2===e.index&&(t.push({}),t.push({}),t.push(n),M(Object(Kt.e)(t)))},P=function(){var t=Object(Ge.a)(qe.a.mark((function t(n){var a,c,i,s,r,l,o,d,j;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===n||void 0===n||null===(a=n.target)||void 0===a?void 0:a.files[0].type.split("/")[1],console.log(n.target.files[0].type),!["jpg","jpeg","png","gif","xlsx","docx","pdf","txt","xls","mp4","webm","m4a","mp3","ogg","csv","ppt","pptx","wav","vnd.ms-powerpoint","vnd.openxmlformats-officedocument.presentationml.presentation","vnd.openxmlformats-officedocument.spreadsheetml.sheet","vnd.openxmlformats-officedocument.wordprocessingml.document","mpeg","vnd.ms-excel","x-m4a","plain","doc","msword","x-excel","x-msexcel"].includes(r)){t.next=30;break}if(!n.target||!n.target.files[0]){t.next=18;break}if(!((l=n.target.files[0]).size>11e6)){t.next=11;break}return Object(O.c)("Invalid","File too big!","error"),n.target.value="",t.abrupt("return");case 11:T(),s=l.name,i=l.type.split("/")[0],(c=new FormData).append("fileName",l);case 16:t.next=25;break;case 18:return t.next=20,n;case 20:o=t.sent,d=new File([o],"audio.mp3",{lastModified:new Date,type:"audio/mp3",size:o.size}),i="audio",(c=new FormData).append("fileName",d);case 25:j=u.chatMsgListSlice.conversationObj[e.index].profileId,Object(J.H)(c,j).then((function(t){if(n.target&&n.target.accept){var a=[],c={value:t,fileName:s,attachType:"application"===i||"text"===i?"file":i};0===e.index?(a.push(c),M(Object(Kt.f)(a))):1===e.index?(a.push({}),a.push(c),M(Object(Kt.f)(a))):2===e.index&&(a.push({}),a.push({}),a.push(c),M(Object(Kt.f)(a)))}else R(t,s,i)})).catch((function(e){console.log(e)})),n.target&&n.target.files[0]&&(n.target.value=""),t.next=31;break;case 30:Object(O.c)("Invalid file type","Invalid file type","error");case 31:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=Object(Ge.a)(qe.a.mark((function t(n){var a,c,i,s,r,l;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:s=t.sent,r=new File([s],"audio.mp3",{lastModified:new Date,type:"audio/mp3",size:s.size}),c="audio",(a=new FormData).append("fileName",r),l=u.chatMsgListSlice.conversationObj[e.index].profileId,Object(J.H)(a,l).then((function(t){if(n.target&&n.target.accept){var a=[],s={value:t,fileName:i,attachType:c};0===e.index?(a.push(s),M(Object(Kt.f)(a))):1===e.index?(a.push({}),a.push(s),M(Object(Kt.f)(a))):2===e.index&&(a.push({}),a.push({}),a.push(s),M(Object(Kt.f)(a)))}else R(t,i,c)})).catch((function(e){console.log(e)})),n.target&&n.target.files[0]&&(n.target.value="");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){!0===u.previewSlice.sendPreviewData&&R(u.previewSlice.previewObj[e.index]&&u.previewSlice.previewObj[e.index].value,u.previewSlice.previewObj[e.index]&&u.previewSlice.previewObj[e.index].fileName,u.previewSlice.previewObj[e.index]&&u.previewSlice.previewObj[e.index].attachType,u.previewSlice.caption)}),[u.previewSlice.sendPreviewData]),Object(a.useEffect)((function(){u.messageListSlice.editObj&&u.messageListSlice.editObj.find((function(t){return e.conversationObj.profileId===t.receiverId||t.mobile||t.profileId}))&&u.messageListSlice.editObj.length>0&&u.messageListSlice.editObj[e.index]&&"Edit"===u.messageListSlice.editObj[e.index].key?(d(u.messageListSlice.editObj[e.index].message),A(u.messageListSlice.editObj[e.index].messageId),I(u.messageListSlice.editObj[e.index].key)):u.messageListSlice.editObj&&u.messageListSlice.editObj.find((function(t){return e.conversationObj.profileId===t.receiverId||t.mobile||t.profileId}))&&u.messageListSlice.editObj.length>0&&u.messageListSlice.editObj[e.index]&&"Delete"===u.messageListSlice.editObj[e.index].key&&(A(u.messageListSlice.editObj[e.index].messageId),I(u.messageListSlice.editObj[e.index].key))}),[u.messageListSlice.editObj]),Object(a.useEffect)((function(){"Delete"===C&&h&&E()}),[C,h]),Object(a.useEffect)((function(){var t,n,a,c,i,s,r=null===u||void 0===u||null===(t=u.chatMsgListSlice)||void 0===t||null===(n=t.macros)||void 0===n?void 0:n.value,l=null===u||void 0===u||null===(a=u.chatMsgListSlice)||void 0===a||null===(c=a.macros)||void 0===c?void 0:c.fileName,o=null===u||void 0===u||null===(i=u.chatMsgListSlice)||void 0===i||null===(s=i.macros)||void 0===s?void 0:s.msgType;if(r&&"text"===o)d(u.chatMsgListSlice.macros.value);else if(r){T();var j=[],b={value:r,fileName:l,attachType:"application"===o?"file":o};0===e.index?(j.push(b),M(Object(Kt.f)(j))):1===e.index?(j.push({}),j.push(b),M(Object(Kt.f)(j))):2===e.index&&(j.push({}),j.push({}),j.push(b),M(Object(Kt.f)(j)))}}),[null===u||void 0===u||null===(t=u.chatMsgListSlice)||void 0===t?void 0:t.macros]);var z=u.chatMsgListSlice.fromFilter,F=u.chatMsgListSlice.conversationObj,q=u.messageListSlice.grid,G=u.authLoginSlice.isDarkMode,V=u.activeChatSlice.activeChats&&u.activeChatSlice.activeChats.filter((function(e){return e.profileId===u.chatMsgListSlice.activeProfileId})),H=3;return 3===F.length?H=3:2===F.length?H=2:1===F.length&&(H=1),5===q&&(H=2),V&&0!==V.length&&!(null===(n=F[0])||void 0===n||null===(c=n.VisitorID)||void 0===c?void 0:c.length)>0?Object(m.jsxs)(x.a,{style:{backgroundColor:G?"rgb(42, 47, 50)":"#EBEBED",borderTop:"1px solid #c3c3c3"},className:"compose-bar",container:!0,spacing:1,children:[!z&&Object(m.jsx)(x.a,{className:"image-upload",item:!0,xs:H,sm:H,md:H,lg:H,style:{paddingTop:"11px"},children:!C&&Object(m.jsx)("div",{children:Object(m.jsx)("div",{children:Object(m.jsxs)("label",{className:"contained-button-file",children:[Object(m.jsx)(w.a,{title:"Attachment",children:Object(m.jsx)(Yt.a,{fontSize:"small",style:{color:"#16478c",fontSize:"1.7rem"}})}),Object(m.jsx)("input",{onChange:P,accept:".jpg, .jpeg, .png, .gif, .xlsx, .docx, .pdf, .txt, .xls, .mp4, .webm, .m4a, .mp3, .ogg, .ppt, .pptx, .wav, .doc",className:"contained-button-file-input",type:"file",name:"imgUpload"})]})})})}),!z&&Object(m.jsxs)(x.a,{className:"inputAndWhisper",item:!0,xs:!0,lg:!0,sm:!0,md:!0,children:[L&&Object(m.jsxs)("div",{className:"inputAndWhisper",children:[Object(m.jsx)("p",{style:{fontSize:"11px"},children:"Whisper"}),Object(m.jsx)(Wt.a,{checked:N,onChange:function(e){k(e.target.checked)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),Object(m.jsx)("p",{style:{fontSize:"11px"},children:"Message"})]}),C&&Object(m.jsx)("div",{style:{paddingRight:"8px",paddingTop:"6px"},children:Object(m.jsx)(w.a,{onClick:function(){A(null),I(null),d(""),M(Object(te.i)(null))},title:"Clear",children:Object(m.jsx)(ee.a,{style:{color:"#777",cursor:"pointer"}})})}),Object(m.jsx)("div",{className:"parent",style:{},children:Object(m.jsx)("label",{className:"input-sizer stacked",children:Object(m.jsx)("textarea",{onKeyPress:B,value:o,onChange:function(e){d(e.target.value),""!==e.target.value&&null!==e.target.value||M(Object(te.i)(null))},rows:"1",placeholder:"Type a message"})})})]}),Object(m.jsx)(x.a,{item:!0,xs:H,sm:H,md:H,lg:H,children:o.length>0?Object(m.jsx)(w.a,{title:"Send message",children:Object(m.jsx)("div",{onClick:function(){return B({which:13,target:{value:o}})},className:"mic-recorder",style:{paddingTop:"18px"},children:Object(m.jsx)(Zt.a,{style:{color:"#16478c",fontSize:"1.7rem"}})})}):Object(m.jsx)(w.a,{title:"Hold to record, release to send",children:Object(m.jsx)("div",{className:"mic-recorder",children:!z&&Object(m.jsx)(Ut.a,{onRecordingComplete:Q,onRecordingError:function(e){return console.log(e)}})})})})]}):null}n(601);var en=n(416),tn=n.n(en);function nn(e){var t=Object(r.c)(Kt.a),n=Object(a.useState)(""),c=Object(v.a)(n,2),i=c[0],s=(c[1],Object(r.b)()),l=t.chatMsgListSlice.conversationObj;return Object(m.jsxs)("div",{className:"attachPreview",children:[Object(m.jsxs)("div",{style:{marginTop:1===l.length?"61px":"76px"},className:"previewHeader",children:[Object(m.jsxs)("div",{className:"preParent",children:[Object(m.jsx)(tn.a,{onClick:function(){s(Object(Kt.c)()),s(Object(te.i)(null))},className:"crossIcon"}),Object(m.jsx)("p",{className:"previewText",children:"Preview"})]}),Object(m.jsx)("div",{onClick:function(){s(Object(Kt.b)(i)),s(Object(Kt.g)(!0))},style:{paddingRight:"20px"},children:null!==t.previewSlice.previewObj?Object(m.jsx)(xe.a,{variant:"contained",children:"Send"}):""})]}),Object(m.jsx)("div",{className:"imageFrame",children:null===t.previewSlice.previewObj?Object(m.jsx)(De.a,{size:44,style:{color:"rgb(0, 121, 210)",padding:"3px"}}):Object(m.jsx)(de,{message:t.previewSlice.previewObj[e.index]&&t.previewSlice.previewObj[e.index].value,msgType:t.previewSlice.previewObj[e.index]&&t.previewSlice.previewObj[e.index].attachType,originalFileName:t.previewSlice.previewObj[e.index]&&t.previewSlice.previewObj[e.index].fileName,ChatMainScreen:!0,imageP:!0})}),Object(m.jsxs)("div",{className:"caption",children:[Object(m.jsx)("div",{style:{width:"87%"}}),Object(m.jsx)("div",{})]})]})}function an(e){e.match.params.user,e.match;var t=Object(r.c)(Kt.a),n=(Object(r.b)(),t.authLoginSlice.loginData&&t.authLoginSlice.loginData.multiWindow,t.chatMsgListSlice.conversationObj),c=12;return 2===n.length?c=6:3===n.length&&(c=4),Object(m.jsx)(x.a,{className:"bannerBG",container:!0,xs:t.messageListSlice.grid,spacing:0,children:Object(m.jsx)(x.a,{style:{display:"flex"},item:!0,xs:12,spacing:2,children:n.map((function(n,i){return Object(m.jsxs)(a.Fragment,{children:[t.previewSlice.previewIsOpen[i]&&t.previewSlice.previewIsOpen[i].open&&Object(m.jsx)(nn,{index:i}),Object(m.jsx)(x.a,{item:!0,xs:c,children:Object(m.jsxs)("div",{className:"messageParent",children:[Object(m.jsx)(yt,Object(f.a)(Object(f.a)({conversationObj:n,index:i},e),{},{previewIsOpen:t.previewSlice.previewIsOpen[i]&&t.previewSlice.previewIsOpen[i].open})),Object(m.jsx)(Vt,Object(f.a)({conversationObj:n,index:i},e)),Object(m.jsx)($t,Object(f.a)({conversationObj:n,index:i},e))]})},i)]},i)}))})})}n(355);var cn=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"conversation-search",children:Object(m.jsx)("input",{style:this.props.style,type:"search",onChange:function(t){return e.props.handleOnChangeMessageSearch(t,e.props.ChatKey)},className:this.props.isDark?"conversation-search-inputDark":"conversation-search-input",placeholder:this.props.placeholder?this.props.placeholder:"Search",value:this.props.value,onKeyUp:function(t){13===t.keyCode&&e.props.OnKeyPress&&e.props.handleSearch()}})})}}]),n}(a.Component),sn=(n(602),n(51));n(603);function rn(e){var t=Object(r.c)(h.f),n=Object(a.useState)(null),c=Object(v.a)(n,2),i=c[0],s=c[1],l=[{id:0,value:"Open in new window"},{id:1,value:e.enableSelection?"Cancel":"Select"}],o=function(e){s(null)},d=function(n){switch(n){case 0:var a=Object(Ze.a)(t.chatMsgListSlice.conversationObj),c=Object(Ze.a)(t.chatMsgListSlice.color);a.length<3?(a.push(e.conversation),c.push(e.color[e.index])):(a.shift(),c.shift(),a.push(e.conversation),c.push(e.color[e.index])),e.handleOpenNewWindow(e.conversation,c),o();break;case 1:e.toggleMultiSelect(),o()}},u=t.authLoginSlice.loginData&&t.authLoginSlice.loginData.multiWindow,j=t.authLoginSlice.darkMode;return Object(m.jsxs)("div",{children:[Object(m.jsx)(Nt.a,{style:{color:j?"rgb(247, 248, 250)":"#696969"},className:"MuiList-padding","aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},children:Object(m.jsx)(H.a,{})}),Object(m.jsx)(kt.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:o,children:"Y"!==u||e.enableSelection?[{id:1,value:"Select"}].map((function(t,n){return Object(m.jsx)(Mt.a,{onClick:function(){return d(t.id)},children:e.enableSelection?"Cancel":"Select"},n)})):l.map((function(e,t){return Object(m.jsx)(Mt.a,{onClick:function(){return d(e.id)},children:e.value},t)}))})]})}var ln=n(151),on=n.n(ln),dn=n(152),un=n.n(dn),jn=n(847),bn=n(750),hn=n(861),An=n(860),gn=n(859),On=n(417),mn=n.n(On),pn=(n(613),Object(C.a)((function(e){return{root:{backgroundColor:"rgba(239, 238, 238, 0.8)",backdropFilter:"blur(20px)"}}})),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"26%",padding:"0px"},overlay:{backgroundColor:"rgba(0,0,0, 0.5)"}});function fn(e){var t=Object(a.useState)(null),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(""),r=Object(v.a)(s,2),l=r[0],o=r[1],d=Object(a.useState)(""),u=Object(v.a)(d,2),j=u[0],b=u[1],h=e.handleChatForwarding,A=function(e){return function(){i(e)}};return Object(m.jsxs)(mn.a,{isOpen:e.chatForwardButton,style:pn,onRequestClose:e.chatForwardButtonCloseMethod,children:[Object(m.jsx)("div",{style:{padding:"11px"},children:Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[Object(m.jsx)("div",{style:{flex:1},children:Object(m.jsx)("h2",{className:"textMuted",style:{textAlign:"left",fontSize:"16px",fontWeight:"400"},children:"Forwarding Chat"})}),Object(m.jsx)("div",{children:Object(m.jsx)(w.a,{title:"Close",children:Object(m.jsx)(ee.a,{onClick:function(){e.chatForwardButtonCloseMethod(),b(""),i(null)},style:{color:"#777",cursor:"pointer"}})})})]})}),Object(m.jsx)("div",{className:"conversation-search",style:{padding:"11px"},children:Object(m.jsx)("input",{type:"search",onChange:function(e){return o(e.target.value)},className:"conversation-search-input",placeholder:"Search",value:l})}),Object(m.jsx)(jn.a,{dense:!0,className:"LiStyle",children:e.agentList&&e.agentList.filter((function(t){return!t.agentId.includes(e.agentID)})).filter((function(e){return e.ProfileName.toString().toLowerCase().includes(l)})).map((function(e,t){var n="checkbox-list-secondary-label-".concat(e);return Object(m.jsxs)(bn.a,{children:[Object(m.jsx)(gn.a,{children:Object(m.jsx)("img",{className:"conversation-photo",src:e.Avatar,alt:"img"})}),Object(m.jsx)(An.a,{id:n,primary:e.ProfileName,secondary:"Active Chats: ".concat(e.ActiveChats)}),Object(m.jsx)(hn.a,{children:Object(m.jsx)(Le.a,{edge:"end",onChange:A(e),checked:c===e,inputProps:{"aria-labelledby":n},color:"primary"})})]},t)}))}),Object(m.jsxs)("div",{style:{height:"6vh",backgroundColor:"#f7f8fa",display:"flex",justifyContent:"flex-end",alignItems:"center",padding:10},children:[Object(m.jsx)(Ce.a,{style:{flex:1},fullWidth:!0,id:"standard-basic",label:"Comments",onChange:function(e){return b(e.target.value)},value:j}),Object(m.jsx)("div",{style:{flex:.2,display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(w.a,{title:"Forward",children:Object(m.jsx)("div",{style:{height:"40px",width:"40px",display:c?"flex":"none",justifyContent:"center",alignItems:"center",borderRadius:"36px",marginRight:"23px",backgroundColor:"#007aff",cursor:"pointer"},onClick:function(){var e=c.agentId;h(e,j),b(""),i(null)},children:Object(m.jsx)(Zt.a,{style:{color:"white"}})})})})]})]})}var vn,xn,Cn=n(442),In=n.n(Cn),yn=n(896),Sn=n(897),wn=n(121),Nn=n.n(wn),kn=Object(ve.a)(xe.a)(vn||(vn=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))),Mn=function(e){var t=e.selectedstandardSelfGenerateForm,n=(e.onUpdate,e.onCancel),c=tt(),i=c.toggleModal,s=c.ModalComponent,r=Object(a.useState)(""),l=Object(v.a)(r,2),o=l[0],d=l[1],u=Object(a.useState)(null),j=Object(v.a)(u,2),b=j[0],h=j[1],A=Object(a.useState)(!1),g=Object(v.a)(A,2),p=g[0],C=g[1],I=Object(a.useState)([]),y=Object(v.a)(I,2),S=y[0],w=y[1],N=Object(a.useState)([]),k=Object(v.a)(N,2),M=k[0],D=k[1],L=Object(a.useState)(null),B=Object(v.a)(L,2),E=B[0],R=B[1],T=Object(a.useState)(null),P=Object(v.a)(T,2),Q=P[0],z=P[1],F=Object(a.useState)(null),q=Object(v.a)(F,2),G=q[0],V=q[1],H=Object(a.useState)(!1),Y=Object(v.a)(H,2),U=Y[0],W=Y[1];Object(a.useEffect)((function(){i(!!t)}),[t]),Object(a.useEffect)((function(){K()}),[]),Object(a.useEffect)((function(){X()}),[]);var K=function(){var e={agentID:localStorage.getItem("email")};Object(J.t)(e).then((function(e){var t=[{id:0,label:"All",value:""}];e.data.departmentList.forEach((function(e,n){var a={id:e.id,label:e.DepartmentName,value:e.DepartmentName};return t.push(a),!0})),w(t)}))},X=function(){var e=[];Object(J.q)().then((function(t){t.data&&(t.data.reasonsList.forEach((function(t,n){var a={id:t.reasonId,label:t.ticket_reason,value:t.ticket_reason};return e.push(a),!0})),D(e))}))},Z=function(){var e=Object(Ge.a)(qe.a.mark((function e(t){var n,a,c,i;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==typeof xn&&xn.cancel("Operation canceled due to new request."),xn=Nn.a.CancelToken.source(),n=localStorage.getItem("email"),e.next=5,Nn.a.post("".concat(Object(O.a)(),"/").concat(Object(O.e)(),"/agent/getnamebymobile"),{agentId:n,departmentId:G,Mobile:t.target.value},{headers:{Authorization:sessionStorage.getItem("encodedString64")},cancelToken:Nn.a.CancelToken.source().token});case 5:if(!(a=e.sent)){e.next=16;break}return e.next=9,a.data;case 9:c=e.sent,i=c.cName,h(i),C(!0),""===i&&C(!1),e.next=17;break;case 16:Nn.a.isCancel()&&console.log("Request canceled");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(Ge.a)(qe.a.mark((function e(){var t,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("email"),W(!0),a={departmentId:1===S.length?S[0].id:G,Mobile:o,cName:b,cType:E,reason:Q,agentId:t},Object(J.G)(a).then((function(e){e&&(W(!1),n(),h(null),d(""),z(null),V(null))})).catch((function(e){console.log(e),W(!1),n(),h(null),d(""),z(null),V(null)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(s,{children:[Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:1,children:Object(m.jsx)("div",{onClick:function(){return n()},className:"cross",children:Object(m.jsx)(ct.a,{})})})}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)("p",{className:"title",children:"Generate new chat"})})}),Object(m.jsx)(x.a,{style:{paddingBottom:"18px"},container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(Ce.a,{required:!0,fullWidth:!0,value:o,id:"outlined-multiline-static",label:"Mobile Number",multiline:!0,variant:"outlined",inputProps:{maxLength:12},onChange:function(e){(""===e.target.value||/^[0-9+]*$/.test(e.target.value))&&d(e.target.value),Z(e)}})})}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(Ce.a,{required:!0,value:b,id:"msg",label:b?"":"Name",fullWidth:!0,defaultValue:"",margin:"normal",variant:"outlined",name:"msg",disabled:p,inputProps:{maxLength:25},onChange:function(e){(""===e.target.value||/^[a-zA-Z ]*$/.test(e.target.value))&&h(e.target.value)}})})}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{variant:"outlined",style:{width:"100%",marginTop:"16px",marginBottom:"16px"},children:[Object(m.jsx)(yn.a,{id:"demo-simple-select-outlined-label",children:"User Type"}),Object(m.jsxs)(Sn.a,{required:!0,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:null===E?"":E,onChange:function(e){return R(e.target.value)},label:"Complaint Type",fullWidth:!0,children:[Object(m.jsx)(Mt.a,{value:"partner",children:"Partner"}),Object(m.jsx)(Mt.a,{value:"customer",children:"Customer"})]})]})})}),Object(m.jsx)(x.a,{style:{paddingBottom:"18px"},container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(zt.a,{options:M,getOptionLabel:function(e){return e.value},fullWidth:!0,onChange:function(e,t){z(t?t.id:0)},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Reason",variant:"outlined"}))}})})}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:1===S.length?null:Object(m.jsx)(zt.a,{options:S,getOptionLabel:function(e){return e.value},fullWidth:!0,onChange:function(e,t){V(t?t.id:0)},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Department",variant:"outlined"}))}})})}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0}),Object(m.jsx)(x.a,{item:!0,xs:4,children:Object(m.jsx)(kn,{type:"submit",style:{margin:"0px",height:"40px",marginTop:"20px"},fullWidth:!0,disabled:!(!U&&o&&b&&E&&G),variant:"contained",color:"primary",onClick:_,children:U?Object(m.jsx)(De.a,{size:20,style:{color:"#2A6FDD",padding:"3px"}}):Object(m.jsx)("p",{children:"Start Chat"})})}),Object(m.jsx)(x.a,{item:!0,xs:!0})]})]})},Dn=Object(a.memo)(Mn),Ln=n(273),Bn=n.n(Ln),En=n(274),Rn=n.n(En),Tn=n(275),Pn=n.n(Tn),Qn=n(276),zn=n.n(Qn),Fn=n.p+"static/media/tello_cast_big_logo.2ea80e12.png",qn=n.p+"static/media/tellotalk_logo.3701ab33.png",Gn=(n(359),n(324)),Vn=n.n(Gn),Hn=n(420),Jn=n.n(Hn),Yn=n(323),Un=n.n(Yn),Wn=n(5),Kn=n(899),Xn=(n.p,n.p,n(322)),Zn=n.n(Xn),_n=n(418),$n=n.n(_n),ea=n(419),ta=n.n(ea),na=Object(Z.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},label:{color:"#eaeaea"},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[200]),backgroundColor:e.palette.grey[500],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,n=Object(Wn.a)(e,["classes"]);return Object(m.jsx)(Wt.a,Object(f.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},n))}));function aa(e){var t=Object(a.useState)(!0),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(null),l=Object(v.a)(s,2),o=(l[0],l[1]),d=Object(r.c)(h.f);Object(r.b)();Object(a.useEffect)((function(){o(d.authLoginSlice.isDarkMode),d&&!1===d.authLoginSlice.isLogin&&e.history.push({pathname:Object(O.d)()})}),[d.authLoginSlice]);var u=Object(a.useContext)(g.a),j=sessionStorage.getItem("email"),b=d.authLoginSlice.isDarkMode;return Object(m.jsxs)("div",{style:{width:"22vw",height:"100vh",backgroundColor:b?"#2A2F32":"rgb(247, 248, 250)"},children:[Object(m.jsxs)("div",{className:"userAvatarParent",children:[Object(m.jsx)(Kn.a,{variant:"circle",alt:"Remy Sharp",style:{marginTop:"50px",width:"80px",height:"auto"},className:"largeAvatar userAvatarParent",src:d.authLoginSlice&&d.authLoginSlice.loginData&&d.authLoginSlice.loginData.avatar}),Object(m.jsx)("p",{style:{textAlign:"center",fontWeight:"bold",marginBottom:"0px"},children:d.authLoginSlice&&d.authLoginSlice.loginData&&d.authLoginSlice.loginData.ProfileName}),Object(m.jsx)("h4",{style:{textAlign:"center",marginBottom:0,marginTop:"0px",fontWeight:"400"},children:j})]}),Object(m.jsxs)("div",{style:{paddingTop:20,paddingBottom:10},children:[Object(m.jsxs)(x.a,{container:!0,spacing:0,children:[Object(m.jsx)(x.a,{item:!0,md:6,children:Object(m.jsx)("div",{style:{display:"flex",padding:10,alignItems:"center",justifyContent:"flex-start"},children:Object(m.jsxs)("div",{style:{background:"#fbf4b7",padding:"5px 10px 5px 10px",borderRadius:25,display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(m.jsx)($n.a,{style:{marginRight:8}})," Status"]})})}),Object(m.jsx)(x.a,{item:!0,md:6,style:{display:"flex",alignItems:"center",justifyContent:"center",paddingRight:c?0:10},children:Object(m.jsx)(Me.a,{control:Object(m.jsx)(na,{checked:c,onChange:function(){i(!c)},name:"checkedB"}),label:Object(m.jsx)("p",{style:{color:b?"#fff":"#000"},children:c?"Online":"Away"}),labelPlacement:"end"})})]}),Object(m.jsxs)(x.a,{container:!0,spacing:0,children:[Object(m.jsx)(x.a,{item:!0,md:6,children:Object(m.jsx)("div",{style:{display:"flex",padding:10,alignItems:"center",justifyContent:"flex-start"},children:Object(m.jsxs)("div",{style:{background:"#fbf4b7",padding:"5px 10px 5px 10px",borderRadius:25,display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(m.jsx)(ta.a,{style:{marginRight:8}})," Notifications"]})})}),Object(m.jsx)(x.a,{item:!0,md:6,style:{display:"flex",alignItems:"center",justifyContent:"center",paddingRight:"2.5vw"},children:Object(m.jsx)(Me.a,{control:Object(m.jsx)(na,{checked:e.beefBuzzer,onChange:e.beefBuzzerMethod,name:"checkedB"}),label:"",labelPlacement:"end"})})]})]}),Object(m.jsx)("div",{className:"footer",children:Object(m.jsx)("div",{style:{alignItems:"center",borderTop:"1px solid #dedede",borderBottom:"1px solid #dedede",marginBottom:20,marginTop:20},children:Object(m.jsx)("button",{fullWidth:!0,onClick:function(){u.logout()},style:{fontWeight:"500",color:"white",border:"none",width:"100%",background:"#000",padding:8,cursor:"pointer"},endIcon:Object(m.jsx)(Zn.a,{style:{color:"#fff"}}),color:"primary",variant:"contained",children:Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["Logout ",Object(m.jsx)(Zn.a,{style:{color:"#fff",marginLeft:8}})]})})})})]})}var ca=n(862),ia=n(200),sa=n.n(ia),ra=n(43),la=n(421),oa=n.n(la),da=(n.p,n.p,n(423)),ua=n.n(da),ja=n(422),ba=n.n(ja);function ha(e){var t,n,c,i,s,l,o,d,u=Object(r.c)(ra.a),b=Object(a.useState)(!1),h=Object(v.a)(b,2),A=h[0],p=h[1],C=Object(a.useState)(""),I=Object(v.a)(C,2),y=I[0],S=I[1],w=Object(a.useState)([]),N=Object(v.a)(w,2),k=N[0],M=N[1],D=Object(a.useState)({top:!1,left:!1,bottom:!1,right:!1}),L=Object(v.a)(D,2),B=L[0],E=L[1],R=Object(a.useContext)(g.a),T=Object(r.b)(),P=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&E(Object(f.a)(Object(f.a)({},B),{},Object(Ht.a)({},e,t)))}};Object(a.useEffect)((function(){Q(),Object(J.h)().then((function(e){var t,n,a="true"===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.notiSound),c="true"===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.showVisitor);p(a),S(c),T(Object(ra.h)(a)),T(Object(ra.j)(c)),localStorage.setItem("showVisitor",c)}))}),[]);var Q=function(){Object(J.l)().then((function(e){M(e.data)})).catch((function(e){return console.log(e)}))},z=function(e){var t,n=(null===u||void 0===u||null===(t=u.chatRequestSlice.ChatRequestList)||void 0===t?void 0:t.length)>0&&(null===u||void 0===u?void 0:u.chatRequestSlice.ChatRequestList.filter((function(t){return t.agroupId===e})));return null===n||void 0===n?void 0:n.length},F=function(e){var t,n=(null===u||void 0===u||null===(t=u.activeChatSlice.activeChats)||void 0===t?void 0:t.length)>0&&(null===u||void 0===u?void 0:u.activeChatSlice.activeChats.filter((function(t){return t.agroupId===e})));return null===n||void 0===n?void 0:n.length},q=null===u||void 0===u||null===(t=u.chatRequestSlice)||void 0===t?void 0:t.totPending,G=u.activeChatSlice.activeChats&&u.activeChatSlice.activeChats.length,V=u.onlineAgentSlice.OnlineAgent&&u.onlineAgentSlice.OnlineAgent.filter((function(e){return"Online"===e.loginstatus})).length,H=u.authLoginSlice.isSupervisor,Y=u.chatRequestSlice.supervisorChatRequest&&u.chatRequestSlice.supervisorChatRequest.length||0,U=u.activeChatSlice.filterCount,W=u.authLoginSlice.isDarkMode,K=u.authLoginSlice.loginData&&(null===(n=u.authLoginSlice.loginData)||void 0===n?void 0:n.isViewOnly),X=(null===u||void 0===u||null===(c=u.filterChatSlice)||void 0===c||null===(i=c.visitorList)||void 0===i?void 0:i.length)||0,Z="BD7F6B1ECAC942F4961082D0F135D7"===(null===u||void 0===u||null===(s=u.authLoginSlice)||void 0===s||null===(l=s.loginData)||void 0===l?void 0:l.SDKAccessKey)||"A954439C518E4F8F8B7DD7E1C46B98"===(null===u||void 0===u||null===(o=u.authLoginSlice)||void 0===o||null===(d=o.loginData)||void 0===d?void 0:d.SDKAccessKey);return Object(m.jsx)(x.a,{item:!0,children:Object(m.jsx)("div",{style:{backgroundColor:W?"#2A2F32":"rgb(247, 248, 250)"},className:"navParent",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"telloCastLogoParent",children:Object(m.jsx)(xe.a,{style:{borderBottom:"1px solid #c3c3c3"},className:W?"hoverModeDark":"hoverModeWhite",onClick:P("left",!0),children:Object(m.jsx)("img",{alt:"Remy Sharp",src:Fn,className:"telloCastLogo"})})}),Object(m.jsx)(ca.a,{anchor:"left",open:B.left,onClose:P("left",!1),children:Object(m.jsx)(aa,Object(f.a)(Object(f.a)({},e),{},{beefBuzzer:A,beefBuzzerMethod:function(){Object(J.F)(!A).then((function(e){T(Object(ra.h)(!A)),p(!A)}))}}))}),H?Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)(j.b,{className:"pNavIcon",to:{pathname:"".concat(Object(O.d)(),H?"dashboard/online-agents-supervisor/bg":"dashboard/online-agents/bg")},children:Object(m.jsx)(xe.a,{className:W?"hoverModeDark":"hoverModeWhite",onClick:function(){T(Object(te.a)(null)),T(Object(te.e)([])),T(Object(sn.d)("0")),T(Ae(8)),R.getOnlineAgentList()},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:H?V:V?V-0:0,children:Object(m.jsx)(Un.a,{fontSize:"large",style:{color:window.location.pathname.includes("online-agents")?"rgb(208, 186, 38)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Online Agent"})]})})})}):Object(m.jsxs)("div",{className:"parentAllIcon chatRequestHover",children:[Object(m.jsx)(j.b,{className:"pNavIcon ",to:{pathname:"".concat(Object(O.d)(),H?"dashboard/chat-request-supervisor/bg":"dashboard/chat-request/bg")},children:Object(m.jsx)(xe.a,{className:W?"hoverModeDark":"hoverModeWhite ",onClick:function(){T(Object(te.a)(null)),R.getChatRequestList(),T(Object(sn.d)("0")),T(Ae(8)),T(Object(te.e)([])),T(Object(ra.e)(null))},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:H?parseInt(Y):parseInt(q),children:Object(m.jsx)(Vn.a,{fontSize:"large",style:{color:window.location.pathname.includes("chat-request")?"rgb(3, 123, 107)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Chat Request"})]})})}),Z&&0!==(null===k||void 0===k?void 0:k.length)&&Object(m.jsxs)("div",{className:"hoverMenu",children:[Object(m.jsx)("h3",{style:{textAlign:"center"},children:"Chat Request"}),k.map((function(e){return Object(m.jsxs)("p",{onClick:function(){return T(Object(ra.e)(null===e||void 0===e?void 0:e.id))},className:"hoverMenuText",children:[null===e||void 0===e?void 0:e.AgentGroup," ","(".concat(z(null===e||void 0===e?void 0:e.id),")")]})}))]})]}),Object(m.jsxs)("div",{className:"parentAllIcon activeHoverChat",children:[Object(m.jsx)(j.b,{className:"pNavIcon",to:{pathname:"".concat(K?"":"".concat(Object(O.d)(),"dashboard/active-chats/bg"))},children:Object(m.jsx)(xe.a,{disabled:K,className:W?"hoverModeDark":"hoverModeWhite activeHoverChat",onClick:function(){H||R.getActiveChatList(),T(Object(te.a)(null)),T(Object(sn.d)("0")),T(Object(te.e)([])),T(Ae(8)),T(Object(sn.e)(null))},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:G,children:Object(m.jsx)(Jn.a,{fontSize:"large",style:{color:window.location.pathname.includes("active-chats")?"rgb(21, 212, 31)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Active Chats"})]})})}),Z&&0!==(null===k||void 0===k?void 0:k.length)&&Object(m.jsxs)("div",{className:"hoverMenuActive",children:[Object(m.jsx)("h3",{style:{textAlign:"center"},children:"Active Chat"}),k.map((function(e){return Object(m.jsxs)("p",{onClick:function(){return T(Object(sn.e)(null===e||void 0===e?void 0:e.id))},className:"hoverMenuText",children:[null===e||void 0===e?void 0:e.AgentGroup," ","(".concat(F(null===e||void 0===e?void 0:e.id),")")]})}))]})]}),H?Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)(j.b,{className:"pNavIcon",to:{pathname:"".concat(Object(O.d)(),H?"dashboard/chat-request-supervisor/bg":"dashboard/chat-request/bg")},children:Object(m.jsx)(xe.a,{className:W?"hoverModeDark":"hoverModeWhite",onClick:function(){T(Object(te.a)(null)),R.getChatRequestList(),T(Object(sn.d)("0")),T(Object(te.e)([])),T(Ae(8))},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:H?parseInt(Y):parseInt(q),children:Object(m.jsx)(Vn.a,{fontSize:"large",style:{color:window.location.pathname.includes("chat-request")?"rgb(3, 123, 107)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Chat Request"})]})})})}):Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)(j.b,{className:"pNavIcon",to:{pathname:"".concat(Object(O.d)(),H?"dashboard/online-agents-supervisor/bg":"dashboard/online-agents/bg")},children:Object(m.jsx)(xe.a,{className:W?"hoverModeDark":"hoverModeWhite",onClick:function(){T(Object(te.a)(null)),T(Object(te.e)([])),T(Object(sn.d)("0")),R.getOnlineAgentList(),T(Ae(8))},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:H?V:V?V-0:0,children:Object(m.jsx)(Un.a,{fontSize:"large",style:{color:window.location.pathname.includes("online-agents")?"rgb(208, 186, 38)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Online Agent"})]})})})}),Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)(j.b,{className:"pNavIcon",to:"".concat(Object(O.d)(),"dashboard/filter/bg"),children:Object(m.jsx)(xe.a,{className:W?"hoverModeDark":"hoverModeWhite",onClick:function(){T(Object(te.e)([])),T(Object(te.a)(null)),T(Ae(8))},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:parseInt(U),children:Object(m.jsx)(oa.a,{fontSize:"large",style:{color:window.location.pathname.includes("filter")?"rgb(0, 201, 173)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Filter"})]})})})}),!H&&y&&Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)(j.b,{className:"pNavIcon",to:"".concat(Object(O.d)(),"dashboard/visitors/bg"),children:Object(m.jsx)(xe.a,{className:W?"hoverModeDark":"hoverModeWhite",onClick:function(){T(Object(te.e)([])),T(Object(te.a)(null)),T(Ae(8))},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:X,children:Object(m.jsx)(ba.a,{fontSize:"large",style:{color:window.location.pathname.includes("visitors")?"rgb(3, 123, 107)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Visitors"})]})})})}),H&&Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)(j.b,{className:"pNavIcon",to:"".concat(Object(O.d)(),"dashboard/service/bg"),children:Object(m.jsx)(xe.a,{className:W?"hoverModeDark":"hoverModeWhite",onClick:function(){T(Object(te.e)([])),T(Object(te.a)(null)),T(Ae(8))},children:Object(m.jsxs)("div",{className:"chatRequestIcon",children:[Object(m.jsx)(_.a,{style:{zIndex:0},color:"secondary",max:999,badgeContent:0,children:Object(m.jsx)(ua.a,{fontSize:"large",style:{color:window.location.pathname.includes("service")?"rgb(3, 123, 107)":"#dedede"}})}),Object(m.jsx)("p",{style:{color:W?"rgb(247, 248, 250)":"#696969"},className:"ChatText",children:"Reports"})]})})})}),Object(m.jsxs)("div",{className:W?"hoverModeDark footer-sticky-logo":"hoverModeWhite footer-sticky-logo",style:{backgroundColor:W?"#2A2F32":"rgb(247, 248, 250)"},children:[Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)("p",{style:{fontSize:"9px",color:W?"rgb(247, 248, 250)":"#696969",overflow:"hidden"},children:"Powered by"})}),Object(m.jsx)("div",{className:"parentAllIcon",children:Object(m.jsx)("img",{alt:"Remy Sharp",src:qn,style:{fontSize:"9px",width:"3vw",marginTop:"0px"}})})]})]})})})}var Aa=n(879),ga=n(890),Oa=n(869),ma=n(128),pa=n.n(ma),fa=n(49),va=n(460),xa=n(96);function Ca(e){var t=e.control,n=e.options,a=e.getOptionLabel,c=e.renderOption,i=e.renderInput,s=e.name,r=e.onChange,l=e.size,o=e.value,d=e.disabled,u=e.onInputChange,j=e.fullWidth,b=e.style;return Object(m.jsx)(fa.a,{render:function(e){var t=e.field;return Object(m.jsx)(zt.a,Object(f.a)(Object(f.a)({},t),{},{style:b,fullWidth:j,size:l,value:o,options:n,getOptionLabel:a,renderOption:c,onInputChange:u,renderInput:i,disabled:d,clearText:!0,onChange:function(e,n){t.onChange(n),r(n)}}))},name:s,control:t})}var Ia,ya=n(427),Sa=n(746),wa=n(863),Na=n(457),ka=n(886),Ma=n(880),Da=n(876),La=Object(ve.a)(xe.a)(Ia||(Ia=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))),Ba="Macros",Ea="Agents",Ra="Verticals",Ta="Departments",Pa="Reasons",Qa="ChatStatus";var za,Fa=function(e){var t=Object(a.useState)([]),n=Object(v.a)(t,2),c=n[0],i=n[1],s=e.selectedForm,l=s.id,o=(s.value,Object(r.c)(sn.a)),d=Object(a.useState)([]),u=Object(v.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)([]),A=Object(v.a)(h,2),g=A[0],p=A[1],C=Object(a.useState)([]),I=Object(v.a)(C,2),y=I[0],S=I[1],N=Object(a.useState)([]),k=Object(v.a)(N,2),M=k[0],D=k[1],L=Object(a.useState)([]),B=Object(v.a)(L,2),E=B[0],R=B[1],T=Object(a.useState)(!1),P=Object(v.a)(T,2),Q=P[0],z=P[1],F=Object(a.useState)(!1),q=Object(v.a)(F,2),G=q[0],V=q[1],H=Object(a.useState)(""),Y=Object(v.a)(H,2),U=Y[0],W=Y[1],K=Object(a.useState)(!0),X=Object(v.a)(K,2),Z=X[0],_=X[1],$=Object(a.useState)(""),ee=Object(v.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),ce=Object(v.a)(ae,2),ie=ce[0],se=ce[1],re=Object(a.useState)([]),le=Object(v.a)(re,2),oe=le[0],de=le[1],ue=Object(fa.e)(),je=ue.register,be=ue.handleSubmit,he=ue.getValues,Ae=ue.reset,ge=ue.setValue,Oe=ue.control,me=ue.formState.errors;Object(a.useEffect)((function(){i([]),pe(l),Se()}),[l]),Object(a.useEffect)((function(){we(),ye(),xe(),Ie()}),[]),Object(a.useEffect)((function(){var e=o.activeChatSlice.selfGenerateAutofillForm;e?(Ae(),ge("MobileNumber",""===e.MobileNo?null===e||void 0===e?void 0:e.ProfileId:null===e||void 0===e?void 0:e.MobileNo),ge("cName",e.Name),ge("UserType",""===e.cType?"No type selected":e.cType),V(!0),R([]),W(e.ProfileId)):(Ae(),V(!1),R([]),W(""))}),[o.activeChatSlice.selfGenerateAutofillForm,l]);var pe=function(e){se(!0);var t={formId:e,agentID:localStorage.getItem("email")};Object(J.j)(t).then((function(e){var t,n,a;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.fieldList);var c=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.fieldList)||void 0===a?void 0:a.find((function(e){return(null===e||void 0===e?void 0:e.fieldType)===Qa}));ne(null===c||void 0===c?void 0:c.fieldId),se(!1)})).catch((function(e){se(!1),console.log(e)}))},fe=function(e){var t="Email"===e.fieldType?new RegExp(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/):new RegExp(null===e||void 0===e?void 0:e.fieldRegExp);return"URL"===e.fieldType&&(t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/)),{required:"Y"===(null===e||void 0===e?void 0:e.isRequired)&&"Required",maxLength:{value:"0"===(null===e||void 0===e?void 0:e.fieldMaxValue)?null:null===e||void 0===e?void 0:e.fieldMaxValue,message:"".concat(e.fieldLabel," must be at most ").concat(null===e||void 0===e?void 0:e.fieldMaxValue," characters")},minLength:{value:"0"===(null===e||void 0===e?void 0:e.fieldMinValue)?null:null===e||void 0===e?void 0:e.fieldMinValue,message:"".concat(e.fieldLabel," must be at least ").concat(null===e||void 0===e?void 0:e.fieldMinValue," characters")},pattern:{value:t,message:"Invalid formate"}}},ve=function(e){return{required:"Y"===(null===e||void 0===e?void 0:e.isRequired)&&"Required",max:{value:"0"===(null===e||void 0===e?void 0:e.fieldMaxValue)?null:null===e||void 0===e?void 0:e.fieldMaxValue,message:"".concat(e.fieldLabel," must be in range (").concat(null===e||void 0===e?void 0:e.fieldMinValue,"-").concat(null===e||void 0===e?void 0:e.fieldMaxValue,")")},min:{value:"0"===(null===e||void 0===e?void 0:e.fieldMinValue)?null:null===e||void 0===e?void 0:e.fieldMinValue,message:"".concat(e.fieldLabel," must be in range (").concat(null===e||void 0===e?void 0:e.fieldMinValue,"-").concat(null===e||void 0===e?void 0:e.fieldMaxValue,")")},pattern:{value:new RegExp(null===e||void 0===e?void 0:e.fieldRegExp),message:"Invalid formate"}}},xe=function(){var e={agentID:localStorage.getItem("email")};Object(J.i)(e).then((function(e){var t=[];e.data.departmentList.forEach((function(e,n){var a={id:e.id,label:e.DepartmentName,value:e.DepartmentName};return t.push(a),!0})),S(t)})).catch((function(e){console.log(e)}))},Ie=function(){var e=[];Object(J.q)().then((function(t){t.data&&(t.data.reasonsList.forEach((function(t,n){var a={id:t.reasonId,label:t.ticket_reason,value:t.ticket_reason};return e.push(a),!0})),D(e))})).catch((function(e){console.log(e)}))},ye=function(){var e=[];Object(J.v)().then((function(t){t.data.forEach((function(t,n){var a={id:t.id,label:t.chatType,value:t.chatType};e.push(a)})),p(e)})).catch((function(e){console.log(e)}))},Se=function(){var e=[],t={formId:l,agentID:localStorage.getItem("email")};Object(J.u)(t).then((function(t){t.data.forEach((function(t,n){var a={id:t.agentId,label:t.agentId,value:t.agentId};e.push(a)})),de(e)})).catch((function(e){console.log(e)}))},we=function(){var e=[];Object(J.z)().then((function(t){var n=t.data.chatPDMessages;n&&n.forEach((function(t,n){var a={id:t.id,label:t.msgKey,value:t.msgKey};e.push(a)})),b(e)})).catch((function(e){console.log(e)}))},Ne=function(e){return e===Ea?oe:e===Ba&&j.length>0?j:e===Ra&&g.length>0?g:e===Ta&&y.length>0?y:e===Pa&&M.length>0?M:e===Qa?function(e){var t=[];return(Z?["Pending"]:["Pending","Active","Close"]).forEach((function(e,n){var a={id:e,label:e,value:e};return t.push(a),!0})),t}():[]},ke=[{id:"partner",label:"Partner",value:"partner"},{id:"customer",label:"Customer",value:"customer"}],Me=[{id:"KHI",label:"Karachi",value:"Karachi"},{id:"LHR",label:"Lahore",value:"Lahore"},{id:"ISL",label:"Islamabad",value:"Islamabad"}];return console.log(he(),me),Object(m.jsxs)("form",{onSubmit:be((function(t){for(var n,a,i,s=Object.keys(t),r=[],o=function(e){var n,a,c,i,l=t[s[e]];if(null===(n=t[s[e]])||void 0===n?void 0:n.id)l=null===(c=t[s[e]])||void 0===c||null===(i=c.id)||void 0===i?void 0:i.toString();else if(null===(a=t[s[e]])||void 0===a?void 0:a.fieldOptionId){var o,d;l=null===(o=t[s[e]])||void 0===o||null===(d=o.fieldOptionId)||void 0===d?void 0:d.toString()}else"[object Date]"===Object.prototype.toString.call(t[s[e]])&&"00:00"===new Date(t[s[e]]).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})?l=Object(Da.a)(t[s[e]],"yyyy-MM-dd"):"[object Date]"===Object.prototype.toString.call(t[s[e]])&&"00:00"!==new Date(t[s[e]]).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})&&(l=new Date(t[s[e]]).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}));if(s[e]==="FileUpload_".concat(s[e].split("_")[1])){var u={fieldId:s[e].split("_")[1],fieldOptions:E.filter((function(t){return t.attachmentId===s[e].split("_")[1]}))};r.push(u)}else if(s[e]==="CheckBox_".concat(s[e].split("_")[1])){var j=[];if(""!==l){var b;null===(b=l)||void 0===b||b.map((function(e){var t={fieldOptionsDet:e};j.push(t)}));var h={fieldId:s[e].split("_")[1],fieldOptions:null===j?"":j};r.push(h)}}else{var A={fieldId:s[e].split("_")[1],fieldValue:null===l?"":l};r.push(A)}},d=0;d<s.length;d++)o(d);for(var u=[],j=0;j<c.length;j++)for(var b=0;b<r.length;b++)c[j].fieldId===r[b].fieldId&&u.push(r[b]);var h=u.filter((function(e){return void 0!==e.fieldId})),A={agentId:localStorage.getItem("email"),ProfileId:""!==U?U:(null===t||void 0===t?void 0:t.MobileNumber.length)>12?null===t||void 0===t?void 0:t.MobileNumber:"",Mobile:(null===t||void 0===t?void 0:t.MobileNumber.length)<=12?null===t||void 0===t?void 0:t.MobileNumber:"",formId:l,cName:null===t||void 0===t?void 0:t.cName,cType:(null===t||void 0===t||null===(n=t.UserType)||void 0===n?void 0:n.id)?null===t||void 0===t||null===(a=t.UserType)||void 0===a?void 0:a.id:null===t||void 0===t?void 0:t.UserType,formData:h,cCity:null===t||void 0===t||null===(i=t.City)||void 0===i?void 0:i.id,BookingId:null===t||void 0===t?void 0:t.BookingId};Object(J.b)(A).then((function(t){Object(O.c)("Success","Chat generated successful","success"),null===e||void 0===e||e.onCancel(),Ae()})).catch((function(e){Object(O.c)("Error","Something went wrong","error")}))})),children:[Object(m.jsxs)("div",{className:"formField",children:[Object(m.jsx)("h3",{style:{marginBottom:10},children:"User Information"}),Object(m.jsxs)(x.a,{style:{alignItems:"center"},container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:["Mobile Number or Profile id",Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",fullWidth:!0,defaultValue:"",disabled:G,variant:"outlined",margin:"normal",placeholder:"Enter Mobile Number or Profile id",InputLabelProps:{shrink:!1},id:"MobileNumber"},je("MobileNumber",{required:"Required"})),{},{name:"MobileNumber"})),me.MobileNumber?Object(m.jsx)("p",{className:"form-error-message mgb5",children:me.MobileNumber.message}):Object(m.jsx)("p",{className:"mgb5 whiteColor",children:"a"})]})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:["Customer Name",Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",fullWidth:!0,defaultValue:"",margin:"normal",disabled:G,variant:"outlined",InputLabelProps:{shrink:!1},id:"cName",placeholder:"Customer Name"},je("cName",{required:"Required"})),{},{name:"cName"})),me.cName?Object(m.jsx)("p",{className:"form-error-message mgb5",children:me.cName.message}):Object(m.jsx)("p",{className:"mgb5 whiteColor",children:"a"})]})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:["Booking Id",Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",fullWidth:!0,defaultValue:"",margin:"normal",variant:"outlined",InputLabelProps:{shrink:!1},id:"BookingId",placeholder:"Booking Id"},je("BookingId",{required:"Required"})),{},{name:"BookingId"})),me.BookingId?Object(m.jsx)("p",{className:"form-error-message mgb5",children:me.BookingId.message}):Object(m.jsx)("p",{className:"mgb5 whiteColor",children:"a"})]})})]}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:["User Type",Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop20 paddingBottom10",children:Object(m.jsx)(fa.a,{defaultValue:"",name:"UserType",rules:{required:"Required"},control:Oe,render:function(e){e.field;return Object(m.jsx)(Ca,{size:"small",fullWidth:!0,disabled:G,options:ke,getOptionLabel:function(e){return e.label},name:"UserType",onInputChange:function(e,t){},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({InputLabelProps:{shrink:!1}},e),{},{label:"",variant:"outlined",placeholder:he().UserType?he().UserType:"Enter User Type"}))},control:Oe,onChange:function(e){}})}})}),me.UserType&&Object(m.jsx)("p",{className:"form-error-message mg0",children:me.UserType.message})]})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:["City",Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop20 paddingBottom10",children:Object(m.jsx)(fa.a,{defaultValue:"",name:"City",rules:{required:"Required"},control:Oe,render:function(e){e.field;return Object(m.jsx)(Ca,{size:"small",fullWidth:!0,options:Me,getOptionLabel:function(e){return e.label},name:"City",onInputChange:function(e,t){},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({InputLabelProps:{shrink:!1}},e),{},{label:"",variant:"outlined",placeholder:he().City?he().City:"Enter City"}))},control:Oe,onChange:function(e){}})}})}),me.City&&Object(m.jsx)("p",{className:"form-error-message mg0",children:me.City.message})]})})]}),Object(m.jsx)("h3",{style:{marginBottom:10},children:"Other Information"}),Object(m.jsx)("div",{className:"fieldsParent",children:ie?Object(m.jsx)("div",{className:"textAlignCenter",children:Object(m.jsx)(De.a,{size:20,style:{color:"#2A6FDD",padding:"3px"}})}):null===c||void 0===c?void 0:c.map((function(e,t){var n,a,c,i=null===e||void 0===e||null===(n=e.fieldId)||void 0===n||null===(a=n.replace(/"/g,""))||void 0===a||null===(c=a.replace(/'/g,""))||void 0===c?void 0:c.replace(/\s/g,"");return"ShortText"===e.fieldType||"URL"===e.fieldType||"Email"===e.fieldType?Object(m.jsx)("div",{className:"paddingTop5 width30percent",children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",fullWidth:!0,placeholder:"Enter ".concat(e.fieldLabel),variant:"outlined",margin:"normal",InputLabelProps:{shrink:!1}},je("".concat(i,"_").concat(e.fieldId),fe(e))),{},{id:"".concat(i,"_").concat(e.fieldId),name:"".concat(i,"_").concat(e.fieldId)})),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message mg0",children:me["".concat(i,"_").concat(e.fieldId)].message})]})}):"Numeric"===e.fieldType?Object(m.jsx)("div",{className:"paddingTop5 width30percent",children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",fullWidth:!0,defaultValue:"",placeholder:"Enter ".concat(e.fieldLabel),variant:"outlined",margin:"normal",InputLabelProps:{shrink:!1},type:"number"},je("".concat(i,"_").concat(e.fieldId),ve(e))),{},{id:"".concat(i,"_").concat(e.fieldId),name:"".concat(i,"_").concat(e.fieldId)})),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message mg0",children:me["".concat(i,"_").concat(e.fieldId)].message})]})}):"DropdownList"===e.fieldType?Object(m.jsx)("div",{className:"paddingTop5 paddingBottom5 width30percent",children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop15",children:Object(m.jsx)(fa.a,{defaultValue:"",name:"".concat(i,"_").concat(e.fieldId),rules:fe(e),control:Oe,render:function(t){t.field;return Object(m.jsx)(Ca,{size:"small",fullWidth:!0,options:e.fieldOptionList,getOptionLabel:function(e){return e.fieldOptionValue},name:"".concat(i,"_").concat(e.fieldId),onInputChange:function(e,t){},renderInput:function(t){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({InputLabelProps:{shrink:!1}},t),{},{label:"",variant:"outlined",placeholder:"Enter ".concat(e.fieldLabel)}))},control:Oe,onChange:function(e){}})}})}),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message paddingTop3",children:me["".concat(i,"_").concat(e.fieldId)].message})]})}):"DateSelector"===e.fieldType?Object(m.jsxs)("div",{className:"paddingTop10 paddingBottom15 width30percent",children:[Object(m.jsxs)(gt.a,{style:{width:"100%"},variant:"standard",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop10",children:Object(m.jsx)(fa.a,{defaultValue:"",rules:fe(e),name:"".concat(i,"_").concat(e.fieldId),control:Oe,render:function(e){var t=e.field,n=t.onChange,a=t.value,c=void 0===a||null===a||""===a?null:a;return Object(m.jsx)(Na.a,{dateAdapter:wa.a,children:Object(m.jsx)(ka.a,{style:{height:"35px"},inputProps:{readOnly:!0},onChange:n,value:c,renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)({variant:"outlined",margin:"dense",style:{width:"100%"}},e))}})})}})})]}),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message paddingTop3",children:me["".concat(i,"_").concat(e.fieldId)].message})]}):"TimeSelector"===e.fieldType?Object(m.jsxs)("div",{className:"paddingTop10 paddingBottom15 width30percent",children:[Object(m.jsxs)(gt.a,{style:{width:"100%"},variant:"standard",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop10",children:Object(m.jsx)(fa.a,{defaultValue:"",rules:fe(e),name:"".concat(i,"_").concat(e.fieldId),control:Oe,render:function(e){var t=e.field,n=t.onChange,a=t.value,c=void 0===a||null===a||""===a?null:a;return Object(m.jsx)(Na.a,{dateAdapter:wa.a,children:Object(m.jsx)(Ma.a,{onChange:n,inputProps:{readOnly:!0},value:c,renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)({variant:"outlined",margin:"dense",style:{width:"100%"}},e))}})})}})})]}),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message",children:me["".concat(i,"_").concat(e.fieldId)].message})]}):e.fieldType===Ea||e.fieldType===Ba||e.fieldType===Ra||e.fieldType===Ta||e.fieldType===Pa?Object(m.jsx)("div",{className:"paddingTop10 paddingBottom10 width30percent",children:Object(m.jsxs)(gt.a,{className:"availableContentWidth",variant:"standard",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop17",children:Object(m.jsx)(fa.a,{defaultValue:"",name:"".concat(i,"_").concat(e.fieldId),control:Oe,rules:fe(e),render:function(t){t.field;return Object(m.jsx)(Ca,{size:"small",fullWidth:!0,options:Ne(e.fieldType)||[],getOptionLabel:function(e){return e.value},name:"".concat(i,"_").concat(e.fieldId),onInputChange:function(e,t){ge("".concat(i,"_").concat(i),t)},renderInput:function(t){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({InputLabelProps:{shrink:!1}},t),{},{label:"",variant:"outlined",placeholder:"Enter ".concat(e.fieldLabel)}))},control:Oe,onChange:function(t){if(e.fieldType===Ea){var n="".concat(te,"_").concat(te);null===he()["".concat(i,"_").concat(i)]?(_(!0),ge(n,"")):_(!1)}}})}})}),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message paddingTop3",children:me["".concat(i,"_").concat(e.fieldId)].message})]})}):e.fieldType===Qa?Object(m.jsx)("div",{className:"paddingTop10 paddingBottom10 width30percent",children:Object(m.jsxs)(gt.a,{className:"availableContentWidth",variant:"standard",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop20",children:Object(m.jsx)(fa.a,{defaultValue:"",name:"".concat(i,"_").concat(e.fieldId),control:Oe,rules:fe(e),render:function(t){t.field;return Object(m.jsx)(Ca,{size:"small",fullWidth:!0,value:he()["".concat(i,"_").concat(i)],options:Ne(e.fieldType)||[],getOptionLabel:function(e){return e.value},name:"".concat(i,"_").concat(e.fieldId),onInputChange:function(e,t){},renderInput:function(t){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({InputLabelProps:{shrink:!1}},t),{},{label:"",variant:"outlined",placeholder:"Enter ".concat(e.fieldLabel)}))},control:Oe,onChange:function(e){}})}})}),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message paddingTop3",children:me["".concat(i,"_").concat(e.fieldId)].message})]})}):void 0}))}),null===c||void 0===c?void 0:c.map((function(e,t){var n,a,c,i=null===e||void 0===e||null===(n=e.fieldId)||void 0===n||null===(a=n.replace(/"/g,""))||void 0===a||null===(c=a.replace(/'/g,""))||void 0===c?void 0:c.replace(/\s/g,"");if("LongText"===e.fieldType)return Object(m.jsx)("div",{className:"paddingTop5",children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop20",children:Object(m.jsx)(Sa.a,Object(f.a)(Object(f.a)({"aria-label":"minimum height",maxRows:5,placeholder:"Enter ".concat(e.fieldLabel),style:{width:"100%",borderColor:"#c3c3c3",height:"80px"}},je("".concat(i,"_").concat(e.fieldId),fe(e))),{},{id:"".concat(i,"_").concat(e.fieldId),name:"".concat(i,"_").concat(e.fieldId)}))}),me["".concat(i,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message mg0",children:me["".concat(i,"_").concat(e.fieldId)].message})]})})})),null===c||void 0===c?void 0:c.map((function(e,t){var n,a,c,i;null===e||void 0===e||null===(n=e.fieldId)||void 0===n||null===(a=n.replace(/"/g,""))||void 0===a||null===(c=a.replace(/'/g,""))||void 0===c||c.replace(/\s/g,"");if("CheckBox"===e.fieldType)return Object(m.jsx)("div",{className:"paddingTop10",children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop10 displayFlex",children:null===(i=e.fieldOptionList)||void 0===i?void 0:i.map((function(t){return Object(m.jsxs)("div",{className:"flexWithAlignItemCenter paddingRight5",children:[Object(m.jsx)(fa.a,{defaultValue:"",name:"".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId),rules:fe(e),control:Oe,render:function(n){var a,c,i;n.field;return Object(m.jsx)("input",Object(f.a)(Object(f.a)({defaultValue:""},je("".concat(null===e||void 0===e||null===(a=e.fieldType)||void 0===a||null===(c=a.replace(/"/g,""))||void 0===c||null===(i=c.replace(/'/g,""))||void 0===i?void 0:i.replace(/\s/g,""),"_").concat(e.fieldId))),{},{type:"checkbox",value:t.fieldOptionId}))}}),Object(m.jsx)("p",{children:t.fieldOptionValue})]})}))}),me["".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message mg0",children:me["".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId)].message})]})})})),null===c||void 0===c?void 0:c.map((function(e,t){var n,a,c,i,s=null===e||void 0===e||null===(n=e.fieldId)||void 0===n||null===(a=n.replace(/"/g,""))||void 0===a||null===(c=a.replace(/'/g,""))||void 0===c?void 0:c.replace(/\s/g,"");if("OptionList"===e.fieldType)return Object(m.jsx)("div",{className:"paddingTop15",children:Object(m.jsxs)(gt.a,{variant:"standard",className:"width100Percernt",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[null===e||void 0===e?void 0:e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsx)("div",{className:"paddingTop10 displayFlex",children:null===e||void 0===e||null===(i=e.fieldOptionList)||void 0===i?void 0:i.map((function(t){return Object(m.jsxs)("div",{className:"flexWithAlignItemCenter paddingRight5",children:[Object(m.jsx)(fa.a,{defaultValue:"",name:"".concat(s,"_").concat(null===e||void 0===e?void 0:e.fieldId),rules:fe(e),control:Oe,render:function(n){n.field;return Object(m.jsx)("input",Object(f.a)(Object(f.a)({defaultValue:""},je("".concat(s,"_").concat(null===e||void 0===e?void 0:e.fieldId))),{},{type:"radio",value:null===t||void 0===t?void 0:t.fieldOptionId}))}}),Object(m.jsx)("p",{className:"paddingTop3",children:null===t||void 0===t?void 0:t.fieldOptionValue})]})}))}),me["".concat(s,"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message mg0",children:me["".concat(s,"_").concat(e.fieldId)].message})]})})})),null===c||void 0===c?void 0:c.map((function(e,t){var n,a,c,i,s,r,l=null===e||void 0===e||null===(n=e.fieldId)||void 0===n||null===(a=n.replace(/"/g,""))||void 0===a||null===(c=a.replace(/'/g,""))||void 0===c?void 0:c.replace(/\s/g,"");if("FileUpload"===e.fieldType)return Object(m.jsxs)("div",{className:"paddingTop10",children:[Object(m.jsxs)(gt.a,{className:"availableContentWidth",variant:"standard",children:[Object(m.jsxs)(yn.a,{className:"fontSize15",shrink:!0,htmlFor:"bootstrap-input",children:[e.fieldLabel,"Y"===e.isRequired&&Object(m.jsx)("span",{className:"starickColor",children:"*"})]}),Object(m.jsxs)("label",{className:"contained-button-file",style:{width:"100%",paddingBottom:10,paddingTop:33},children:[Object(m.jsx)(w.a,{title:"Attachment",children:Object(m.jsx)("div",{style:{border:"1px solid #ddd",width:"100%"},children:Object(m.jsx)("p",{style:{textAlign:"center",color:"#0072EF"},children:"Add file"})})}),Object(m.jsx)(fa.a,Object(f.a)(Object(f.a)({defaultValue:"",name:"".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId),control:Oe},je("".concat(null===e||void 0===e||null===(i=e.fieldType)||void 0===i||null===(s=i.replace(/"/g,""))||void 0===s||null===(r=s.replace(/'/g,""))||void 0===r?void 0:r.replace(/\s/g,""),"_").concat(e.fieldId),{required:"Y"===e.isRequired&&"Required"})),{},{render:function(t){return Object(ya.a)(t),Object(m.jsx)("input",{onChange:function(t){return function(e,t,n){var a=localStorage.getItem("email");e.target.files=null;var c=e.target.files,i=Object(Ze.a)(E);if(e.target.files.length+i.length<=5){for(var s=function(t){z(!0);var s=c[t],r=new FormData;r.append("fileName",s),Object(J.I)(r,a).then((function(a){var c,r,l={aFile:a,afileType:"application"===(null===s||void 0===s||null===(c=s.type)||void 0===c?void 0:c.split("/")[0])?"file":null===s||void 0===s||null===(r=s.type)||void 0===r?void 0:r.split("/")[0],attachmentId:n};i.push(l),e.target.files.length+i.length===i.length+t+1&&z(!1)})).catch((function(e){console.log(e),z(!1),Object(O.c)("","something wrong","error")}))},r=0;r<c.length;r++)s(r);R(i),ge(t,"Uploaded")}else Object(O.c)("","Max attachment limit is 5 media files","error"),z(!1)}(t,"".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId),l)},multiple:"multiple",accept:".jpg, .jpeg, .png, .gif, .xlsx, .docx, .pdf, .txt, .xls, .mp4, .webm, .m4a, .mp3, .ogg, .ppt, .pptx, .wav, .doc",className:"contained-button-file-input",type:"file",name:"imgUpload"})}}))]})]}),Object(m.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto",width:"1%"},children:Q&&Object(m.jsx)(De.a,{size:20})}),Object(m.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:null===E||void 0===E?void 0:E.map((function(t){var n,a=(null===t||void 0===t||null===(n=t.aFile)||void 0===n?void 0:n.split("/"))||[];return l===t.attachmentId?Object(m.jsxs)("div",{className:"hoverParent",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",padding:7},children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",focusable:"false",viewBox:"0 0 12 12","aria-hidden":"true",class:"upload-item-icon",children:Object(m.jsx)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round",d:"M2.5 4v4.5c0 1.7 1.3 3 3 3s3-1.3 3-3v-6c0-1.1-.9-2-2-2s-2 .9-2 2v6c0 .6.4 1 1 1s1-.4 1-1V4"})}),Object(m.jsx)("a",{target:"_blank",style:{paddingLeft:10,paddingRight:10},href:null===t||void 0===t?void 0:t.aFile,children:a[(null===a||void 0===a?void 0:a.length)-1]}),Object(m.jsx)("div",{onClick:function(){z(!0);var n=E.findIndex((function(e){return(null===e||void 0===e?void 0:e.aFile)===(null===t||void 0===t?void 0:t.aFile)}));-1!==n&&(E.splice(n,1),0===E.length&&ge("".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId),""),setTimeout((function(){z(!1)}),500))},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",focusable:"false",viewBox:"0 0 12 12",class:"upload-item-icon",children:Object(m.jsx)("path",{stroke:"currentColor","stroke-linecap":"round",d:"M3 9l6-6m0 6L3 3"})})})]}):null}))}),me["".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId)]&&Object(m.jsx)("p",{className:"form-error-message paddingTop3",children:me["".concat(e.fieldType.replace(/\s/g,""),"_").concat(e.fieldId)].message})]})}))]}),Object(m.jsx)("div",{className:"buttonParent",children:Object(m.jsx)(La,{type:"submit",style:{margin:"0px",height:"40px",marginTop:"20px"},fullWidth:!0,variant:"contained",color:"primary",children:Object(m.jsx)("p",{children:"Start Chat"})})})]})},qa=n(458),Ga=(n(751),Object(qa.a)(xe.a)(za||(za=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"])))),Va=Object(C.a)((function(e){return{paper:{position:"absolute",minWidth:"80vw",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var Ha,Ja,Ya=function(e){var t=e.openPopup,n=e.closeAll,c=e.notClose,i=tt(),s=i.toggleModal,r=(i.ModalComponent,Va());return Object(a.useEffect)((function(){s(!!t)}),[t]),Object(m.jsx)(_e.a,{open:t,onClose:function(){return null},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",onBackdropClick:function(){return console.log(!1)},children:Object(m.jsx)("div",{style:{minWidth:"38vw",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},className:r.paper,children:Object(m.jsxs)("div",{className:"parentCloseDiv",children:[Object(m.jsx)("h2",{className:"closeText",children:"Do you want to Close?"}),Object(m.jsxs)("div",{className:"buttonParentTwo",children:[Object(m.jsx)(Ga,{onClick:function(){return c()},style:{backgroundColor:"#C1C1C1",color:"white",marginRight:"15px"},children:"No"}),Object(m.jsx)(Ga,{onClick:function(){return n()},style:{backgroundColor:"#F15E5E",color:"white",marginLeft:"15px"},children:"Yes"})]})]})})})},Ua=Object(ve.a)(xe.a)(Ha||(Ha=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))),Wa=function(e){var t,n,c=e.selectedSelfGenerateChat,i=(e.onUpdate,e.onCancel),s=tt(),l=s.toggleModal,o=s.ModalComponent,d=Object(a.useState)(!1),u=Object(v.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)([]),A=Object(v.a)(h,2),g=A[0],p=A[1],C=Object(a.useState)([]),I=Object(v.a)(C,2),y=I[0],S=I[1],N=Object(a.useState)(!1),k=Object(v.a)(N,2),M=k[0],D=k[1],L=Object(r.c)(sn.a),B=Object(a.useState)([]),E=Object(v.a)(B,2),R=E[0],T=E[1],P=Object(a.useState)([]),Q=Object(v.a)(P,2),z=Q[0],F=Q[1],q=Object(a.useState)([]),G=Object(v.a)(q,2),V=G[0],H=G[1],Y=Object(a.useState)(!1),U=Object(v.a)(Y,2),W=U[0],K=U[1],X=Object(a.useState)(""),Z=Object(v.a)(X,2),_=Z[0],$=Z[1],ee=Object(a.useState)([]),te=Object(v.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)([]),ie=Object(v.a)(ce,2),se=ie[0],re=ie[1],le=Object(a.useState)(null),oe=Object(v.a)(le,2),de=oe[0],ue=oe[1],je=Object(a.useState)(!1),be=Object(v.a)(je,2),he=be[0],Ae=be[1],ge=xa.a().shape({MobileNumber:xa.b().required("Required").min(10,"Mobile number must be at least 10 characters").max(36,"Mobile number must be at most 36 characters"),Name:xa.b().required("Required"),BookingId:xa.b().required("Required"),UserType:xa.b().required("Required"),City:xa.b().required("Required"),Macros:xa.a().required("Required").nullable(),department:xa.a().required("Required").nullable(),Vertical:xa.a().required("Required").nullable(),agent:xa.a().nullable(),status:xa.b().nullable(),description:xa.b(),InternalNotes:xa.b()}),Oe=Object(fa.e)({resolver:Object(va.a)(ge),defaultValues:{MobileNumber:"",Name:"",BookingId:"",UserType:"",City:"",Macros:"",department:"",Vertical:"",reason:"",agent:"",status:"",description:"",InternalNotes:""}}),me=Oe.register,pe=Oe.handleSubmit,fe=Oe.getValues,ve=Oe.reset,xe=Oe.setValue,Ie=Oe.control,ye=Oe.formState.errors;Object(a.useEffect)((function(){l(!!c),H([]),ve(),Le(),ue(null),Be()}),[c]),Object(a.useEffect)((function(){Se(),Ne(),we(),ke()}),[]),Object(a.useEffect)((function(){var e=L.activeChatSlice.selfGenerateAutofillForm;e?(xe("MobileNumber",""===e.MobileNo?null===e||void 0===e?void 0:e.ProfileId:null===e||void 0===e?void 0:e.MobileNo),xe("Name",e.Name),xe("UserType",""===e.cType?"No type selected":e.cType),b(!0),H([]),$(e.ProfileId)):(ve(),b(!1),H([]),$(""))}),[L.activeChatSlice.selfGenerateAutofillForm,c]);var Se=function(){var e={agentID:localStorage.getItem("email")};Object(J.t)(e).then((function(e){var t=[{id:0,label:"All",value:""}];e.data.departmentList.forEach((function(e,n){var a={id:e.id,label:e.DepartmentName,value:e.DepartmentName};return t.push(a),!0})),p(t)}))},we=function(){var e=[];Object(J.q)().then((function(t){t.data&&(t.data.reasonsList.forEach((function(t,n){var a={id:t.reasonId,label:t.ticket_reason,value:t.ticket_reason};return e.push(a),!0})),S(e))}))},Ne=function(){Object(J.v)().then((function(e){T(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log(e)}))},ke=function(){Object(J.z)().then((function(e){e.data.chatPDMessages&&F(e.data.chatPDMessages)})).catch((function(e){console.log(e)}))},Me=function(){var e=Object(Ge.a)(qe.a.mark((function e(t){var n,a,c,s,r,l,o;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=localStorage.getItem("email"),D(!0),o={departmentId:"".concat(1===g.length?g[0].id:null===t||void 0===t?void 0:t.department.id),agentId:l,ProfileId:""!==_?_:(null===t||void 0===t?void 0:t.MobileNumber.length)>12?null===t||void 0===t?void 0:t.MobileNumber:"",Mobile:(null===t||void 0===t?void 0:t.MobileNumber.length)<=12?null===t||void 0===t?void 0:t.MobileNumber:"",cName:null===t||void 0===t?void 0:t.Name,cType:"No type selected"===(null===t||void 0===t?void 0:t.UserType)?"":null===t||void 0===t?void 0:t.UserType,reason:null===(null===t||void 0===t?void 0:t.reason)||void 0===(null===t||void 0===t||null===(n=t.reason)||void 0===n?void 0:n.id)?"0":"".concat(null===t||void 0===t||null===(a=t.reason)||void 0===a?void 0:a.id),ic_ToAgentId:null===(null===t||void 0===t?void 0:t.agent)?"":null===t||void 0===t||null===(c=t.agent)||void 0===c?void 0:c.agentId,ic_Status:"Self assgin pending"===(null===t||void 0===t?void 0:t.status)||""===(null===t||void 0===t?void 0:t.status)||null===(null===t||void 0===t?void 0:t.status)?"Pending":null===t||void 0===t?void 0:t.status,ic_Vretical:"".concat(null===t||void 0===t||null===(s=t.Vertical)||void 0===s?void 0:s.id),ic_MacroId:"".concat(null===t||void 0===t||null===(r=t.Macros)||void 0===r?void 0:r.id),ic_BookingId:"".concat(null===t||void 0===t?void 0:t.BookingId),ic_Description:"".concat(null===t||void 0===t?void 0:t.description),ic_InternalNotes:"".concat(null===t||void 0===t?void 0:t.InternalNotes),ic_attachments:V,ic_City:null===t||void 0===t?void 0:t.City},Object(J.C)(o).then((function(e){e&&(D(!1),i())})).catch((function(e){console.log(e),D(!1),i(),Object(O.c)("Generate chat","Failed","error")})),ve();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){if(e){ae(["Self assgin pending","Active","Close"])}else{ae(["Pending","Active","Close"])}},Be=function(){var e={agentID:localStorage.getItem("email")},t=[];Object(J.k)(e).then((function(e){e.data.forEach((function(e,n){var a={id:e.formId,label:e.formTitle,value:e.formTitle};return t.push(a),!0})),re(t)})).catch((function(e){console.log(e)}))},Ee=null===L||void 0===L||null===(t=L.onlineAgentSlice)||void 0===t||null===(n=t.OnlineAgent)||void 0===n?void 0:n.filter((function(e){return"Online"===e.loginstatus}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ya,{openPopup:he,closeAll:function(){i(),ve(),Ae(!1)},notClose:function(){l(!0),Ae(!1)}}),Object(m.jsxs)(o,{children:[Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:1,children:Object(m.jsx)("div",{onClick:function(){Ae(!0)},className:"cross",children:Object(m.jsx)(ct.a,{})})})}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)("p",{className:"title",style:{marginBottom:15},children:null!==de?de.value:"Generate new chat"})})}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)(Ca,{size:"small",fullWidth:!0,options:se,getOptionLabel:function(e){return e.value},name:"form",renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Select Form",variant:"outlined"}))},control:Ie,onChange:function(e){return ue(e)},style:{marginBottom:5,width:"97%",paddingLeft:10}})}),de?Object(m.jsx)(Fa,{onCancel:i,selectedForm:de}):Object(m.jsx)("form",{onSubmit:pe(Me),children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{style:{overflowY:"scroll",height:"60vh",padding:"10px"},children:[Object(m.jsx)("h3",{style:{marginBottom:0},children:"User Information"}),Object(m.jsxs)(x.a,{style:{alignItems:"center"},container:!0,spacing:1,children:[Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",fullWidth:!0,disabled:j,defaultValue:"",label:"Mobile Number or Profile id*",variant:"outlined",margin:"normal",id:"MobileNumber"},me("MobileNumber")),{},{name:"MobileNumber"})),ye.MobileNumber?Object(m.jsx)("p",{className:"form-error-message mg0",children:ye.MobileNumber.message}):Object(m.jsx)("p",{className:"mg0 whiteColor",children:"a"})]}),Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",fullWidth:!0,defaultValue:"",label:"Name*",margin:"normal",variant:"outlined",disabled:j,id:"Name"},me("Name")),{},{name:"Name"})),ye.Name?Object(m.jsx)("p",{className:"form-error-message mg0",children:ye.Name.message}):Object(m.jsx)("p",{className:"mg0 whiteColor",children:"a"})]}),Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",label:"Booking id*",fullWidth:!0,defaultValue:"",margin:"normal",variant:"outlined",id:"BookingId"},me("BookingId")),{},{name:"BookingId"})),ye.BookingId?Object(m.jsx)("p",{className:"form-error-message mg0",children:ye.BookingId.message}):Object(m.jsx)("p",{className:"mg0 whiteColor",children:"a"})]})]}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{sx:{m:1,minWidth:120},size:"small",variant:"outlined",style:{width:"100%",marginTop:"7px",marginBottom:"7px"},children:[Object(m.jsx)(yn.a,{id:"demo-simple-select-outlined-label",children:fe().UserType?fe().UserType:"User Type*"}),Object(m.jsxs)(Sn.a,Object(f.a)(Object(f.a)({size:"small",disabled:j,labelId:"demo-simple-select-outlined-label",label:"User Type",fullWidth:!0,id:"UserType"},me("UserType")),{},{name:"UserType",children:[Object(m.jsx)(Mt.a,{value:"partner",children:"Partner"}),Object(m.jsx)(Mt.a,{value:"customer",children:"Customer"})]})),ye.UserType&&Object(m.jsx)("p",{className:"form-error-message",children:ye.UserType.message})]})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsxs)(gt.a,{sx:{m:1,minWidth:120},size:"small",variant:"outlined",style:{width:"100%",marginTop:"7px",marginBottom:"7px"},children:[Object(m.jsx)(yn.a,{id:"demo-simple-select-outlined-label",children:"City*"}),Object(m.jsxs)(Sn.a,Object(f.a)(Object(f.a)({size:"small",labelId:"demo-simple-select-outlined-label",id:"City"},me("City")),{},{name:"City",label:"City*",fullWidth:!0,children:[Object(m.jsx)(Mt.a,{value:"KHI",children:"Karachi"}),Object(m.jsx)(Mt.a,{value:"LHR",children:"Lahore"}),Object(m.jsx)(Mt.a,{value:"ISL",children:"Islamabad"})]})),ye.City&&Object(m.jsx)("p",{className:"form-error-message",children:ye.City.message})]})})]}),Object(m.jsx)("h3",{children:"Other Information"}),Object(m.jsxs)(x.a,{style:{paddingBottom:"14px"},container:!0,spacing:1,children:[Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[Object(m.jsx)(fa.a,{name:"Macros",control:Ie,rules:{required:!0},render:function(e){e.field;return Object(m.jsx)(Ca,{size:"small",options:z,getOptionLabel:function(e){return e.msgKey},name:"Macros",renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Macros*",variant:"outlined"}))},control:Ie,onChange:function(e){if(0!==(null===e||void 0===e?void 0:e.TicketId)){var t=y.find((function(t){return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.TicketId)}))||{};xe("reason",t)}else xe("reason",null)}})}}),ye.Macros&&Object(m.jsx)("p",{className:"form-error-message",children:ye.Macros.message})]}),Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[1===g.length?null:Object(m.jsx)(fa.a,{name:"department",control:Ie,rules:{required:!0},render:function(e){e.field;return Object(m.jsx)(Ca,{size:"small",options:g,getOptionLabel:function(e){return e.value},name:"department",renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Department*",variant:"outlined"}))},control:Ie,onChange:function(e){return null}})}}),ye.department&&Object(m.jsx)("p",{className:"form-error-message",children:ye.department.message})]}),Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[Object(m.jsx)(fa.a,{name:"Vertical",control:Ie,rules:{required:!0},render:function(e){e.field;return Object(m.jsx)(Ca,{size:"small",options:R,getOptionLabel:function(e){return e.chatType},name:"Vertical",renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Vertical*",variant:"outlined"}))},control:Ie,onChange:function(e){return null}})}}),ye.Vertical&&Object(m.jsx)("p",{className:"form-error-message",children:ye.Vertical.message})]})]}),Object(m.jsxs)(x.a,{style:{paddingBottom:"0px"},container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(fa.a,{name:"agent",control:Ie,render:function(e){e.field;return Object(m.jsx)(Ca,{size:"small",options:Ee,getOptionLabel:function(e){return e.agentId},name:"agent",onInputChange:function(e,t){xe("agent",t),Le(!1)},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Agent",variant:"outlined"}))},control:Ie,onChange:function(e){xe("status","Self assgin pending"),Le(!0)}})}})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(fa.a,{name:"reason",control:Ie,render:function(e){var t;e.field;return Object(m.jsx)(Ca,{size:"small",value:null===(t=fe())||void 0===t?void 0:t.reason,options:y,getOptionLabel:function(e){return e.value},name:"reason",renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Reason",variant:"outlined"}))},control:Ie,onChange:function(){return null}})}})}),Object(m.jsx)(x.a,{item:!0,xs:!0,children:Object(m.jsx)(fa.a,{name:"status",control:Ie,render:function(e){e.field;return Object(m.jsx)(Ca,{size:"small",options:ne,value:null!==fe().agent&&""!==fe().agent?fe().status:"pending",disabled:null===fe().agent||""===fe().agent,getOptionLabel:function(e){return e},name:"status",renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Status",variant:"outlined"}))},control:Ie,onChange:function(e){return null}})}})})]}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",label:"Description",fullWidth:!0,onChange:function(e){return null},maxRows:4,margin:"normal",variant:"outlined",id:"description"},me("description")),{},{name:"description"})),ye.description&&Object(m.jsx)("p",{className:"form-error-message",children:ye.description.message})]}),Object(m.jsxs)(x.a,{item:!0,xs:!0,children:[Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({size:"small",label:"Internal notes",fullWidth:!0,onChange:function(e){return null},maxRows:4,margin:"normal",variant:"outlined",id:"InternalNotes"},me("InternalNotes")),{},{name:"InternalNotes"})),ye.InternalNotes&&Object(m.jsx)("p",{className:"form-error-message",children:ye.InternalNotes.message})]})]}),Object(m.jsx)("h4",{children:"Attachments"}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsxs)("label",{className:"contained-button-file",style:{width:"100%",paddingBottom:10},children:[Object(m.jsx)(w.a,{title:"Attachment",children:Object(m.jsx)("div",{style:{border:"1px solid #ddd",width:"100%"},children:Object(m.jsx)("p",{style:{textAlign:"center",color:"#0072EF"},children:"Add file"})})}),Object(m.jsx)("input",{onChange:function(e){var t=localStorage.getItem("email"),n=e.target.files,a=Object(Ze.a)(V);if(e.target.files.length+a.length<=5){for(var c=function(c){K(!0);var i=n[c],s=new FormData;s.append("fileName",i),Object(J.I)(s,t).then((function(t){var n,s,r={aFile:t,aFileType:"application"===(null===i||void 0===i||null===(n=i.type)||void 0===n?void 0:n.split("/")[0])?"file":null===i||void 0===i||null===(s=i.type)||void 0===s?void 0:s.split("/")[0]};a.push(r),e.target.files.length+a.length===a.length+c+1&&K(!1)})).catch((function(e){console.log(e),K(!1),Object(O.c)("","something wrong","error")}))},i=0;i<n.length;i++)c(i);H(a)}else Object(O.c)("","Max attachment limit is 5 media files","error"),K(!1)},multiple:"multiple",accept:".jpg, .jpeg, .png, .gif, .xlsx, .docx, .pdf, .txt, .xls, .mp4, .webm, .m4a, .mp3, .ogg, .ppt, .pptx, .wav, .doc",className:"contained-button-file-input",type:"file",name:"imgUpload"})]})}),Object(m.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto",width:"1%"},children:W&&Object(m.jsx)(De.a,{size:20})}),Object(m.jsx)(x.a,{container:!0,spacing:1,children:Object(m.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:null===V||void 0===V?void 0:V.map((function(e){var t,n=(null===e||void 0===e||null===(t=e.aFile)||void 0===t?void 0:t.split("/"))||[];return Object(m.jsxs)("div",{className:"hoverParent",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",padding:7},children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",focusable:"false",viewBox:"0 0 12 12","aria-hidden":"true",class:"upload-item-icon",children:Object(m.jsx)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round",d:"M2.5 4v4.5c0 1.7 1.3 3 3 3s3-1.3 3-3v-6c0-1.1-.9-2-2-2s-2 .9-2 2v6c0 .6.4 1 1 1s1-.4 1-1V4"})}),Object(m.jsx)("a",{target:"_blank",style:{paddingLeft:10,paddingRight:10},href:null===e||void 0===e?void 0:e.aFile,children:n[(null===n||void 0===n?void 0:n.length)-1]}),Object(m.jsx)("div",{onClick:function(){K(!0);var t=V.findIndex((function(t){return(null===t||void 0===t?void 0:t.aFile)===(null===e||void 0===e?void 0:e.aFile)}));-1!==t&&(V.splice(t,1),setTimeout((function(){K(!1)}),500))},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",focusable:"false",viewBox:"0 0 12 12",class:"upload-item-icon",children:Object(m.jsx)("path",{stroke:"currentColor","stroke-linecap":"round",d:"M3 9l6-6m0 6L3 3"})})})]})}))})})]}),Object(m.jsxs)(x.a,{container:!0,spacing:1,children:[Object(m.jsx)(x.a,{item:!0,xs:!0}),Object(m.jsx)(x.a,{item:!0,xs:4,children:Object(m.jsx)(Ua,{type:"submit",style:{margin:"0px",height:"40px",marginTop:"20px"},fullWidth:!0,variant:"contained",color:"primary",children:M?Object(m.jsx)(De.a,{size:20,style:{color:"#2A6FDD",padding:"3px"}}):Object(m.jsx)("p",{children:"Start Chat"})})}),Object(m.jsx)(x.a,{item:!0,xs:!0})]})]})})]})]})},Ka=(Object(ve.a)(xe.a)(Ja||(Ja=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"]))),c.a.forwardRef((function(e,t){return Object(m.jsx)(Oa.a,Object(f.a)({direction:"up",ref:t},e))}))),Xa=function(e){var t=e.isOpenCallpop,n=(e.onUpdate,e.onCancel),i=c.a.useState(!1),s=Object(v.a)(i,2),l=(s[0],s[1],Object(r.b)()),o=Object(a.useState)(""),d=Object(v.a)(o,2),u=d[0],j=d[1],b=Object(a.useState)(!1),h=Object(v.a)(b,2),A=h[0],g=h[1],O=Object(a.useState)([]),p=Object(v.a)(O,2),f=p[0],x=p[1],C=Object(a.useState)(!1),I=Object(v.a)(C,2),y=I[0],S=I[1],N=Object(a.useState)(""),k=Object(v.a)(N,2),M=k[0],D=k[1],L=Object(a.useState)(null),B=Object(v.a)(L,2),E=B[0],R=B[1],T=Object(a.useState)(!1),P=Object(v.a)(T,2),Q=(P[0],P[1],function(e){return function(){(null===E||void 0===E?void 0:E.ProfileId)===(null===e||void 0===e?void 0:e.ProfileId)?R(null):R(e)}}),z=function(e){if(null===e||void 0===e||e.preventDefault(),""!==u&&u.length>9){S(!0);var t={agentId:localStorage.getItem("email"),Mobile:u};Object(J.w)(t).then((function(e){var t;x(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userList),S(!1),D("")})).catch((function(e){console.log(e),S(!1),D("")}))}else x([]),D("Minimum 10 digit")},F=function(e){l(Object(sn.f)(e)),n(),setTimeout((function(){g(!0)}),500)};return Object(a.useEffect)((function(){x([]),j(""),R(null)}),[t]),Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(Wa,{selectedSelfGenerateChat:A,onCancel:function(){return g(!1)}}),Object(m.jsx)(Aa.a,{open:t,TransitionComponent:Ka,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:Object(m.jsxs)("div",{style:{width:"27vw"},children:[Object(m.jsx)("div",{style:{padding:"11px",width:"93%"},children:Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsx)("div",{style:{flex:1},children:Object(m.jsx)("h2",{className:"textMuted",style:{textAlign:"left",fontSize:"16px",fontWeight:"400"},children:"Search user"})}),Object(m.jsx)("div",{children:Object(m.jsx)(w.a,{title:"Close",children:Object(m.jsx)(ct.a,{onClick:function(){n()},style:{color:"#777",cursor:"pointer"}})})})]})}),Object(m.jsxs)("div",{className:"conversation-search",style:{padding:"11px",paddingBottom:0,flexDirection:"row"},children:[Object(m.jsx)("form",{style:{width:"100%"},onSubmit:function(e){return z(e)},children:Object(m.jsx)("input",{type:"search",onChange:function(e){return j(e.target.value)},className:"conversation-search-input",style:{width:"100%"},placeholder:"Mobile no",value:u})}),Object(m.jsx)("div",{children:Object(m.jsx)(Nt.a,{style:{padding:"7px"},onClick:function(){return z()},"aria-label":"delete",children:Object(m.jsx)(pa.a,{})})})]}),Object(m.jsx)("p",{className:"errorValid",children:M}),Object(m.jsx)(jn.a,{dense:!0,className:" liStyle2",style:{paddingLeft:30,height:"16vh",paddingRight:0},children:null!==f&&0!==f.length?f.map((function(e,t){"checkbox-list-secondary-label-".concat("a");return Object(m.jsxs)("div",{className:"displayFlex justifyContentSB",style:{borderBottom:"1px solid #c3c3c3"},children:[Object(m.jsxs)("div",{className:"displayFlex justifyContentSB alignItemCenter",children:[Object(m.jsx)("div",{style:{padding:"12px"},children:Object(m.jsx)("img",{className:"conversation-photo",src:"https://www.tilismtechservices.com/ChatSDK/dist/img/TelloLogo.png",alt:"img"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"displayFlex",children:[Object(m.jsx)("p",{style:{margin:0},children:e.Name}),Object(m.jsx)("div",{style:{fontSize:8},className:"customer"===e.cType?"customer":"partner",children:e.cType?"".concat(e.cType):"No type selected"})]}),Object(m.jsxs)("p",{style:{margin:"0px",fontSize:"10px"},children:["Mobile no: ",e.MobileNo]}),Object(m.jsxs)("p",{style:{margin:"0px",fontSize:"10px"},children:["Profile Id: ",e.ProfileId]})]})]}),Object(m.jsx)("div",{style:{padding:"9px"},children:Object(m.jsx)(Le.a,{edge:"end",onChange:Q(e),checked:E===e,inputProps:{"aria-label":"controlled"},color:"primary"})})]})})):Object(m.jsx)("p",{style:{textAlign:"center",paddingLeft:"24px"},children:y?Object(m.jsx)(De.a,{size:20}):"No user found"})}),Object(m.jsx)(ga.a,{children:Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsx)(xe.a,{onClick:function(){if(E){var e={ProfileId:null===E||void 0===E?void 0:E.ProfileId,MobileNo:null===E||void 0===E?void 0:E.MobileNo,Name:null===E||void 0===E?void 0:E.Name,cType:null===(null===E||void 0===E?void 0:E.cType)?"No type selected":null===E||void 0===E?void 0:E.cType};F(e)}else F(null)},style:{backgroundColor:"rgb(46, 125, 50)",color:"white"},children:"Generate new chat"})})})]})})]})},Za=Object(a.memo)(Xa),_a=Array.from({length:4e4},(function(){return y()({luminosity:"dark"})}));function $a(e){var t,n,c,i,s=Object(r.c)(sn.a),l=Object(a.useState)([]),o=Object(v.a)(l,2),d=o[0],u=o[1],b=Object(a.useState)([]),h=Object(v.a)(b,2),A=h[0],p=h[1],C=Object(a.useState)(""),I=Object(v.a)(C,2),y=I[0],S=I[1],N=Object(a.useState)([]),k=Object(v.a)(N,2),M=k[0],D=k[1],L=Object(a.useState)(!1),B=Object(v.a)(L,2),E=B[0],R=B[1],T=Object(a.useState)(!1),P=Object(v.a)(T,2),Q=P[0],z=P[1],F=Object(a.useState)(),q=Object(v.a)(F,2),G=q[0],V=q[1],H=Object(a.useState)([]),Y=Object(v.a)(H,2),U=Y[0],K=Y[1],X=Object(a.useState)(!1),$=Object(v.a)(X,2),ne=$[0],ae=$[1],ce=Object(a.useState)(0),ie=Object(v.a)(ce,2),se=ie[0],re=(ie[1],Object(a.useState)([])),le=Object(v.a)(re,2),oe=le[0],de=(le[1],Object(a.useContext)(g.a)),ue=Object(r.b)(),je=Object(a.useState)(),be=Object(v.a)(je,2),he=be[0],ge=be[1];Object(Z.a)((function(e){return{badge:{right:"-15px",border:"2px solid #f5f5f5",padding:"0 6px",top:"50%"}}}))(_.a);Object(a.useEffect)((function(){!0===e.location.callSendgetChatdata&&Oe(e.location.initiateObj.conversation)}),[e]);var Oe=function(e,t){ue(Object(te.e)([e])),ue(Object(te.d)([t]));var n={mobile:e.profileId.toString(),chatId:e.chatId.toString()};p([n])};Object(a.useEffect)((function(){!0===s.chatMsgListSlice.forRoute&&A.length>0&&e.history.push({pathname:"".concat(Object(O.d)(),"dashboard/active-chats/").concat(A&&A[0]&&A[0].mobile)})}),[s.chatMsgListSlice.forRoute,A]),Object(a.useEffect)((function(){pe()}),[A]);var me=function(e){return"audio"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(Bn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"Audio"})]}):"image"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(Rn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"Photo"})]}):"video"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(Pn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"Video"})]}):"file"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(zn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"File"})]}):Object(m.jsx)("p",{className:"message",children:e.message?e.message:""})},pe=function(){de.getChatData(A),ue(Object(te.h)(!1))},fe=function(e){var t=M;t.some((function(t){return t.chatId===e.chatId}))?t=t.filter((function(t){return t.chatId!==e.chatId})):t.push(e),D(t)},ve=function(e,t,n){var a=s.chatMsgListSlice.conversationObj.length>0&&s.chatMsgListSlice.conversationObj||[];return Object(m.jsxs)(x.a,{style:{borderBottom:Se?"1px solid rgb(105, 105, 105)":"1px solid rgb(222, 222, 222)",backgroundImage:a.find((function(t){return e.profileId===t.profileId}))?"".concat(Se?"#323739":"linear-gradient(to right, #6ee2db , #fbf4b7)"):"",backgroundColor:a.find((function(t){return e.profileId===t.profileId}))?"".concat(Se?"#323739":"#6ee2db"):""},className:W()()===W()(e.msgDate)?"blink-bg rowRenderGridParent ".concat(Se?"hoverModeDark":"hoverModeWhite"):"rowRenderGridParent ".concat(Se?"hoverModeDark":"hoverModeWhite"),container:!0,spacing:1,children:[Object(m.jsx)(x.a,{className:"rowRenderGridFirstChild",container:!0,item:!0,xs:2,spacing:0,children:Object(m.jsx)(j.b,{onClick:function(){E||(Oe(e,_a[t]),ue(Ae(8)),ue(Object(te.i)(null)),ue(Object(Kt.e)(!1)))},style:{textDecoration:"none"},children:Object(m.jsx)("div",{className:"circleParent",children:E?Object(m.jsx)("div",{className:"".concat(E?"":"circle"),style:{backgroundColor:"transparent"},onClick:function(){if(E){var t={profileId:e.profileId,chatId:e.chatId};fe(t)}},children:M.some((function(t){return t.chatId===e.chatId}))?Object(m.jsx)(ke.a,{style:{color:"#555"}}):Object(m.jsx)(on.a,{style:{color:"#ccc"}})}):Object(m.jsx)("div",{className:"circle",style:{backgroundColor:"".concat(_a[t])},children:e.Name[0]?e.Name[0].toUpperCase():""})})})}),Object(m.jsx)(x.a,{container:!0,item:!0,xs:6,spacing:0,children:Object(m.jsx)(j.b,{onClick:function(){if(E){var n={profileId:e.profileId,chatId:e.chatId};fe(n)}else Oe(e,_a[t]),ue(Ae(8)),ue(Object(te.i)(null)),ue(Object(Kt.e)(!1))},style:{textDecoration:"none",width:"100%"},to:"".concat(Object(O.d)(),"dashboard/active-chats/").concat(e.profileId),children:Object(m.jsxs)("div",{children:[Object(m.jsx)(w.a,{title:e.Name,children:Object(m.jsxs)("h4",{style:{color:Se?"#D3E0D5":"#222"},className:"chatText",children:[e.Name.charAt(0).toUpperCase()+e.Name.slice(1).substring(0,22)+"".concat(e.Name.length>22?"...":""),e.cType?Object(m.jsx)("div",{className:"customer"===e.cType.toLowerCase()?"customer":"partner",children:e.cType?"".concat(e.cType):""}):null]})}),Object(m.jsx)("small",{className:"profileIdText",children:null===e||void 0===e?void 0:e.profileId}),Object(m.jsx)("p",{className:"DepartmentName",children:e.DepartmentName}),Object(m.jsx)("div",{children:me(e)})]})})}),Object(m.jsx)(x.a,{className:"rowRenderGridThirdChild",container:!0,item:!0,xs:4,spacing:0,children:Object(m.jsxs)("div",{onClick:function(){if(E){var n={profileId:e.profileId,chatId:e.chatId};fe(n)}else Oe(e,_a[t]),ue(Ae(8)),ue(Object(te.i)(null)),ue(Object(Kt.e)(!1))},className:"timeStampDiv",children:[Object(m.jsx)("p",{className:"timeStamp",children:W()()===W()(e.msgDate)?"Just Now":"".concat(W()(e.msgDate).fromNow())}),e.MessageCount>0?Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("p",{className:"counter",children:e.MessageCount})]}):"",Object(m.jsx)("div",{className:"optionsMenu",children:!ye&&Object(m.jsx)(rn,{chatId:e.chatId,mobile:e.profileId,name:e.Name,color:_a,handleCallBack:function(){return console.log("e")},handleOpenNewWindow:function(e,t){return function(e,t){var n=Object(Ze.a)(A),a=Object(Ze.a)(s.chatMsgListSlice.conversationObj);if(!a.some((function(t){return t.profileId===e.profileId}))){var c={mobile:e.profileId.toString(),chatId:e.chatId.toString()};a.length<3?(n.push(c),a.push(e),ue(Object(te.e)(a)),p(n),ue(Object(te.d)(t))):(a.shift(),n.shift(),a.push(e),n.push(c),p(n),ue(Object(te.e)(a)),ue(Object(te.d)(t)))}}(e,t)},index:t,sendChatIdandMobile:function(){return console.log("e")},conversation:e,toggleMultiSelect:function(){return function(e){if(E)R(!E),D([]);else{var t=M;t.push(e),R(!E),D(t)}}({profileId:e.profileId,chatId:e.chatId})},enableSelection:E})})]})})]})};Object(a.useEffect)((function(){ye||de.getActiveChatList(),ue(Ae(8))}),[]),Object(a.useEffect)((function(){null===s.activeChatSlice.groupIdActiveChat?s&&s.activeChatSlice&&s.activeChatSlice.activeChats&&Ce():xe(s.activeChatSlice.groupIdActiveChat)}),[s.activeChatSlice.activeChats,s.activeChatSlice.groupIdActiveChat]);var xe=function(e){var t=s.activeChatSlice.activeChats.length>0&&s.activeChatSlice.activeChats.filter((function(t){return t.agroupId===e}));u(t)},Ce=function(){s.activeChatSlice.activeChats?u(s.activeChatSlice.activeChats):u(null)},Ie=function(){R(!1),D([]),z(!1)};Object(a.useEffect)((function(){Object(J.m)().then((function(e){var t;K(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.agentList)}))}),[Q]);var ye=s.authLoginSlice.isSupervisor,Se=s.authLoginSlice.isDarkMode,we="BD7F6B1ECAC942F4961082D0F135D7"===(null===s||void 0===s||null===(t=s.authLoginSlice)||void 0===t||null===(n=t.loginData)||void 0===n?void 0:n.SDKAccessKey)||"A954439C518E4F8F8B7DD7E1C46B98"===(null===s||void 0===s||null===(c=s.authLoginSlice)||void 0===c||null===(i=c.loginData)||void 0===i?void 0:i.SDKAccessKey);return Object(m.jsxs)(x.a,{style:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:Se?"#131C21":"",zIndex:1},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(fn,{agentID:localStorage.getItem("email"),handleChatForwarding:function(t,n){var a={agentId:localStorage.getItem("email"),forwardToAgentId:t,ChatList:M,forwardMessage:n};Object(J.g)(a).then((function(t){t&&(z(!1),R(!1),D([]),e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/bg")),Object(O.c)("Forward Chat","Chat Forward Successful","success"))}))},chatForwardButton:Q,chatForwardButtonCloseMethod:Ie,agentList:U&&U}),Object(m.jsx)(Dn,{selectedstandardSelfGenerateForm:he,onCancel:function(){return ge(!1)}}),Object(m.jsx)(Za,{isOpenCallpop:G,onCancel:function(){return V(!1)}})]}),Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,style:{borderLeft:"1px solid #c3c3c3",borderRight:"1px solid #c3c3c3"},children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"chatPP",children:[Object(m.jsx)("div",{className:"chatRequestHeadingParent",children:Object(m.jsxs)("p",{className:"ActivechatHeading",children:["Active Chats",Object(m.jsx)("span",{children:!ye&&Object(m.jsx)(w.a,{title:"Create Chat",children:Object(m.jsx)(Nt.a,{style:{color:Se?"rgb(247, 248, 250)":"#696969"},onClick:function(){we?V(!0):ge(!0)},"aria-label":"filter",children:Object(m.jsx)(In.a,{style:{padding:"0px"}})})})})]})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"Abovetitle",children:Object(m.jsx)(w.a,{title:"Press Enter to search",children:Object(m.jsx)("div",{className:"abConversation",children:Object(m.jsx)("div",{className:"abCon",children:Object(m.jsx)(cn,{style:{color:Se?"rgb(247, 248, 250)":"#696969",backgroundColor:Se?"#696969":""},handleOnChangeMessageSearch:function(e){return S(e.target.value.toLowerCase())},ChatKey:"ActiveChatSearch",isDark:Se,value:y,handleSearch:function(){console.log("s")},OnKeyPress:!0})})})})})})]}),Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"27px"},children:[Object(m.jsx)("div",{style:{display:E?"flex":"none",alignItems:"center",paddingLeft:"18px"},children:Object(m.jsx)(Me.a,{style:{height:"4vh"},className:"reasonParent",control:Object(m.jsx)(Le.a,{checked:ne,onChange:function(e){return function(e,t){if(ae(e),e){var n=t.map((function(e){return{chatId:e.chatId,profileId:e.profileId}}));D(n)}else D([])}(e.target.checked,0===se?d:oe)},name:"checkedB",color:"primary"})})}),Object(m.jsx)("div",{style:{display:E?"flex":"none",alignItems:"center",width:"100px"},children:Object(m.jsxs)("p",{style:{paddingRight:"9px",fontSize:"12px"},children:[M.length," Selected"]})}),Object(m.jsxs)("div",{style:{display:"flex",marginLeft:"35%"},children:[Object(m.jsx)(w.a,{title:"Cancel",children:Object(m.jsx)(Nt.a,{onClick:Ie,style:{display:E?"flex":"none"},children:Object(m.jsx)(ee.a,{})})}),Object(m.jsx)(w.a,{title:"Forward Chat",children:Object(m.jsx)(Nt.a,{onClick:function(){return z(!0)},style:{display:E?"flex":"none"},children:Object(m.jsx)(un.a,{style:{WebkitTransform:"scaleX(-1)"}})})})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"chat-type-tabs-Active",children:Object(m.jsx)("div",{className:"tabpanelChild",children:d&&d.length>0?d.filter((function(e){return function(e){return e.Name.toLowerCase().toLowerCase().includes(y)||e.profileId.includes(y)||e.DepartmentName.includes(y)}(e)})).map((function(e,t){return Object(m.jsx)("div",{children:ve(e,t)},t)})):Object(m.jsx)("p",{style:{textAlign:"center"},children:"No active chat"})})})})]})}),Object(m.jsx)(j.a,{path:"".concat(e.match.path,"/:{chatId}")})]})}var ec=n(877),tc=n(838),nc=n(202),ac=n.n(nc),cc=n(201),ic=n.n(cc),sc=(n(387),n(870)),rc=n(881),lc=n(871),oc=n(191);function dc(e){var t=Object(a.useState)(null),n=Object(v.a)(t,2),c=n[0],i=n[1],s=e.disabled,r=[{id:1,value:e.dropdownLabel}],l=function(e){i(null)};return Object(m.jsxs)("div",{className:"filter-menu-button",style:{opacity:s?0:1},children:[Object(m.jsx)(Nt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:s?"":function(e){i(e.currentTarget)},style:e.style,children:Object(m.jsx)(H.a,{})}),Object(m.jsx)(kt.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:l,children:r.map((function(t,n){return Object(m.jsx)(Mt.a,{onClick:function(){return function(t){switch(t){case 1:e.toggleMultiSelect(),l()}}(t.id)},children:e.enableSelection?"Cancel":e.dropdownLabel},n)}))})]})}var uc=n(80),jc=n(172),bc=n.n(jc),hc=Array.from({length:4e4},(function(){return y()({luminosity:"dark"})}));function Ac(e){var t,n=Object(a.useState)(!1),c=Object(v.a)(n,2),i=c[0],s=c[1],l=Object(a.useState)(W()().subtract(1,"days")),o=Object(v.a)(l,2),d=o[0],u=o[1],j=Object(a.useState)(new Date),b=Object(v.a)(j,2),h=b[0],A=b[1],p=Object(a.useState)(0),C=Object(v.a)(p,2),I=C[0],y=C[1],S=Object(a.useState)([]),N=Object(v.a)(S,2),k=N[0],M=N[1],D=Object(a.useState)([]),L=Object(v.a)(D,2),B=L[0],E=L[1],R=Object(a.useState)(!1),T=Object(v.a)(R,2),P=T[0],Q=T[1],z=Object(r.c)(ra.a),F=Object(a.useState)(null),q=Object(v.a)(F,2),G=q[0],V=q[1],H=Object(a.useState)(""),Y=Object(v.a)(H,2),U=Y[0],K=Y[1],X=Object(a.useContext)(g.a),$=Object(a.useState)([]),te=Object(v.a)($,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),ie=Object(v.a)(ce,2),se=ie[0],re=ie[1],le=Object(a.useState)(!1),oe=Object(v.a)(le,2),de=oe[0],ue=oe[1],je=Object(a.useState)([]),be=Object(v.a)(je,2),he=be[0],Ae=be[1],ge=Object(a.useState)(!1),Oe=Object(v.a)(ge,2),me=Oe[0],pe=Oe[1],fe=Object(a.useState)([]),ve=Object(v.a)(fe,2),xe=ve[0],Ce=ve[1],Ie=Object(a.useState)(!1),ye=Object(v.a)(Ie,2),Se=ye[0],we=ye[1],Ne=Object(a.useState)(null),Be=Object(v.a)(Ne,2),Ee=Be[0],Re=Be[1],Te=Object(a.useState)(!1),Pe=Object(v.a)(Te,2),Qe=Pe[0],ze=Pe[1],Fe=Object(r.b)(),qe=Object(Z.a)((function(e){return{badge:{right:"-15px",border:"2px solid #f5f5f5",padding:"0 6px",top:"50%"}}}))(_.a),Ge=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}};Object(a.useEffect)((function(){var e,t=z.chatRequestSlice;(null===t||void 0===t||null===(e=t.searchChatList)||void 0===e?void 0:e.length)>0?ae(t.searchChatList):ae(null),s(t.openDateFilterState),u(t.fromDateState),A(t.toDateState)}),[]),Object(a.useEffect)((function(){z&&z.chatRequestSlice&&z.chatRequestSlice.ChatRequestList&&Ve()}),[z.chatRequestSlice.ChatRequestList,z.chatRequestSlice.groupId]);var Ve=function(){var e=z.chatRequestSlice.groupId;if(null!==e){var t=(z.chatRequestSlice.ChatRequestList.length>0&&z.chatRequestSlice.ChatRequestList.filter((function(e){return null===e.assigntoAgent}))).filter((function(t){return t.agroupId===e}));M(t);var n=(z.chatRequestSlice.ChatRequestList.length>0&&z.chatRequestSlice.ChatRequestList.filter((function(e){return null!==e.assigntoAgent}))).filter((function(t){return t.agroupId===e}));E(n)}else{var a,c,i,s=z.chatRequestSlice.ChatRequestList.length>0&&z.chatRequestSlice.ChatRequestList.filter((function(e){return null===e.assigntoAgent}));if((null===(a=s[0])||void 0===a?void 0:a.profileId)!==(null===(c=k[0])||void 0===c?void 0:c.profileId))if(W()().format("h:mm a")===W()(null===(i=s[0])||void 0===i?void 0:i.msgDate).format("h:mm a"))z.chatRequestSlice.requestNotification;M(s);var r=z.chatRequestSlice.ChatRequestList.length>0&&z.chatRequestSlice.ChatRequestList.filter((function(e){return null!==e.assigntoAgent}));E(r)}};Object(a.useEffect)((function(){He()}),[G]);var He=function(){X.joinChat(G)};Object(a.useEffect)((function(){var t;!0===(null===z||void 0===z||null===(t=z.chatRequestSlice)||void 0===t?void 0:t.isJoin)&&(e.history.push({pathname:"".concat(Object(O.d)(),"dashboard/active-chats/").concat(Ee.conversation.profileId),callSendgetChatdata:!0,initiateObj:Ee}),Fe(Object(ra.f)(!1)))}),[z.chatRequestSlice.isJoin]);var Je=function(e){var t=xe;t.some((function(t){return t.chatId===e.chatId}))?t=t.filter((function(t){return t.chatId!==e.chatId})):t.push(e),Ce(t),ze(!Qe)},Ye=function(e,t,n){var a,c,i,s=W()().format("h:mm a")===W()(e.msgDate).format("h:mm a");return Object(m.jsxs)(x.a,{style:{backgroundImage:s?"linear-gradient(to right, #6ee2db , #fbf4b7)":"",backgroundColor:s?"#6ee2db":""},className:"rowRenderGridParent",container:!0,spacing:1,children:[Object(m.jsx)(x.a,{className:"rowRenderGridFirstChild",container:!0,item:!0,xs:2,children:Object(m.jsxs)("div",{className:"circleParent",children:[n&&de&&null!==e.assigntoAgent&&Object(m.jsx)("div",{className:"".concat(he?"":"circle"),style:{backgroundColor:"transparent"},onClick:function(){!function(e){var t=he;t.some((function(t){return t.chatId===e.chatId}))?t=t.filter((function(t){return t.chatId!==e.chatId})):t.push(e),Ae(t),ze(!Qe)}({profileId:e.profileId,chatId:e.chatId})},children:he.some((function(t){return t.chatId===e.chatId}))?Object(m.jsx)(ke.a,{style:{color:"#555"}}):null!==e.assigntoAgent&&Object(m.jsx)(on.a,{style:{color:"#ccc"}})}),P&&Object(m.jsx)("div",{className:"".concat(P?"":"circle"),style:{backgroundColor:"transparent"},onClick:function(){var t={profileId:e.profileId,chatId:e.chatId};Je(t)},children:xe.some((function(t){return t.chatId===e.chatId}))?Object(m.jsx)(ke.a,{style:{color:"#555"}}):null===e.assigntoAgent&&Object(m.jsx)(on.a,{style:{color:"#ccc"}})}),!P&&!de&&(e.Avatar,Object(m.jsx)("div",{children:Object(m.jsx)(ic.a,{fontSize:"default"})}))]})}),Object(m.jsx)(x.a,{container:!0,item:!0,xs:6,children:Object(m.jsxs)("div",{onClick:function(){if(P){var t={profileId:e.profileId,chatId:e.chatId};Je(t)}},children:[Object(m.jsxs)("h4",{className:"chatText",children:[(null===e||void 0===e||null===(a=e.Name)||void 0===a||null===(c=a.charAt(0))||void 0===c?void 0:c.toUpperCase())+(null===e||void 0===e||null===(i=e.Name)||void 0===i?void 0:i.slice(1)),e.cType?Object(m.jsx)("div",{className:"customer"===e.cType.toLowerCase()?"customer":"partner",children:e.cType?"".concat(e.cType):""}):null]}),Object(m.jsx)("small",{className:"profileIdText",children:e.profileId}),Object(m.jsx)("p",{className:"DepartmentName",children:e.DepartmentName}),null!==e.assigntoAgent&&Object(m.jsxs)("p",{className:"assignToAgent",children:["Assign to: ",e.assigntoAgent]}),Object(m.jsx)("p",{className:"message",children:e.message})]})}),Object(m.jsxs)(x.a,{className:"rowRenderGridThirdChild",container:!0,item:!0,xs:4,children:[Object(m.jsxs)("div",{className:"JoinButtonAndDateParent",children:[Object(m.jsx)("button",{disabled:Ze||"N"===e.ShowToAgent,onClick:function(){if(P){var n={profileId:e.profileId,chatId:e.chatId};Je(n)}else{Re({index:t,conversation:e}),function(e){var t={mobile:e.profileId.toString(),chatId:e.chatId};V(t)}(e)}},style:{filter:Ze||"N"===e.ShowToAgent?"grayscale(1)":"none"},className:"chat-action-button",children:Object(m.jsx)("p",{className:"JoinText",children:"N"===e.ShowToAgent?"Chatbot":"Join"})}),Object(m.jsx)("p",{className:"dateClass",children:W()().format("h:mm a")===W()(e.msgDate).format("h:mm a")?"Just Now":"".concat(W()(e.msgDate).fromNow())})]}),n&&!Ze&&Object(m.jsx)("div",{className:"optionsMenu",children:Object(m.jsx)(dc,{chatId:e.chatId,mobile:e.profileId,name:e.Name,color:hc,index:t,dropdownLabel:"Unassign",style:{padding:"0px"},sendChatIdandMobile:[],toggleMultiSelect:function(){return function(e){if(de)ue(!de),Ae([]);else{var t=he;t.push(e),ue(!de),Ae(t)}}({profileId:e.profileId,chatId:e.chatId})},enableSelection:de})}),n||Ze?null:Object(m.jsx)("div",{className:"optionsMenu",children:Object(m.jsx)(dc,{chatId:e.chatId,mobile:e.profileId,name:e.Name,color:hc,dropdownLabel:"Self assign",index:t,style:{padding:"0px",marginTop:"50%"},conversation:e,toggleMultiSelect:function(){return function(e){if(P)Q(!P),Ce([]);else{var t=xe;t.push(e),Q(!P),Ce(t)}}({profileId:e.profileId,chatId:e.chatId})},enableSelection:P,disabled:null!==e.assigntoAgent})})]})]})},Ue=function(e,t){console.log(e),"from"===t?u(e):(A(e),new Date(d))},We=function(){if(""!==U||i){re(!0);var e={fromDate:i&&d?W()(d).format("DD-MMM-yyyy"):"",toDate:i&&h?W()(h).format("DD-MMM-yyyy"):"",tSearch:U};Object(J.E)(e).then((function(e){if(200===e.status){var t=localStorage.getItem("email");ae(e.data.chatList),Fe(Object(ra.i)(e.data.chatList)),Fe(Object(ra.g)(!0)),Fe(Object(ra.l)(W()(h).format("DD-MMM-yyyy"))),Fe(Object(ra.d)(W()(d).format("DD-MMM-yyyy"))),re(!1),X.getChatRequestList(t)}})).catch((function(e){console.log(e)}))}else Object(O.c)("","Please insert search criteria","error")},Ke=function(e,t){if(pe(e),e){var n=t.map((function(e){return{chatId:e.chatId,profileId:e.profileId}}));Ce(n)}else Ce([])},Xe=function(){var e=xe.map((function(e){return{chatId:e.chatId}})),t=[];e.forEach((function(e){t.push(e.chatId)}));var n={ChatList:t,opType:"A"};Object(J.c)(n).then((function(e){e&&(Q(!1),Ce([]),pe(!1),Object(O.c)("Chat Assigned","Self Assigned selected chats","success"))}))};Object(a.useEffect)((function(){if(Se){var e=B.map((function(e){return{chatId:e.chatId,id:e.id}}));Ae(e)}else Ae([])}),[Se]);var Ze=z.authLoginSlice.loginData&&(null===(t=z.authLoginSlice.loginData)||void 0===t?void 0:t.isViewOnly);return Object(m.jsxs)(x.a,{style:{display:"flex"},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,style:{borderLeft:"1px solid #c3c3c3",borderRight:"1px solid #c3c3c3"},children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"chatPP",children:[Object(m.jsx)("div",{className:"chatRequestHeadingParent",children:Object(m.jsx)("p",{className:"chatHeading",children:"Chat Request"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(tc.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(m.jsxs)("div",{className:"date-picker-input-container",children:[Object(m.jsx)("div",{className:"date-picker-input",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",disableFuture:!0,id:"date-from",label:"Date From:",value:d,onChange:function(e){return Ue(e,"from")},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(m.jsx)("div",{className:"date-picker-input",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",id:"date-to",disableFuture:!0,label:"Date to:",value:h,onChange:function(e){return Ue(e,"to")},KeyboardButtonProps:{"aria-label":"change date"}})})]})}),Object(m.jsxs)("div",{className:"Abovetitle",children:[Object(m.jsx)(w.a,{title:"Press Enter to search",children:Object(m.jsxs)("div",{className:"abConversation",children:[Object(m.jsx)("div",{className:"abCon",children:Object(m.jsx)(cn,{handleOnChangeMessageSearch:function(e){return K(e.target.value)},ChatKey:"ChatRequestSearch",value:U,handleSearch:We,OnKeyPress:!0})}),Object(m.jsx)("div",{children:Object(m.jsx)(Nt.a,{onClick:We,"aria-label":"delete",children:Object(m.jsx)(pa.a,{})})})]})}),Object(m.jsx)(w.a,{title:i?"Exclude Filters":"Include Filters",children:Object(m.jsx)(Nt.a,{style:{transform:i?"rotate(180deg)":""},onClick:function(){Fe(i?Object(ra.g)(!1):Object(ra.g)(!0)),s(!i)},"aria-label":"filter",children:Object(m.jsx)(ac.a,{})})})]})]}),Object(m.jsx)("div",{children:ne&&ne?Object(m.jsxs)("div",{className:"totalParent",children:[Object(m.jsxs)("div",{style:{fontSize:"smaller",flex:2},children:["Total: ",ne&&ne.length," pending records found"]}),Object(m.jsx)("div",{style:{flex:1,textAlign:"end",paddingRight:10},children:Object(m.jsx)(Nt.a,{onClick:function(){Fe(Object(ra.i)([])),Fe(Object(ra.g)(!1)),Fe(Object(ra.l)(new Date)),Fe(Object(ra.d)(W()().subtract(1,"days"))),ae(null),s(!1)},size:"small",children:Object(m.jsx)(bc.a,{})})})]}):Object(m.jsx)("div",{})}),se&&Object(m.jsx)(De.a,{size:20}),ne&&Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsxs)("div",{style:{display:P?"flex":"none",alignItems:"center",paddingLeft:"18px"},children:[Object(m.jsx)(Me.a,{style:{height:"4vh"},className:"reasonParent",control:Object(m.jsx)(Le.a,{checked:me,onChange:function(e){return Ke(e.target.checked,k)},name:"checkedB",color:"primary"})}),Object(m.jsxs)("p",{style:{paddingRight:"9px",fontSize:"12px"},children:[xe.length," Selected"]})]}),xe.length>0?Object(m.jsx)(w.a,{title:"Self Assign",children:Object(m.jsx)(Nt.a,{onClick:function(){Xe(),ae([])},style:{paddingRight:"18px",display:xe.length>0?"flex":"none"},children:Object(m.jsx)(un.a,{style:{WebkitTransform:"scaleX(-1)"}})})}):Object(m.jsx)(w.a,{title:"Cancel",children:Object(m.jsx)(Nt.a,{onClick:function(){Q(!1),ue(!1)},style:{paddingRight:"18px",display:P?"flex":"none"},children:Object(m.jsx)(bc.a,{})})})]}),Object(m.jsx)("div",{className:"borderLine"})]}),Object(m.jsx)("div",{children:ne?Object(m.jsx)(uc.a,{style:{height:i?"74.5vh":"83.5vh"},data:ne,itemContent:function(e,t){return Ye(t,e,!1)}}):Object(m.jsxs)("div",{className:"chat-type-tabs",children:[Object(m.jsx)(sc.a,{position:"static",color:"default",children:Object(m.jsxs)(rc.a,{value:I,onChange:function(e,t){y(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(m.jsx)(w.a,{title:"out of ".concat(z.chatRequestSlice.totPending),children:Object(m.jsx)(lc.a,Object(f.a)({disabled:!0===de,label:Object(m.jsx)("div",{children:Object(m.jsx)(qe,{badgeContent:k.length,color:"primary",max:999,children:Object(m.jsx)(oc.a,{variant:"body1",className:"allRequest",children:"All Requests"})})})},Ge(0)))}),Object(m.jsx)(lc.a,Object(f.a)({disabled:!0===P,label:Object(m.jsx)("div",{children:Object(m.jsx)(qe,{badgeContent:B.length,color:"primary",max:999,children:Object(m.jsx)(oc.a,{variant:"body1",className:"selfAssign",children:"Self Assigned"})})})},Ge(1)))]})}),0===I&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsxs)("div",{style:{display:P?"flex":"none",alignItems:"center",paddingLeft:"18px"},children:[Object(m.jsx)(Me.a,{style:{height:"4vh"},className:"reasonParent",control:Object(m.jsx)(Le.a,{checked:me,onChange:function(e){return Ke(e.target.checked,k)},name:"checkedB",color:"primary"})}),Object(m.jsxs)("p",{style:{paddingRight:"9px",fontSize:"12px"},children:[xe.length," Selected"]})]}),xe.length>0?Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)(w.a,{title:"Cancel",children:Object(m.jsx)(Nt.a,{onClick:function(){Q(!P),Ce([])},style:{display:xe.length>0?"flex":"none"},children:Object(m.jsx)(ee.a,{})})}),Object(m.jsx)(w.a,{title:"Self Assign",children:Object(m.jsx)(Nt.a,{onClick:function(){return Xe()},style:{paddingRight:"18px",display:xe.length>0?"flex":"none"},children:Object(m.jsx)(un.a,{style:{WebkitTransform:"scaleX(-1)"}})})})]}):Object(m.jsx)(w.a,{title:"Cancel",children:Object(m.jsx)(Nt.a,{onClick:function(){Q(!1),ue(!1)},style:{paddingRight:"18px",display:P?"flex":"none"},children:Object(m.jsx)(bc.a,{})})})]}),Object(m.jsx)("div",{className:"tabpanelChild",children:Object(m.jsx)(uc.a,{style:{height:i?"74.5vh":"82.4vh",flexGrow:1},data:k,itemContent:function(e,t){return Ye(t,e,!1)}})})]}),1===I&&Object(m.jsxs)("div",{children:[B&&!P&&Object(m.jsx)("div",{children:Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsxs)("div",{style:{display:de?"flex":"none",alignItems:"center",paddingLeft:"18px"},children:[Object(m.jsx)(Me.a,{style:{height:"4vh"},className:"reasonParent",control:Object(m.jsx)(Le.a,{checked:Se,onChange:function(e){!function(e,t){we(e.target.checked)}(e)},name:"checkedB",color:"primary"})}),Object(m.jsxs)("p",{style:{paddingRight:"9px",fontSize:"12px"},children:[he.length," Selected"]})]}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)(w.a,{title:"Cancel",children:Object(m.jsx)(Nt.a,{onClick:function(){ue(!de),Ae([])},style:{display:he.length>0?"flex":"none"},children:Object(m.jsx)(ee.a,{})})}),Object(m.jsx)(w.a,{title:"UnAssign",children:Object(m.jsx)(Nt.a,{onClick:function(){var e=[];he.forEach((function(t){e.push(t.chatId)}));var t={ChatList:e,opType:"R"};Object(J.c)(t).then((function(e){e&&(ue(!1),Ae([]),we(!1),Object(O.c)("Chat Status","Chats Unassigned Successfully","success"))}))},style:{paddingRight:"18px",display:he.length>0?"flex":"none"},children:Object(m.jsx)(un.a,{style:{WebkitTransform:"scaleX(1)"}})})})]})]})}),Object(m.jsx)("div",{className:"tabpanelChild",children:Object(m.jsx)(uc.a,{style:{height:i?"74.5vh":"82.4vh",flexGrow:1},data:B,itemContent:function(e,t){return Ye(t,e,!0)}})})]})]})})]})})]})}Array.from({length:4e4},(function(){return y()({luminosity:"dark"})}));function gc(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),c=n[0],i=(n[1],Object(a.useState)(W()().subtract(1,"days"))),s=Object(v.a)(i,2),l=s[0],o=s[1],d=Object(a.useState)(new Date),u=Object(v.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(0),A=Object(v.a)(h,2),p=(A[0],A[1],Object(a.useState)([])),C=Object(v.a)(p,2),I=C[0],y=C[1],S=Object(a.useState)([]),N=Object(v.a)(S,2),k=(N[0],N[1],Object(a.useState)(!1)),M=Object(v.a)(k,2),D=M[0],L=M[1],B=Object(r.c)(ra.a),E=Object(a.useState)(null),R=Object(v.a)(E,2),T=R[0],P=(R[1],Object(a.useState)("")),Q=Object(v.a)(P,2),z=Q[0],F=Q[1],q=Object(a.useContext)(g.a),G=Object(a.useState)([]),V=Object(v.a)(G,2),H=V[0],Y=V[1],U=Object(a.useState)(!1),K=Object(v.a)(U,2),X=K[0],$=K[1],ee=Object(a.useState)(!1),te=Object(v.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)([]),ie=Object(v.a)(ce,2),se=ie[0],re=ie[1],le=Object(a.useState)(!1),oe=Object(v.a)(le,2),de=oe[0],ue=oe[1],je=Object(a.useState)([]),be=Object(v.a)(je,2),he=be[0],Ae=be[1],ge=Object(a.useState)(!1),Oe=Object(v.a)(ge,2),me=(Oe[0],Oe[1],Object(r.b)());e.history,Object(Z.a)((function(e){return{badge:{right:"-15px",border:"2px solid #f5f5f5",padding:"0 6px",top:"50%"}}}))(_.a);Object(a.useEffect)((function(){B&&B.chatRequestSlice&&B.chatRequestSlice.supervisorChatRequest&&pe()}),[B.chatRequestSlice.supervisorChatRequest]);var pe=function(){var e=B.chatRequestSlice.supervisorChatRequest.length>0&&B.chatRequestSlice.supervisorChatRequest;y(e)};Object(a.useEffect)((function(){fe()}),[T]);var fe=function(){q.joinChat(T)};Object(a.useEffect)((function(){var t;!0===(null===B||void 0===B||null===(t=B.chatRequestSlice)||void 0===t?void 0:t.isJoin)&&(e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/bg")),me(Object(ra.f)(!1)))}),[B.chatRequestSlice.isJoin]);var ve=function(e,t,n){return Object(m.jsxs)(x.a,{style:{backgroundImage:W()().format("h:mm a")===W()(e.msgDate).format("h:mm a")?"linear-gradient(to right, #6ee2db , #fbf4b7)":"",backgroundColor:W()().format("h:mm a")===W()(e.msgDate).format("h:mm a")?"#6ee2db":""},className:"rowRenderGridParent",container:!0,spacing:1,children:[Object(m.jsx)(x.a,{className:"rowRenderGridFirstChild",container:!0,item:!0,xs:2,children:Object(m.jsxs)("div",{className:"circleParent",children:[n&&ne&&null!==e.assigntoAgent&&Object(m.jsx)("div",{className:"".concat(se?"":"circle"),style:{backgroundColor:"transparent"},onClick:function(){!function(e){var t=se;t.some((function(t){return t.chatId===e.chatId}))?t=t.filter((function(t){return t.chatId!==e.chatId})):t.push(e),re(t)}({profileId:e.profileId,chatId:e.chatId})},children:se.some((function(t){return t.chatId===e.chatId}))?Object(m.jsx)(ke.a,{style:{color:"#555"}}):Object(m.jsx)(on.a,{style:{color:"#ccc"}})}),D&&Object(m.jsx)("div",{className:"".concat(D?"":"circle"),style:{backgroundColor:"transparent"},onClick:function(){!function(e){var t=he;t.some((function(t){return t.chatId===e.chatId}))?t=t.filter((function(t){return t.chatId!==e.chatId})):t.push(e),Ae(t)}({profileId:e.profileId,chatId:e.chatId})},children:he.some((function(t){return t.chatId===e.chatId}))?Object(m.jsx)(ke.a,{style:{color:"#555"}}):Object(m.jsx)(on.a,{style:{color:"#ccc"}})}),!D&&!ne&&(e.Avatar,Object(m.jsx)("div",{children:Object(m.jsx)(ic.a,{fontSize:"default"})}))]})}),Object(m.jsx)(x.a,{container:!0,item:!0,xs:6,children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h4",{className:"chatText",children:[e.Name.charAt(0).toUpperCase()+e.Name.slice(1),e.cType?Object(m.jsx)("div",{className:"customer"===e.cType.toLowerCase()?"customer":"partner",children:e.cType?"".concat(e.cType):""}):null]}),Object(m.jsx)("small",{className:"profileIdText",children:e.profileId}),Object(m.jsx)("p",{className:"DepartmentName",children:e.DepartmentName}),null!==e.assigntoAgent&&Object(m.jsxs)("p",{className:"assignToAgent",children:["Assign to: ",e.assigntoAgent]}),Object(m.jsx)("p",{className:"message",children:e.message})]})}),Object(m.jsx)(x.a,{className:"rowRenderGridThirdChild",container:!0,item:!0,xs:4,children:Object(m.jsx)("div",{className:"JoinButtonAndDateParent",children:Object(m.jsx)("p",{style:{fontSize:"0.5rem"},className:"dateClass",children:W()().format("h:mm a")===W()(e.msgDate).format("h:mm a")?"Just Now":"".concat(W()(e.msgDate).fromNow())})})})]})},xe=function(e,t){"from"===t?o(e):(b(e),new Date(l))},Ce=function(){$(!0);var e={fromDate:c?W()(l).format("DD-MMM-yyyy"):"",toDate:c?W()(j).format("DD-MMM-yyyy"):"",tSearch:z};Object(J.E)(e).then((function(e){200===e.status&&(Y(e.data.chatList),$(!1))})).catch((function(e){console.log(e)}))};return Object(m.jsxs)(x.a,{style:{display:"flex"},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"chatPP",children:[Object(m.jsx)("div",{className:"chatRequestHeadingParent",children:Object(m.jsx)("p",{className:"chatHeading",children:"Chat Request"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(tc.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(m.jsxs)("div",{className:"date-picker-input-container",children:[Object(m.jsx)("div",{className:"date-picker-input",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",id:"date-from",disableFuture:!0,label:"Date From:",value:l,onChange:function(e){return xe(e,"from")},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(m.jsx)("div",{className:"date-picker-input",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",disableFuture:!0,id:"date-to",label:"Date to:",value:j,onChange:function(e){return xe(e,"to")},KeyboardButtonProps:{"aria-label":"change date"}})})]})}),Object(m.jsx)("div",{className:"Abovetitle",children:Object(m.jsx)(w.a,{title:"Press Enter to search",children:Object(m.jsxs)("div",{className:"abConversation",children:[Object(m.jsx)("div",{className:"abCon",children:Object(m.jsx)(cn,{handleOnChangeMessageSearch:function(e){return F(e.target.value)},ChatKey:"ChatRequestSearch",value:z,handleSearch:Ce,OnKeyPress:!0})}),Object(m.jsx)("div",{children:Object(m.jsx)(Nt.a,{onClick:Ce,"aria-label":"delete",children:Object(m.jsx)(pa.a,{})})})]})})})]}),Object(m.jsx)("div",{children:H&&H&&H.length>0?Object(m.jsxs)("div",{className:"totalParent",children:[Object(m.jsxs)("div",{style:{fontSize:"smaller",flex:2},children:["Total: ",H&&H.length," pending records found"]}),Object(m.jsx)("div",{style:{flex:1,textAlign:"end",paddingRight:10},children:Object(m.jsx)(Nt.a,{onClick:function(){return Y([])},size:"small",children:Object(m.jsx)(bc.a,{})})})]}):Object(m.jsx)("div",{})}),Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsxs)("div",{style:{display:D?"flex":"none",alignItems:"center",paddingLeft:"18px"},children:[Object(m.jsx)(Me.a,{style:{height:"4vh"},className:"reasonParent",control:Object(m.jsx)(Le.a,{checked:de,onChange:function(e){return function(e,t){if(ue(e),e){var n=t.map((function(e){return{chatId:e.chatId,profileId:e.profileId}}));Ae(n)}else Ae([])}(e.target.checked,I)},name:"checkedB",color:"primary"})}),Object(m.jsxs)("p",{style:{paddingRight:"9px",fontSize:"12px"},children:[he.length," Selected"]})]}),he.length>0?Object(m.jsx)(w.a,{title:"Self Assign",children:Object(m.jsx)(Nt.a,{onClick:function(){return function(){var e=he.map((function(e){return{chatId:e.chatId}})),t=[];e.forEach((function(e){t.push(e.chatId)}));var n={ChatList:t,opType:"A"};Object(J.c)(n).then((function(e){e&&(L(!1),Ae([]),ue(!1),Object(O.c)("Chat Assigned","Self Assigned selected chats","success"))}))}()},style:{paddingRight:"18px",display:he.length>0?"flex":"none"},children:Object(m.jsx)(un.a,{style:{WebkitTransform:"scaleX(-1)"}})})}):Object(m.jsx)(w.a,{title:"Cancel",children:Object(m.jsx)(Nt.a,{onClick:function(){L(!1),ae(!1)},style:{paddingRight:"18px",display:D?"flex":"none"},children:Object(m.jsx)(bc.a,{})})})]}),X&&Object(m.jsx)(De.a,{size:20}),Object(m.jsx)("div",{className:"borderLine"})]}),Object(m.jsx)("div",{children:I&&I?Object(m.jsx)(uc.a,{style:{height:c?"74.5vh":"83.5vh"},data:I&&I.filter((function(e){return e.profileId.includes(z)})),itemContent:function(e,t){return ve(t,0,!1)}}):Object(m.jsx)("p",{style:{textAlign:"center"},children:"No Chat Request"})})]})})]})}n(388);var Oc=n(138),mc=n(277),pc=n.n(mc),fc=(Array.from({length:4e4},(function(){return y()({luminosity:"dark"})})),Object(Z.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(_.a));function vc(e){var t=Object(r.c)(Oc.a),n=Object(a.useState)(""),c=Object(v.a)(n,2),i=c[0],s=c[1],l=Object(a.useState)([]),o=Object(v.a)(l,2),d=o[0],u=o[1],j=Object(a.useState)(0),b=Object(v.a)(j,2),h=b[0],A=b[1],g=Object(a.useState)([]),p=Object(v.a)(g,2),C=p[0],I=p[1],y=Object(r.b)(),S=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},N=function(t,n,a){return Object(m.jsxs)(x.a,{className:"rowRenderGridParent",container:!0,spacing:1,children:[Object(m.jsx)(x.a,{className:"rowRenderGridFirstChild",container:!0,item:!0,xs:2,children:Object(m.jsx)(Kn.a,{alt:"Remy Sharp",src:t.Avatar})}),Object(m.jsx)(x.a,{container:!0,item:!0,xs:6,children:Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"chatText",children:t.ProfileName.charAt(0).toUpperCase()+t.ProfileName.slice(1)})})}),Object(m.jsx)(x.a,{className:"rowRenderGridThirdChild",container:!0,item:!0,xs:4,children:localStorage.getItem("email")===t.agentId&&Object(m.jsx)("div",{className:"infoParent",children:Object(m.jsx)(pc.a,{onClick:function(){y(Object(te.e)([t])),e.history.push({pathname:"".concat(Object(O.d)(),"dashboard/online-agents/agent-dashboard"),state:{id:t.agentId,agentName:t.ProfileName}})},style:{color:"#8d8b8b"}})})})]})};Object(a.useEffect)((function(){if(t.onlineAgentSlice.OnlineAgent){var e=t.onlineAgentSlice.OnlineAgent.filter((function(e){return"Online"===e.loginstatus}))||[],n=t.onlineAgentSlice.OnlineAgent.filter((function(e){return""===e.loginstatus}))||[];u(e),I(n)}}),[t.onlineAgentSlice.OnlineAgent]);var k=localStorage.getItem("email");return Object(m.jsxs)(x.a,{style:{display:"flex"},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,style:{borderLeft:"1px solid #c3c3c3",borderRight:"1px solid #c3c3c3"},children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"chatPP",children:[Object(m.jsx)("div",{className:"chatRequestHeadingParent",children:Object(m.jsx)("p",{className:"OnlineAgentHeading",children:"Online Agent"})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"Abovetitle",children:Object(m.jsx)(w.a,{title:"Press Enter to search",children:Object(m.jsx)("div",{className:"abConversation",children:Object(m.jsx)("div",{className:"abCon",children:Object(m.jsx)(cn,{handleOnChangeMessageSearch:function(e){return s(e.target.value.toLowerCase())},ChatKey:"ChatRequestSearch",value:i,handleSearch:function(){console.log("s")},OnKeyPress:!0})})})})})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(sc.a,{position:"static",color:"default",children:Object(m.jsxs)(rc.a,{value:h,onChange:function(e,t){A(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(m.jsx)(lc.a,Object(f.a)({label:Object(m.jsx)("div",{children:Object(m.jsx)(fc,{badgeContent:0,color:"primary",max:999,children:Object(m.jsx)(oc.a,{variant:"body1",className:"allRequest",children:"Online Agent"})})})},S(0))),Object(m.jsx)(lc.a,Object(f.a)({label:Object(m.jsx)("div",{children:Object(m.jsx)(fc,{badgeContent:0,color:"primary",max:999,children:Object(m.jsx)(oc.a,{variant:"body1",className:"selfAssign",children:"Offline Agent"})})})},S(1)))]})}),Object(m.jsx)("div",{className:"chat-type-tabs-agents",children:Object(m.jsxs)("div",{className:"tabpanelChild",children:[0===h&&d&&(null===d||void 0===d?void 0:d.length)>0&&d&&Object(m.jsx)(uc.a,{style:{height:"82.4vh",flexGrow:1},data:d.filter((function(e){return e.ProfileName.toLowerCase().includes(i)}))||d.filter((function(e){return!e.agentId.includes(t.authLoginSlice&&t.authLoginSlice.isSupervisor?null:k)})),itemContent:function(e,t){return N(t)}}),1===h&&C&&(null===C||void 0===C?void 0:C.length)>0&&C&&Object(m.jsx)(uc.a,{style:{height:"82.4vh",flexGrow:1},data:C.filter((function(e){return e.ProfileName.toLowerCase().includes(i)}))||C.filter((function(e){return!e.agentId.includes(t.authLoginSlice&&t.authLoginSlice.isSupervisor?null:k)})),itemContent:function(e,t){return N(t)}})]})})]})]})})]})}Array.from({length:4e4},(function(){return y()({luminosity:"dark"})}));var xc=Object(Z.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(_.a);function Cc(e){var t=Object(r.c)(Oc.a),n=Object(a.useState)(""),c=Object(v.a)(n,2),i=c[0],s=c[1],l=Object(a.useState)([]),o=Object(v.a)(l,2),d=o[0],u=o[1],j=Object(a.useState)([]),b=Object(v.a)(j,2),h=b[0],A=b[1],p=Object(a.useState)(0),C=Object(v.a)(p,2),I=C[0],y=C[1],S=Object(a.useContext)(g.a),N=Object(r.b)(),k=function(t){S.getActiveChatList(!1,!1,{agentId:t}),e.history.push("".concat(Object(O.d)(),"dashboard/active-chats/bg"))},M=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},D=function(n,a,c){var i=t.chatMsgListSlice.conversationObj.length>0&&t.chatMsgListSlice.conversationObj||[],s=t.authLoginSlice.isDarkMode;return Object(m.jsxs)(x.a,{style:{borderBottom:s?"1px solid rgb(105, 105, 105)":"1px solid rgb(222, 222, 222)",backgroundImage:i.find((function(e){return(null===n||void 0===n?void 0:n.agentId)===(null===e||void 0===e?void 0:e.agentId)}))?"".concat(s?"#323739":"linear-gradient(to right, #6ee2db , #fbf4b7)"):"",backgroundColor:i.find((function(e){return(null===n||void 0===n?void 0:n.agentId)===(null===e||void 0===e?void 0:e.agentId)}))?"".concat(s?"#323739":"#6ee2db"):""},className:"rowRenderGridParent",container:!0,spacing:1,children:[Object(m.jsx)(x.a,{onClick:function(){return k(n.agentId)},className:"rowRenderGridFirstChild",container:!0,item:!0,xs:2,children:Object(m.jsx)(xc,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"Online"===n.loginstatus?"dot":"offline",children:Object(m.jsx)(Kn.a,{alt:"Remy Sharp",src:n.Avatar})})}),Object(m.jsx)(x.a,{onClick:function(){return k(n.agentId)},container:!0,item:!0,xs:7,children:Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"chatText",children:n.ProfileName.charAt(0).toUpperCase()+n.ProfileName.slice(1)}),Object(m.jsxs)("p",{className:"conversation-snippet",children:["Active Chats: ",n.ActiveChats," | Self Assigned: ",null===n||void 0===n?void 0:n.SelfAssign]})]})}),Object(m.jsxs)(x.a,{className:"rowRenderGridThirdChild",container:!0,item:!0,xs:3,children:[n.MessageCount>0?Object(m.jsx)("p",{className:"counter",children:n.MessageCount}):"",Object(m.jsx)("div",{className:"infoParent",children:Object(m.jsx)(pc.a,{onClick:function(){N(Object(te.e)([n])),e.history.push({pathname:"".concat(Object(O.d)(),"dashboard/online-agents-supervisor/agent-dashboard"),state:{id:n.agentId,agentName:n.ProfileName}})},style:{color:"#8d8b8b"}})})]})]})};Object(a.useEffect)((function(){if(t.onlineAgentSlice.OnlineAgent){var e=t.onlineAgentSlice.OnlineAgent;if(e)for(var n=0;n<=e.length-1;n++){var a,c;null===(a=e[n])||void 0===a||a.MessageCount,null===(c=d[n])||void 0===c||c.MessageCount}var i=e.filter((function(e){return"Online"===e.loginstatus}))||[],s=e.filter((function(e){return""===e.loginstatus}))||[];u(i),A(s)}}),[t.onlineAgentSlice.OnlineAgent]);var L=localStorage.getItem("email");return Object(m.jsxs)(x.a,{style:{display:"flex"},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,style:{borderLeft:"1px solid #c3c3c3",borderRight:"1px solid #c3c3c3"},children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"chatPP",children:[Object(m.jsx)("div",{className:"chatRequestHeadingParent",children:Object(m.jsx)("p",{className:"OnlineAgentHeading",children:"Online Agent"})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"Abovetitle",children:Object(m.jsx)(w.a,{title:"Press Enter to search",children:Object(m.jsx)("div",{className:"abConversation",children:Object(m.jsx)("div",{className:"abCon",children:Object(m.jsx)(cn,{handleOnChangeMessageSearch:function(e){return s(e.target.value.toLowerCase())},ChatKey:"ChatRequestSearch",value:i,handleSearch:function(){console.log("s")},OnKeyPress:!0})})})})})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(sc.a,{position:"static",color:"default",children:Object(m.jsxs)(rc.a,{value:I,onChange:function(e,t){y(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(m.jsx)(lc.a,Object(f.a)({label:Object(m.jsx)("div",{children:Object(m.jsx)(xc,{badgeContent:0,color:"primary",max:999,children:Object(m.jsx)(oc.a,{variant:"body1",className:"allRequest",children:"Online Agent"})})})},M(0))),Object(m.jsx)(lc.a,Object(f.a)({label:Object(m.jsx)("div",{children:Object(m.jsx)(xc,{badgeContent:0,color:"primary",max:999,children:Object(m.jsx)(oc.a,{variant:"body1",className:"selfAssign",children:"Offline Agent"})})})},M(1)))]})}),Object(m.jsx)("div",{className:"chat-type-tabs-agents",children:Object(m.jsxs)("div",{className:"tabpanelChild",children:[0===I&&d&&(null===d||void 0===d?void 0:d.length)>0&&d&&Object(m.jsx)(uc.a,{style:{height:"82.4vh",flexGrow:1},data:d.filter((function(e){return e.ProfileName.toLowerCase().includes(i)}))||d.filter((function(e){return!e.agentId.includes(t.authLoginSlice&&t.authLoginSlice.isSupervisor?null:L)})),itemContent:function(e,t){return D(t)}}),1===I&&h&&(null===h||void 0===h?void 0:h.length)>0&&h&&Object(m.jsx)(uc.a,{style:{height:"82.4vh",flexGrow:1},data:h.filter((function(e){return e.ProfileName.toLowerCase().includes(i)}))||h.filter((function(e){return!e.agentId.includes(t.authLoginSlice&&t.authLoginSlice.isSupervisor?null:L)})),itemContent:function(e,t){return D(t)}})]})})]})]})})]})}n(737),n.p;function Ic(e){var t,n=Object(a.useState)(!1),c=Object(v.a)(n,2),i=c[0],s=c[1],l=Object(a.useState)(W()().subtract(1,"days")),o=Object(v.a)(l,2),d=o[0],u=o[1],b=Object(a.useState)(new Date),h=Object(v.a)(b,2),A=h[0],p=h[1],C=Object(a.useState)("All"),I=Object(v.a)(C,2),y=I[0],S=I[1],N=Object(a.useState)(""),k=Object(v.a)(N,2),M=k[0],D=k[1],L=Object(a.useState)(null),B=Object(v.a)(L,2),E=B[0],R=B[1],T=Object(a.useState)([]),Q=Object(v.a)(T,2),z=Q[0],F=Q[1],q=Object(a.useState)(""),G=Object(v.a)(q,2),V=G[0],H=G[1],U=Object(a.useState)(""),K=Object(v.a)(U,2),X=K[0],Z=K[1],_=Object(a.useState)(!1),$=Object(v.a)(_,2),ee=$[0],ne=$[1],ae=Object(a.useState)(null),ce=Object(v.a)(ae,2),ie=ce[0],se=ce[1],re=Object(a.useState)(!0),le=Object(v.a)(re,2),oe=le[0],de=le[1],ue=Object(r.c)(sn.a),je=Object(a.useState)(null),be=Object(v.a)(je,2),he=be[0],ge=be[1],Oe=Object(a.useState)(null),pe=Object(v.a)(Oe,2),fe=pe[0],ve=pe[1],xe=Object(a.useState)(!1),Ie=Object(v.a)(xe,2),ye=Ie[0],Se=Ie[1],we=Object(a.useState)(null),Ne=Object(v.a)(we,2),ke=Ne[0],Me=Ne[1],De=Object(a.useState)(null),Le=Object(v.a)(De,2),Be=Le[0],Ee=Le[1],Re=Object(a.useState)([]),Te=Object(v.a)(Re,2),Pe=Te[0],Qe=Te[1],ze=Object(a.useState)(""),Fe=Object(v.a)(ze,2),qe=Fe[0],Ge=Fe[1],Ve=Object(a.useRef)(null),He=Object(r.b)(),Je=Object(a.useContext)(g.a);Object(a.useEffect)((function(){var e,t=ue.filterChatSlice;null===E&&Ue(),Ye(),(null===t||void 0===t||null===(e=t.filterChats)||void 0===e?void 0:e.length)&&se(t.filterChats),(null===t||void 0===t?void 0:t.filterCount)&&Ee(t.filterCount)}),[]),Object(a.useEffect)((function(){(null===ie||void 0===ie?void 0:ie.length)&&(He(Object(Ot.c)(ie)),He(Object(Ot.d)(Be)))}),[ie]);var Ye=function(){Object(J.s)().then((function(e){F(e.data.chatReasons)})).catch((function(e){return console.log(e)}))},Ue=function(){var e={agentID:localStorage.getItem("email")};Object(J.t)(e).then((function(e){var t=[{id:"",label:"",value:""}];e.data.departmentList.forEach((function(e,n){var a={id:e.id,label:e.DepartmentName,value:e.DepartmentName};return t.push(a),!0})),R(t)}))},We=function(e){return"audio"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(Bn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"Audio"})]}):"image"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(Rn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"Photo"})]}):"video"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(Pn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"Video"})]}):"file"===e.msgType?Object(m.jsxs)("div",{className:"conversation-list-media",children:[Object(m.jsx)(zn.a,{fontSize:"small",style:{color:"#777"}}),Object(m.jsx)("p",{className:"conversation-list-media-text",children:"File"})]}):Object(m.jsx)("p",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:"0",color:"grey",fontSize:"9px",textAlign:"left"},children:e.message?e.message:""})};Object(a.useEffect)((function(){Ke()}),[fe]);var Ke=function(){Je.joinChat(fe)};Object(a.useEffect)((function(){var e;!0===(null===ue||void 0===ue||null===(e=ue.chatRequestSlice)||void 0===e?void 0:e.isJoin)&&($e(ke),He(Object(ra.f)(!1)))}),[ue.chatRequestSlice.isJoin]);Object(a.useEffect)((function(){Xe()}),[he]);var Xe=function(){Je.getChatData(he),He(Object(te.h)(!0))},_e=function(e){Se(!0),Me(e)},$e=function(t){e.history.push({pathname:"".concat(Object(O.d)(),"dashboard/active-chats/").concat(t.conversation.profileId),callSendgetChatdata:!0,initiateObj:t})},et=function(e){H(e)},tt=function(e,t){"from"===t?u(e):(p(e),new Date(d))},nt=function(e){if(e&&se(null),de(!0),i||X.length>=3){e&&(ne(!0),de(!0));var t={agentId:localStorage.getItem("email"),dateFrom:i?W()(d).format("DD-MMM-yyyy"):"",dateTo:i?W()(A).format("DD-MMM-yyyy"):"",searchP:X,searchM:i?V:"",chatType:i?y:"All",selectedAgent:null===qe||void 0===qe?void 0:qe.id,chatId:e?"0":ie[ie.length-1].chatId,departmentId:M};Object(J.f)(t).then((function(t){ne(!1),t.data.chatList.length?(t.data.listCount&&Ee(t.data.listCount),!e&&ie.length?(se([].concat(Object(Ze.a)(ie),Object(Ze.a)(t.data.chatList))),He(Object(sn.d)([].concat(Object(Ze.a)(ie),Object(Ze.a)(t.data.chatList)).length))):(t.data.chatList===[]&&de(!1),He(Object(sn.d)(t.data.chatList.length)),se(t.data.chatList))):de(!1)})).catch((function(e){return ne(!1)}))}};Object(a.useEffect)((function(){var e=[];Object(J.m)().then((function(t){var n,a;null===t||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.agentList)||void 0===a||a.forEach((function(t,n){var a={id:null===t||void 0===t?void 0:t.agentId,label:(null===t||void 0===t?void 0:t.agentId)?"".concat("Online"===(null===t||void 0===t?void 0:t.loginstatus)?"\ud83d\udfe2":"\ud83d\udd34"," ").concat(null===t||void 0===t?void 0:t.ProfileName):"",value:(null===t||void 0===t?void 0:t.agentId)?"".concat("Online"===(null===t||void 0===t?void 0:t.loginstatus)?"\ud83d\udfe2":"\ud83d\udd34"," ").concat(null===t||void 0===t?void 0:t.ProfileName):""};return e.push(a),!0}))})),Qe(e)}),[]);var at=ue.authLoginSlice.isSupervisor,ct=ue.authLoginSlice.loginData&&(null===(t=ue.authLoginSlice.loginData)||void 0===t?void 0:t.isViewOnly),it={options:Pe,getOptionLabel:function(e){return e.value}};return Object(m.jsxs)(x.a,{style:{display:"flex",zIndex:1},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,style:{borderLeft:"1px solid #c3c3c3",borderRight:"1px solid #c3c3c3"},children:Object(m.jsxs)("div",{className:"filter-chats-container",children:[Object(m.jsxs)("div",{className:i?"largeHeader filterHeader":"smallHeader filterHeader",children:[Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline"},children:Object(m.jsx)("p",{className:"chatHeadingFilter",children:"Filter"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(tc.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(m.jsxs)("div",{style:{paddingLeft:10,paddingRight:10},children:[Object(m.jsxs)(gt.a,{style:{width:"100%"},children:[Object(m.jsx)(yn.a,{id:"demo-simple-select-label",children:"Chat type"}),Object(m.jsxs)(Sn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,onChange:function(e){return function(e){S(e.target.value)}(e)},children:[Object(m.jsx)(Mt.a,{value:"All",children:"All"}),Object(m.jsx)(Mt.a,{value:"Pending",children:"Pending Chats"}),Object(m.jsx)(Mt.a,{value:"selfAssignedPending",children:"Self Assigned Pending"}),Object(m.jsx)(Mt.a,{value:"Active",children:"Active Chats"}),Object(m.jsx)(Mt.a,{value:"Close",children:"Close Chats"})]})]}),Object(m.jsx)("div",{style:{marginTop:5,marginBottom:5},children:Object(m.jsxs)(gt.a,{style:{width:"100%",fontSize:9},children:[Object(m.jsx)(yn.a,{id:"demo-simple-select-label",children:"Department"}),Object(m.jsx)(Sn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:M||0,onChange:function(e){return function(e){return D(e.target.value)}(e)},children:E&&E.map((function(e,t){return Object(m.jsx)(Mt.a,{value:e.id?e.id:0,children:e.label?e.label:"All"},t)}))})]})}),Object(m.jsx)(zt.a,Object(f.a)(Object(f.a)({},it),{},{id:"controlled-demo",value:qe,onChange:function(e,t){Ge(t)},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Agent",variant:"standard"}))}})),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"date-picker-input-container",children:[Object(m.jsx)("div",{className:"date-picker-input",children:Object(m.jsx)(ec.a,{style:{width:"100%"},disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",disableFuture:!0,id:"date-from",label:"Date From:",value:d,onChange:function(e){return tt(e,"from")},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(m.jsx)("div",{className:"date-picker-input",children:Object(m.jsx)(ec.a,{style:{width:"100%"},disableToolbar:!0,variant:"inline",disableFuture:!0,format:"dd-MMM-yyyy",margin:"normal",id:"date-to",label:"Date to:",value:A,onChange:function(e){return tt(e,"to")},KeyboardButtonProps:{"aria-label":"change date"}})})]})}),Object(m.jsx)(gt.a,{style:{width:"100%"},children:Object(m.jsx)(zt.a,{id:"free-solo-demo",freeSolo:!0,options:z.map((function(e){return e.chatReason})),onChange:function(e,t){et(t)},renderInput:function(e){return Object(m.jsx)(Ce.a,Object(f.a)(Object(f.a)({},e),{},{label:"Search message",margin:"normal",onChange:function(e){return et(e.target.value)}}))},value:V})})]})}),Object(m.jsxs)("div",{className:"Abovetitle",children:[Object(m.jsx)(w.a,{title:"Press Enter to search",children:Object(m.jsxs)("div",{className:"abConversation",children:[Object(m.jsx)("div",{className:"abCon",children:Object(m.jsx)(cn,{handleOnChangeMessageSearch:function(e){return function(e){Z(e.target.value)}(e)},ChatKey:"filterSearchQuery",placeholder:"Search by Name, Mobile no, etc",value:X,handleSearch:function(){return nt(!0)},OnKeyPress:!0})}),Object(m.jsx)("div",{children:Object(m.jsx)(Nt.a,{onClick:function(){return nt(!0)},"aria-label":"delete",children:Object(m.jsx)(pa.a,{})})})]})}),Object(m.jsx)(w.a,{title:i?"Exclude Filters":"Include Filters",children:Object(m.jsx)(Nt.a,{style:{transform:i?"rotate(180deg)":""},onClick:function(){return s(!i)},"aria-label":"filter",children:Object(m.jsx)(ac.a,{})})})]})]}),ie?Object(m.jsxs)("p",{style:{fontSize:"9px",textAlign:"center"},children:["All: ",Be.Total,"   |  Pending: ",Be.Pending," | Self Assigned: ",Be.SelfAssigned," |  Active: ",Be.Active," |  Closed: ",Be.Closed,"  "]}):null]}),Object(m.jsx)("div",{className:i?"smallList filterVirtualList":"largeList filterVirtualList",children:ee?[1,2,3,4,5].map((function(e,t){return Object(m.jsx)(w.a,{title:"Please wait",children:Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)(Y.a,{variant:"circle",width:40,height:40,style:{margin:"7px"}}),Object(m.jsx)(Y.a,{variant:"rect",height:60,style:{borderRadius:"13px",marginBottom:"31px",marginRight:"auto",width:"82%"},animation:"wave"})]})},t)})):ie&&0!==ie.length?Object(m.jsx)(uc.a,{data:ie,itemContent:function(e,t){var n=ue.chatMsgListSlice.activeProfileId;return Object(m.jsx)(x.a,{container:!0,spacing:0,children:Object(m.jsxs)("div",{style:{cursor:"pointer",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundImage:t.profileId===n?"linear-gradient(to right, #6ee2db , #fbf4b7)":"",backgroundColor:t.profileId===n?"#6ee2db":"",paddingTop:"3px",paddingBottom:"3px",borderBottom:"1px solid rgb(222, 222, 222)",borderTop:" 1px solid rgb(222, 222, 222)",borderCollapse:"collapse"},children:[Object(m.jsx)(x.a,{onClick:function(){"Pending"===t.chatStatus?He(Object(te.e)([])):function(e){He(Ae(8)),He(Object(te.e)([e]));var t={mobile:e.profileId.toString(),chatId:e.chatId.toString()};ge([t])}(t)},item:!0,xs:8,children:Object(m.jsx)(j.b,{style:{textDecoration:"none"},to:"Pending"===t.chatStatus?"".concat(Object(O.d)(),"dashboard/filter/bg"):"".concat(Object(O.d)(),"dashboard/filter/").concat(t.profileId),children:Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)(x.a,{container:!0,spacing:2,children:Object(m.jsx)(x.a,{item:!0,xs:12,children:Object(m.jsxs)("div",{className:"chat-row",children:[Object(m.jsx)(w.a,{title:t.Name,children:Object(m.jsxs)("label",{className:"chatText",children:[t.Name.charAt(0).toUpperCase()+t.Name.slice(1).substring(0,22)+"".concat(t.Name.length>22?"...":""),""===t.receiverId&&"Close"===t.chatStatus&&Object(m.jsx)(w.a,{title:"Missed chat",children:Object(m.jsx)(me.a,{className:"missed-chat-icon",fontSize:"small"})}),t.spam&&Object(m.jsx)(w.a,{title:"Spam chat",children:Object(m.jsx)(P.a,{className:"missed-chat-icon",fontSize:"small"})}),t.cType?Object(m.jsx)("div",{className:"customer"===t.cType.toLowerCase()?"customer":"partner",children:t.cType?"".concat(t.cType):""}):null]})}),Object(m.jsx)("div",{className:"agent-meta",children:Object(m.jsx)("label",{className:"department-name",children:t.profileId})}),Object(m.jsx)("div",{className:"agent-meta",children:"Pending"!==t.chatStatus&&Object(m.jsx)("label",{className:"department-name",children:"".concat(t.receiverId)})}),Object(m.jsx)("div",{className:"agent-meta",children:Object(m.jsx)("label",{className:"department-name",children:t.DepartmentName})}),Object(m.jsx)("div",{className:"agent-meta",children:null!==t.assigntoAgent&&Object(m.jsx)("label",{className:"department-name",children:"Assigned to: ".concat(t.assigntoAgent)})}),Object(m.jsx)("div",{children:We(t)})]})})})})})}),Object(m.jsx)(x.a,{item:!0,xs:4,children:Object(m.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column-reverse",alignItems:"center",paddingRight:"10px",marginBottom:"13px"},children:[Object(m.jsx)("p",{style:{marginBottom:5,color:"grey",fontWeight:"bold",fontSize:"7px",margin:0},children:W()().format("h:mm a")===W()(t.msgDate).format("h:mm a")?"Just Now":"".concat(W()(t.msgDate).fromNow())}),at||"Pending"!==t.chatStatus?null:Object(m.jsx)("div",{children:Object(m.jsx)("button",{disabled:ct||"N"===t.ShowToAgent||t.spam,onClick:function(e){!function(e){var t={mobile:e.profileId.toString(),chatId:e.chatId};Me({index:0,conversation:e}),ve(t)}(t)},className:"chat-action-button",style:{backgroundColor:"N"===t.ShowToAgent?"#C3C3C3":"#f1c40f",filter:ct||t.spam?"grayscale(1)":"none"},children:Object(m.jsx)("p",{style:{color:"white",fontSize:"10px",padding:"3px",margin:"5px"},children:"N"===t.ShowToAgent?"Chatbot":"Join"})})}),at||"Active"!==t.chatStatus?null:Object(m.jsx)("div",{children:Object(m.jsx)("button",{disabled:ct,onClick:function(n){var a={index:e,conversation:t,Initiate:"Reinitiate"};localStorage.getItem("email")!==t.receiverId?_e(a):$e(a)},className:"chat-action-button",style:{backgroundColor:"#00c7ad",filter:ct?"grayscale(1)":"none"},children:Object(m.jsx)("p",{style:{color:"white",fontSize:"9px",padding:"3px",margin:"5px"},children:localStorage.getItem("email")!==t.receiverId?"Reinitiate":"Open"})})}),at||"Close"!==t.chatStatus?null:Object(m.jsx)("div",{children:!1===t.spam?Object(m.jsx)("button",{disabled:ct,onClick:function(n){_e({index:e,conversation:t,Initiate:"Initiate"})},className:"chat-action-button",style:{backgroundColor:"#c0392b",filter:ct?"grayscale(1)":"none"},children:Object(m.jsx)("p",{style:{color:"white",fontSize:"10px",padding:"3px",margin:"5px",marginLeft:"12px",marginRight:"12px"},children:"Initiate"})}):Object(m.jsx)("button",{className:"chat-action-button",style:{filter:"grayscale(1)",cursor:"not-allowed"},children:Object(m.jsx)("p",{style:{color:"white",fontSize:"10px",padding:"3px",margin:"5px",marginLeft:"12px",marginRight:"12px"},children:"Spammed"})})})]})})})]})},e)},defaultItemHeight:80,fixedItemHeight:80,ref:Ve,endReached:function(){return oe?nt(!1):""}}):Object(m.jsx)("div",{style:{flex:1,alignItems:"center",justifyContent:"center"},children:Object(m.jsx)("p",{style:{textAlign:"center",color:"#555"},children:"No records found"})})})]})}),Object(m.jsx)(j.a,{path:"".concat(e.match.path,"/:{chatId}")}),Object(m.jsx)(Gt,{selectedInitiatePop:ye,departmentList:E,onCancel:function(){return Se(!1)},Initiatechat:function(e){Object(J.a)(e,ke).then((function(e){if(e.data.chatId){var t=Object(f.a)(Object(f.a)({},null===ke||void 0===ke?void 0:ke.conversation),{},{chatId:e.data.chatId}),n={Initiate:null===ke||void 0===ke?void 0:ke.Initiate,conversation:t,index:null===ke||void 0===ke?void 0:ke.index};$e(n)}})).catch((function(e){return console.log(e)}))},initiateObj:ke})]})}var yc,Sc=n(872),wc=n(873),Nc=n(878),kc=n.p+"static/media/monuments_img.83a91d45.png",Mc=(n(738),n(444)),Dc=n.n(Mc),Lc=Object(ve.a)(xe.a)(yc||(yc=Object(fe.a)(["\n  &:hover {\n    background-color: #303f9f !important;\n  }\n"])));var Bc=function(e){var t=Object(a.useState)(""),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(""),l=Object(v.a)(s,2),o=l[0],d=l[1],u=Object(a.useState)(null),j=Object(v.a)(u,2),b=(j[0],j[1],Object(a.useState)([])),A=Object(v.a)(b,2),p=(A[0],A[1],Object(a.useState)("")),f=Object(v.a)(p,2),C=(f[0],f[1],Object(a.useState)(!1)),I=Object(v.a)(C,2),y=(I[0],I[1]),S=Object(a.useState)(""),w=Object(v.a)(S,2),N=w[0],k=w[1],M=Object(a.useState)(!1),D=Object(v.a)(M,2),L=D[0],B=D[1],E=Object(a.useState)(!1),R=Object(v.a)(E,2),T=R[0],P=R[1],Q=Object(a.useState)(!1),z=Object(v.a)(Q,2),F=z[0],q=z[1],G=Object(r.c)(h.f),V=Object(r.b)(),H=Object(a.useContext)(g.a);return Object(a.useEffect)((function(){!function(t){if(t&&t.errorCode&&"-1"==t.errorCode.status)y(!0),k("You are already Logged In");else if(t&&t.errorCode&&"-2"==t.errorCode.status)y(!0),k("Incorrect Username or Password");else if(t&&t.errorCode&&"-99"==t.errorCode.status)y(!0),k("Incorrect Username or Password");else if(t&&t.isLogin){var n;V(Object(te.a)("")),V(Object(te.e)([])),V(Object(Ot.c)(null)),V(Object(Ot.d)(null)),localStorage.setItem("email",c),localStorage.setItem("isSupervisor",t.isSupervisor),sessionStorage.setItem("email",c),sessionStorage.setItem("p",o);var a=Object(O.d)();console.log(a);var i=null===t||void 0===t||null===(n=t.loginData)||void 0===n?void 0:n.isViewOnly;e.history.push({pathname:"".concat(a,i?"dashboard/filter/bg":"dashboard/active-chats/bg"),state:{email:c,password:o}})}B(!1)}(G.authLoginSlice)}),[G.authLoginSlice]),Object(m.jsx)(x.a,{style:{backgroundColor:"white",height:"100vh"},item:!0,xs:12,children:Object(m.jsxs)(Sc.a,{component:"main",maxWidth:"xs",children:[Object(m.jsx)(wc.a,{}),Object(m.jsxs)("div",{className:"paper",children:[Object(m.jsx)("img",{src:Fn,alt:"logo",style:{width:"20%"}}),Object(m.jsx)(oc.a,{style:{paddingTop:10},component:"h1",variant:"h5",children:"Login in"}),Object(m.jsxs)("form",{className:"form",noValidate:!0,onSubmit:function(e){e.preventDefault(),B(!0),H.login({email:c,password:o})},children:[Object(m.jsx)("p",{style:{fontSize:"13px",color:"red"},children:N}),Object(m.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){var t=e.target.value;i(t)}}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:T?"text":"password",id:"password",onKeyDown:function(e){e.getModifierState("CapsLock")?q(!0):q(!1)},onBlur:function(e,t){q(!1)},autoComplete:"current-password",onChange:function(e){var t=e.target.value;d(t)}}),Object(m.jsx)("div",{style:{position:"absolute",top:"2.5vh",right:"0vw"},children:Object(m.jsx)(Nt.a,{onClick:function(){P(!T)},color:T?"primary":"#dedede","aria-label":"upload picture",component:"span",children:Object(m.jsx)(Dc.a,{})})})]}),F&&Object(m.jsx)("p",{style:{color:"#333"},children:"Caps Lock is on!"}),Object(m.jsx)(Lc,{type:"submit",fullWidth:!0,disabled:L,variant:"contained",color:"primary",className:"submit",children:L?Object(m.jsx)(De.a,{size:20,color:"primary",style:{color:"#fff",padding:"3px"}}):Object(m.jsx)(m.Fragment,{children:"Log In"})})]})]}),Object(m.jsx)(Nc.a,{mt:1,children:Object(m.jsx)("img",{src:"data:image/png;base64,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",alt:"poweredBy",style:{margin:"0 0 0 100px"}})}),Object(m.jsx)(Nc.a,{mt:8,children:Object(m.jsx)("img",{src:kc,alt:"monument"})}),Object(m.jsx)("div",{className:"paper",children:Object(m.jsx)("h6",{children:"Version: 1.2.0"})})]})})},Ec=Array.from({length:4e4},(function(){return y()({luminosity:"dark"})})),Rc={Avatar:"https://www.tilismtechservices.com/ChatSDK/dist/img/TelloLogo.png",DepartmentName:"",LastSeen:"",MessageCount:0,Name:"Visitor Id",assignDate:null,assigntoAgent:null,cType:null,cnic:"",email:"",fromURL:"",message:"",msgClass:"read",msgCount:"hidden",msgDate:"2021-01-25T12:57:06.757",msgType:"text",profileId:"0",receiverId:""};function Tc(e){var t=Object(a.useState)(null),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),l=Object(v.a)(s,2),o=l[0],d=l[1],u=Object(a.useContext)(g.a),b=Object(r.c)(Ot.b),h=Object(a.useState)(""),A=Object(v.a)(h,2),p=A[0],C=A[1],I=Object(r.b)();Object(a.useEffect)((function(){i(b.filterChatSlice.visitorList)}),[b.filterChatSlice.visitorList]);Object(a.useEffect)((function(){u.getChatData(o),I(Object(te.h)(!1))}),[o]);var y=function(e){var t=e/60,n=Math.floor(t),a=60*(t-n),c=Math.round(a),i=0===c?"few seconds ago":"".concat(c," min");return Object(m.jsx)(m.Fragment,{children:0===n?"".concat(i):"".concat(n," hour ").concat(c," min")})},S=function(e,t,n){var a=Math.abs(new Date(e.LastIn)-new Date(e.LastOut)),c=Math.floor(a/1e3/60);return Object(m.jsx)(j.b,{to:"".concat(Object(O.d)(),"dashboard/visitors/").concat(e.VisitorID,"/details"),style:{textDecoration:"none"},children:Object(m.jsxs)(x.a,{onClick:function(){!function(e,t){I(Object(te.e)([e])),I(Object(te.d)([t]));var n={mobile:e.profileId.toString(),chatId:e.chatId?e.chatId.toString():"0"};d([n])}(e,Ec[t]),I(Ae(5))},className:"rowRenderGridParent",container:!0,spacing:1,children:[Object(m.jsx)(x.a,{className:"rowRenderGridFirstChild",container:!0,item:!0,xs:2,spacing:0,children:Object(m.jsx)("div",{className:"circleParent",children:Object(m.jsx)("div",{className:"circle",style:{backgroundColor:"".concat(Ec[t])},children:"V"})})}),Object(m.jsx)(x.a,{style:{padding:"13px"},container:!0,item:!0,xs:6,children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h4",{style:{color:"#222"},className:"chatText",children:["Visitor Id:  ",null===e||void 0===e?void 0:e.VisitorID.split("-")[0]]}),Object(m.jsxs)("small",{className:"DepartmentName",children:[Object(m.jsx)("span",{style:{fontWeight:"bold"},children:"Location: "}),e.vLocation]}),Object(m.jsx)("br",{}),Object(m.jsxs)("small",{className:"DepartmentName",children:[Object(m.jsx)("span",{style:{fontWeight:"bold"},children:"Device: "}),e.vOs,", ",e.vDevice]})]})}),Object(m.jsx)(x.a,{style:{alignItems:"center",padding:"13px",fontSize:"11px"},className:"rowRenderGridThirdChild",container:!0,item:!0,xs:4,children:Object(m.jsx)("p",{className:"timeStamp",children:y(c)})})]})})},N=null===c||void 0===c?void 0:c.map((function(e){return Object(f.a)(Object(f.a)({},e),Rc)}));return Object(m.jsxs)(x.a,{style:{display:"flex"},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,style:{borderLeft:"1px solid #c3c3c3",borderRight:"1px solid #c3c3c3"},children:Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"chatPP",children:[Object(m.jsx)("div",{className:"chatRequestHeadingParent",children:Object(m.jsx)("p",{className:"chatHeading",children:"Visitors"})}),Object(m.jsx)("div",{className:"Abovetitle",children:Object(m.jsx)(w.a,{title:"Press Enter to search",children:Object(m.jsx)("div",{className:"abConversation",children:Object(m.jsx)("div",{className:"abCon",children:Object(m.jsx)(cn,{handleOnChangeMessageSearch:function(e){return C(e.target.value)},ChatKey:"ChatRequestSearch",value:p,handleSearch:function(){return console.log("e")},OnKeyPress:!0})})})})}),Object(m.jsx)("div",{className:"borderLine"}),Object(m.jsx)("div",{children:c&&c.length>0?Object(m.jsx)(uc.a,{style:{height:"83.5vh"},data:N&&N.filter((function(e){return e.VisitorID.includes(p)})),itemContent:function(e,t){return S(t,e)}}):Object(m.jsx)("p",{style:{textAlign:"center"},children:"No Visitors"})})]})})})]})}var Pc=n(286),Qc=n(448),zc=n.n(Qc),Fc=n(449),qc=n.n(Fc),Gc=n(447),Vc=n.n(Gc),Hc=n(907),Jc=n(909),Yc=n(904),Uc=n(908),Wc=n(903),Kc=n(906),Xc=n(905),Zc=n(446),_c=n.n(Zc);function $c(e){var t=Object(a.useState)(null),n=Object(v.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(W()().subtract(1,"day")),r=Object(v.a)(s,2),l=r[0],o=r[1],d=Object(a.useState)(W()()),u=Object(v.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(!1),A=Object(v.a)(h,2),g=A[0],O=A[1];Object(a.useEffect)((function(){e.location.state.id&&p()}),[e.location.state.id,l,j]);var p=function(){var t,n,a={agentID:null===e||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.id,dateFrom:W()(l).format("DD-MMM-yyyy"),dateTo:W()(j).format("DD-MMM-yyyy")};Object(J.o)(a).then((function(e){i(e.data)}))},f=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"mainDivAnalytics",children:[Object(m.jsx)("div",{className:"descDiv",children:e.desc}),Object(m.jsxs)("div",{className:(null===e||void 0===e?void 0:e.clickable)?"contentDivClick":"contentDiv",children:[Object(m.jsxs)("div",{className:"child9",children:[Object(m.jsx)("div",{className:"iconDiv",children:e.icon}),Object(m.jsx)("div",{className:"statsDiv",children:e.stats})]}),(null===e||void 0===e?void 0:e.clickable)&&Object(m.jsx)("div",{className:"statsDiv",children:Object(m.jsx)(w.a,{title:"History",children:Object(m.jsx)(Nt.a,{style:{transform:g?"rotate(180deg)":"",padding:"0px"},onClick:function(){return O(!g)},"aria-label":"filter",children:Object(m.jsx)(_c.a,{})})})})]})]})})},x=function(e,t){"from"===t?o(e):(b(e),new Date(l))},C=c||{},I=C.TotalChats,y=void 0===I?0:I,S=C.ChatCloseIn15,N=void 0===S?0:S,k=C.ChatCloseIn30,M=void 0===k?0:k,D=C.ChatCloseIn60,L=void 0===D?0:D,B=C.ChatCloseIn60Plus,E=void 0===B?0:B,R=C.Rating1Positive,T=void 0===R?0:R,P=C.Rating1Negative,Q=void 0===P?0:P,z=C.Rating2Positive,F=void 0===z?0:z,q=C.Rating2Negative,G=void 0===q?0:q,V=C.ChatsWithRatings,H=void 0===V?0:V,Y=C.CustomerTypeList,U=void 0===Y?[]:Y;parseInt(N),parseInt(M),parseInt(L),parseInt(E);return Object(m.jsxs)("div",{className:"child1",children:[Object(m.jsx)("h2",{children:e.location.state.agentName}),Object(m.jsxs)("div",{className:"date-picker-input-container",children:[Object(m.jsx)("div",{className:"child6",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",disableFuture:!0,id:"date-from",label:"Date From:",value:l,onChange:function(e){return x(e,"from")},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(m.jsx)("div",{className:"child6",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",id:"date-to",disableFuture:!0,label:"Date to:",value:j,onChange:function(e){return x(e,"to")},KeyboardButtonProps:{"aria-label":"change date"}})})]}),Object(m.jsxs)("div",{className:"child2",children:[Object(m.jsx)(f,{desc:"TOTAL CHATS",icon:Object(m.jsx)(Vc.a,{style:{color:"rgb(28, 239, 38)"},fontSize:"large"}),stats:y,clickable:!0}),Object(m.jsx)(f,{desc:"Avg handling time",icon:Object(m.jsx)(zc.a,{style:{color:"rgb(28, 239, 38)"},fontSize:"large"}),stats:function(){var e=(parseInt(null===c||void 0===c?void 0:c.TimeFromRequest)/parseInt(null===c||void 0===c?void 0:c.TotalChats)).toFixed(0)||0,t=parseInt(null===c||void 0===c?void 0:c.TimeFromRequest)/parseInt(null===c||void 0===c?void 0:c.TotalChats)||0;return t>0&&t<1?"less then 1 minute":0===t?"0 minute":"".concat(e," minutes")}()}),Object(m.jsx)(f,{desc:"Accept to closed",icon:Object(m.jsx)(qc.a,{style:{color:"rgb(28, 239, 38)"},fontSize:"large"}),stats:function(){var e=(parseInt(null===c||void 0===c?void 0:c.TimeFromAccept)/parseInt(null===c||void 0===c?void 0:c.TotalChats)).toFixed(0)||0,t=parseInt(null===c||void 0===c?void 0:c.TimeFromAccept)/parseInt(null===c||void 0===c?void 0:c.TotalChats)||0;return t>0&&t<1?"less then 1 minute":"".concat("NaN"===e?0:e," ").concat(0===e||"NaN"===e?"minute":"minutes")}()})]}),Object(m.jsx)("div",{className:"mb",children:Object(m.jsx)(Wc.a,{children:Object(m.jsx)(Yc.a,{style:{border:"none",padding:"0px",paddingTop:10},colSpan:5,children:Object(m.jsx)(Xc.a,{in:g,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(Kc.a,{sx:{margin:1},children:Object(m.jsxs)(Hc.a,{className:"widthQuery",size:"small","aria-label":"purchases",children:[Object(m.jsx)(Uc.a,{children:Object(m.jsxs)(Wc.a,{children:[Object(m.jsx)(Yc.a,{children:"Sno"}),Object(m.jsx)(Yc.a,{children:"Customer type"}),Object(m.jsx)(Yc.a,{children:"No of Chats"})]})}),Object(m.jsx)(Jc.a,{children:null===U||void 0===U?void 0:U.map((function(e,t){return Object(m.jsxs)(Wc.a,{children:[Object(m.jsx)(Yc.a,{component:"th",scope:"row",children:t+1}),Object(m.jsx)(Yc.a,{children:null===e||void 0===e?void 0:e.cType}),Object(m.jsx)(Yc.a,{align:"right",children:null===e||void 0===e?void 0:e.totChats})]},t)}))})]})})})})})}),Object(m.jsx)("h2",{children:"Agent Reporting"}),Object(m.jsx)("p",{}),Object(m.jsxs)("div",{className:"child4",children:[M||E||L||N?Object(m.jsx)("div",{className:"child8",children:Object(m.jsx)(Pc.a,{width:"100%",height:"300px",chartType:"PieChart",loader:Object(m.jsx)("div",{children:"Loading Chart"}),data:[["Task","Hours per Day"],["15 min",""===N?1:parseInt((parseInt(N)/parseInt(y)*100).toFixed(0))],["16-30 min",""===M?1:parseInt((parseInt(M)/parseInt(y)*100).toFixed(0))],["31-60 min",""===L?1:parseInt((parseInt(L)/parseInt(y)*100).toFixed(0))],["greater than 60 min",""===E?1:parseInt((parseInt(E)/parseInt(y)*100).toFixed(0))]],options:{colors:["#249418","#3366CC","#FA9903","#DC3913"],title:" Agent response time",is3D:!0},rootProps:{"data-testid":"2"}})}):Object(m.jsx)("div",{className:"child8",children:Object(m.jsx)(Pc.a,{width:"100%",height:"300px",chartType:"PieChart",loader:Object(m.jsx)("div",{children:"Loading Chart"}),data:[["Task","Hours per Day"],["16-30 min",""===M?1:parseInt(M)],["greater than 60 min",""===E?1:parseInt(E)],["31-60 min",""===L?1:parseInt(L)],["15 min",""===N?1:parseInt(N)]],options:{title:" Agent response time",sliceVisibilityThreshold:.8,is3D:!0},rootProps:{"data-testid":"2"}})}),Object(m.jsx)("div",{className:"child7",children:Object(m.jsx)(Pc.a,{chartType:"Bar",loader:Object(m.jsx)("div",{children:"Loading Chart"}),data:[["Ratings","Positive","Negative"],["1 star",parseInt(T),parseInt(Q)],["2 star",parseInt(F),parseInt(G)]],options:{chart:{title:"Rating Performance",subtitle:"Total Rating Count ".concat(""===H?0:H)}},rootProps:{"data-testid":"2"}})})]})]})}var ei=n(910),ti=n(885),ni=n(912),ai=n(911),ci=n(888),ii=n(450),si=n.n(ii);Array.from({length:4e4},(function(){return y()({luminosity:"dark"})}));function ri(e){var t=Object(a.useState)(null),n=Object(v.a)(t,2),c=(n[0],n[1]),i=Object(a.useState)([]),s=Object(v.a)(i,2),l=s[0],o=(s[1],Object(a.useContext)(g.a)),d=Object(r.c)(Ot.b),u=Object(a.useState)(""),j=Object(v.a)(u,2),b=(j[0],j[1],Object(r.b)());Object(a.useEffect)((function(){c(d.filterChatSlice.visitorList)}),[d.filterChatSlice.visitorList]);Object(a.useEffect)((function(){o.getChatData(l),b(Object(te.h)(!1))}),[l]);return Object(m.jsxs)(x.a,{style:{display:"flex"},className:"ChatRequstParent",item:!0,xs:4,md:4,children:[Object(m.jsx)(x.a,{item:!0,xs:2,children:Object(m.jsx)(ha,Object(f.a)({},e))}),Object(m.jsx)(x.a,{item:!0,xs:10,style:{borderLeft:"1px solid #c3c3c3",borderRight:"1px solid #c3c3c3"},children:Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"chatPP",children:[Object(m.jsx)("div",{className:"chatRequestHeadingParent",children:Object(m.jsx)("p",{className:"chatHeading",children:"Services"})}),Object(m.jsx)("div",{className:"borderLine"}),Object(m.jsx)("div",{onClick:function(){e.history.push({pathname:"".concat(Object(O.d)(),"dashboard/service/agent-report"),state:{id:0,agentName:"Agent"}})},className:"child10",children:Object(m.jsx)(ei.a,{sx:{width:"100%",maxWidth:360},children:Object(m.jsxs)(ti.a,{children:[Object(m.jsx)(ai.a,{children:Object(m.jsx)(ci.a,{children:Object(m.jsx)(si.a,{})})}),Object(m.jsx)(ni.a,{primary:"Agent Report",secondary:"Reporting Table"})]})})})]})})})]})}var li=n(901),oi=n(913),di=n(889),ui=n(874),ji=n(451),bi=n(902),hi=n(452),Ai=n.n(hi);function gi(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Oi(e,t){return"desc"===e?function(e,n){return gi(e,n,t)}:function(e,n){return-gi(e,n,t)}}function mi(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function pi(e){var t=Object(a.useState)(W()().subtract(1,"day")),n=Object(v.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(W()()),l=Object(v.a)(r,2),o=l[0],d=l[1],u=c.a.useState(0),j=Object(v.a)(u,2),b=(j[0],j[1],c.a.useState(10)),h=Object(v.a)(b,2),A=(h[0],h[1],Object(a.useState)([])),g=Object(v.a)(A,2),p=g[0],f=g[1],x=c.a.useState("asc"),C=Object(v.a)(x,2),I=C[0],y=C[1],S=c.a.useState("TotalChats"),w=Object(v.a)(S,2),N=w[0],k=w[1];Object(a.useEffect)((function(){M()}),[i,o]);var M=function(){var e={dateFrom:W()(i).format("DD-MMM-yyyy"),dateTo:W()(o).format("DD-MMM-yyyy")};Object(J.p)(e).then((function(e){var t,n=[];null===e||void 0===e||null===(t=e.data)||void 0===t||t.map((function(e){var t={AgentId:null===e||void 0===e?void 0:e.AgentId,TotalChats:null===e||void 0===e?void 0:e.TotalChats,TimeFromRequest:"".concat(((null===e||void 0===e?void 0:e.TimeFromRequest)/(null===e||void 0===e?void 0:e.TotalChats)).toFixed(0)," min"),TimeFromAccept:"".concat(((null===e||void 0===e?void 0:e.TimeFromAccept)/(null===e||void 0===e?void 0:e.TotalChats)).toFixed(0)," min"),ChatCloseIn15:"".concat(((null===e||void 0===e?void 0:e.ChatCloseIn15)/(null===e||void 0===e?void 0:e.TotalChats)*100).toFixed(2),"%"),ChatCloseIn30:"".concat(((null===e||void 0===e?void 0:e.ChatCloseIn30)/(null===e||void 0===e?void 0:e.TotalChats)*100).toFixed(2),"%"),ChatCloseIn60:"".concat(((null===e||void 0===e?void 0:e.ChatCloseIn60)/(null===e||void 0===e?void 0:e.TotalChats)*100).toFixed(2),"%"),ChatCloseIn60Plus:"".concat(((null===e||void 0===e?void 0:e.ChatCloseIn60Plus)/(null===e||void 0===e?void 0:e.TotalChats)*100).toFixed(2),"%"),ChatsWithTickets:null===e||void 0===e?void 0:e.ChatsWithTickets,ChatsWithRatings:null===e||void 0===e?void 0:e.ChatsWithRatings,Rating1Positive:null===e||void 0===e?void 0:e.Rating1Positive,Rating1Negative:null===e||void 0===e?void 0:e.Rating1Negative,Rating2Positive:null===e||void 0===e?void 0:e.Rating2Positive,Rating2Negative:null===e||void 0===e?void 0:e.Rating2Negative};n.push(t)})),f(n)})).catch((function(e){console.log(e)}))},D=function(e,t){"from"===t?s(e):(d(e),new Date(i))},L=function(e,t){y(N===t&&"asc"===I?"desc":"asc"),k(t)};return Object(m.jsxs)("div",{className:"child1",children:[Object(m.jsx)("h2",{children:"Report"}),Object(m.jsxs)("div",{className:"date-picker-input-container",children:[Object(m.jsx)("div",{className:"child6",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",id:"date-from",label:"Date From:",disableFuture:!0,value:i,onChange:function(e){return D(e,"from")},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(m.jsx)("div",{className:"child6",children:Object(m.jsx)(ec.a,{disableToolbar:!0,variant:"inline",format:"dd-MMM-yyyy",margin:"normal",disableFuture:!0,id:"date-to",label:"Date to:",value:o,onChange:function(e){return D(e,"to")},KeyboardButtonProps:{"aria-label":"change date"}})})]}),Object(m.jsx)("div",{className:"downloadCSV",children:Object(m.jsx)(ji.CSVLink,{filename:"Agent report.csv",data:p,headers:O.g,children:Object(m.jsx)(bi.a,{endIcon:Object(m.jsx)(Ai.a,{}),loading:!1,loadingPosition:"end",variant:"contained",color:"success",children:"Download"})})}),Object(m.jsx)("div",{className:"child11",children:Object(m.jsx)(oi.a,{component:li.a,children:Object(m.jsxs)(Hc.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(m.jsx)(Uc.a,{children:Object(m.jsx)(Wc.a,{children:O.g.map((function(e){return Object(m.jsx)(Yc.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:N===e.key&&I,className:"bold font_size_small",children:Object(m.jsxs)(di.a,{active:N===e.key,direction:N===e.key?I:"asc",onClick:(t=e.key,function(e){L(e,t)}),children:[e.label,N===e.key?Object(m.jsx)(Kc.a,{component:"span",sx:ui.a,children:"desc"===I?"sorted descending":"sorted ascending"}):null]})},e.key);var t}))})}),Object(m.jsx)(Jc.a,{children:null!==p&&p!==[]?p&&mi(p,Oi(I,N)).map((function(e){return Object(m.jsxs)(Wc.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(m.jsx)(Yc.a,{component:"th",scope:"row",children:null===e||void 0===e?void 0:e.AgentId}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.TotalChats}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.TimeFromRequest}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.TimeFromAccept}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.ChatsWithTickets}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.ChatsWithRatings}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.ChatCloseIn15}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.ChatCloseIn30}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.ChatCloseIn60}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.ChatCloseIn60Plus}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.Rating1Positive}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.Rating1Negative}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.Rating2Positive}),Object(m.jsx)(Yc.a,{align:"left",children:null===e||void 0===e?void 0:e.Rating2Negative})]},null===e||void 0===e?void 0:e.AgentId)})):Object(m.jsx)("div",{style:{width:"98px"},children:Object(m.jsx)("p",{children:"No record found"})})})]})})})]})}var fi=function(e){return Object(m.jsx)(x.a,{className:"bannerBG",item:!0,xs:8})},vi=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsx)(j.a,{children:Object(m.jsxs)(x.a,{container:!0,spacing:0,children:[Object(m.jsx)(b.a,{path:Object(O.d)(),exact:!0,component:Bc}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard"),component:p}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/chat-request"),component:Ac}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/chat-request-supervisor"),component:gc}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/active-chats"),component:$a}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/active-chats/:id/"),component:an}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/active-chats/:id/details"),component:Xe}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/online-agents"),component:vc}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/online-agents-supervisor"),component:Cc}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/filter"),component:Ic}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/filter/:id/"),component:an}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/filter/:id/details"),component:Xe}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/visitors"),component:Tc}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/visitors/:id/"),component:an}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/visitors/:id/details"),component:Xe}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/online-agents-supervisor/agent-dashboard"),component:$c}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/service"),component:ri}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/service/agent-report"),component:pi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/online-agents/agent-dashboard"),component:$c}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/chat-request/bg"),component:fi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/chat-request-supervisor/bg"),component:fi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/active-chats/bg"),component:fi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/online-agents/bg"),component:fi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/online-agents-supervisor/bg"),component:fi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/filter/bg"),component:fi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/visitors/bg"),component:fi}),Object(m.jsx)(b.a,{path:"".concat(Object(O.d)(),"dashboard/service/bg"),component:fi})]})})}}]),n}(c.a.Component),xi=n(203),Ci=n(100),Ii=Object(ue.b)({name:"fileUploadSlice",initialState:{fileURL:null,errorCode:null},reducers:{fileUploadReducer:function(e,t){e.fileURL=t.payload},errorReducer:function(e,t){e.errorCode=t.payload}}}),yi=Ii.actions,Si=(yi.fileUploadReducer,yi.errorReducer,Ii.reducer),wi=Object(Ci.c)({authLoginSlice:h.b,activeChatSlice:sn.c,onlineAgentSlice:Oc.c,chatRequestSlice:ra.c,chatMsgListSlice:te.f,fileUploadSlice:Si,messageListSlice:ge,previewSlice:Kt.d,headerSlice:xt.a,filterChatSlice:Ot.a}),Ni=Object(ue.a)({reducer:{parentReducer:wi,middleware:[xi.a]}}),ki=n(81),Mi=n(453),Di=n.p+"static/media/chatNotification.67a2d793.mp3",Li=function(){var e=Object(a.useState)(null),t=Object(v.a)(e,2),n=t[0],c=t[1],i=Object(r.c)(ra.a),s=parseInt(i.chatRequestSlice.totPending),l=i.chatRequestSlice.requestNotification;return Object(a.useEffect)((function(){c(s)}),[]),Object(a.useEffect)((function(){s>n&&(l&&(new Audio(Di).play(),Object(O.c)("Chat Request","New chat request Arrival","success")));c(s)}),[s,l]),null},Bi=n(454),Ei=function(){return Object(m.jsxs)("div",{style:{margin:"auto",width:"50%",padding:"10px",textAlign:"center",marginTop:"30vh",color:"#777"},children:[Object(m.jsx)("h1",{children:"Cannot open multiple tabs!"}),Object(m.jsx)("h2",{children:"You already have a tab opened"})]})};var Ri=Object(Bi.withOneTabEnforcer)({appName:"tt-chat-agent",OnlyOneTabComponent:Ei})((function(){return Object(m.jsx)("div",{className:"App",style:{overflow:"hidden"},children:Object(m.jsx)(ki.a,{utils:Mi.a,children:Object(m.jsxs)(r.a,{store:Ni,children:[Object(m.jsx)(Li,{}),Object(m.jsx)(g.b,{children:Object(m.jsx)(ie.b,{children:Object(m.jsx)(vi,{})})})]})})})})),Ti=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,916)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};s.a.render(Object(m.jsxs)(c.a.StrictMode,{children:[Object(m.jsx)(sa.a,{}),Object(m.jsx)(Ri,{})]}),document.getElementById("root")),Ti()},76:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return o}));var a=n(55),c=Object(a.b)({name:"FilterChatSlice",initialState:{filterChats:null,errorCode:null,filterCount:null,visitorList:null},reducers:{filterChatReducer:function(e,t){e.filterChats=t.payload},errorReducer:function(e,t){e.errorCode=t.payload},filterTotalReducer:function(e,t){e.filterCount=t.payload},visitorListReducer:function(e,t){e.visitorList=t.payload}}}),i=c.actions,s=i.filterChatReducer,r=(i.errorReducer,i.filterTotalReducer),l=i.visitorListReducer,o=function(e){return e.parentReducer};t.a=c.reducer}},[[742,1,2]]]);
//# sourceMappingURL=main.974b3467.chunk.js.map